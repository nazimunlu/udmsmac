(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var $f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pO={exports:{}},kp={},mO={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kc=Symbol.for("react.element"),b$=Symbol.for("react.portal"),w$=Symbol.for("react.fragment"),x$=Symbol.for("react.strict_mode"),S$=Symbol.for("react.profiler"),E$=Symbol.for("react.provider"),T$=Symbol.for("react.context"),A$=Symbol.for("react.forward_ref"),P$=Symbol.for("react.suspense"),I$=Symbol.for("react.memo"),O$=Symbol.for("react.lazy"),Ox=Symbol.iterator;function C$(t){return t===null||typeof t!="object"?null:(t=Ox&&t[Ox]||t["@@iterator"],typeof t=="function"?t:null)}var gO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yO=Object.assign,vO={};function fl(t,e,n){this.props=t,this.context=e,this.refs=vO,this.updater=n||gO}fl.prototype.isReactComponent={};fl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _O(){}_O.prototype=fl.prototype;function D_(t,e,n){this.props=t,this.context=e,this.refs=vO,this.updater=n||gO}var M_=D_.prototype=new _O;M_.constructor=D_;yO(M_,fl.prototype);M_.isPureReactComponent=!0;var Cx=Array.isArray,bO=Object.prototype.hasOwnProperty,$_={current:null},wO={key:!0,ref:!0,__self:!0,__source:!0};function xO(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)bO.call(e,r)&&!wO.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Kc,type:t,key:o,ref:a,props:i,_owner:$_.current}}function k$(t,e){return{$$typeof:Kc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function L_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kc}function N$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var kx=/\/+/g;function Ig(t,e){return typeof t=="object"&&t!==null&&t.key!=null?N$(""+t.key):e.toString(36)}function Sh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Kc:case b$:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Ig(a,0):r,Cx(i)?(n="",t!=null&&(n=t.replace(kx,"$&/")+"/"),Sh(i,e,n,"",function(u){return u})):i!=null&&(L_(i)&&(i=k$(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(kx,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Cx(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Ig(o,s);a+=Sh(o,e,n,l,i)}else if(l=C$(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Ig(o,s++),a+=Sh(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Lf(t,e,n){if(t==null)return t;var r=[],i=0;return Sh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function R$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yn={current:null},Eh={transition:null},j$={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:Eh,ReactCurrentOwner:$_};function SO(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:Lf,forEach:function(t,e,n){Lf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lf(t,function(){e++}),e},toArray:function(t){return Lf(t,function(e){return e})||[]},only:function(t){if(!L_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=fl;be.Fragment=w$;be.Profiler=S$;be.PureComponent=D_;be.StrictMode=x$;be.Suspense=P$;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j$;be.act=SO;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=yO({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=$_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)bO.call(e,l)&&!wO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Kc,type:t.type,key:i,ref:o,props:r,_owner:a}};be.createContext=function(t){return t={$$typeof:T$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:E$,_context:t},t.Consumer=t};be.createElement=xO;be.createFactory=function(t){var e=xO.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:A$,render:t}};be.isValidElement=L_;be.lazy=function(t){return{$$typeof:O$,_payload:{_status:-1,_result:t},_init:R$}};be.memo=function(t,e){return{$$typeof:I$,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=Eh.transition;Eh.transition={};try{t()}finally{Eh.transition=e}};be.unstable_act=SO;be.useCallback=function(t,e){return yn.current.useCallback(t,e)};be.useContext=function(t){return yn.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return yn.current.useDeferredValue(t)};be.useEffect=function(t,e){return yn.current.useEffect(t,e)};be.useId=function(){return yn.current.useId()};be.useImperativeHandle=function(t,e,n){return yn.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return yn.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return yn.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return yn.current.useMemo(t,e)};be.useReducer=function(t,e,n){return yn.current.useReducer(t,e,n)};be.useRef=function(t){return yn.current.useRef(t)};be.useState=function(t){return yn.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return yn.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return yn.current.useTransition()};be.version="18.3.1";mO.exports=be;var M=mO.exports;const D=De(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D$=M,M$=Symbol.for("react.element"),$$=Symbol.for("react.fragment"),L$=Object.prototype.hasOwnProperty,V$=D$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,F$={key:!0,ref:!0,__self:!0,__source:!0};function EO(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)L$.call(e,r)&&!F$.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:M$,type:t,key:o,ref:a,props:i,_owner:V$.current}}kp.Fragment=$$;kp.jsx=EO;kp.jsxs=EO;pO.exports=kp;var x=pO.exports,zy={},TO={exports:{}},Fn={},AO={exports:{}},PO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var X=L.length;L.push(z);e:for(;0<X;){var ee=X-1>>>1,Y=L[ee];if(0<i(Y,z))L[ee]=z,L[X]=Y,X=ee;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],X=L.pop();if(X!==z){L[0]=X;e:for(var ee=0,Y=L.length,ne=Y>>>1;ee<ne;){var xe=2*(ee+1)-1,Ce=L[xe],et=xe+1,Pt=L[et];if(0>i(Ce,X))et<Y&&0>i(Pt,Ce)?(L[ee]=Pt,L[et]=X,ee=et):(L[ee]=Ce,L[xe]=X,ee=xe);else if(et<Y&&0>i(Pt,X))L[ee]=Pt,L[et]=X,ee=et;else break e}}return z}function i(L,z){var X=L.sortIndex-z.sortIndex;return X!==0?X:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,h=null,d=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function I(L){if(m=!1,b(L),!g)if(n(l)!==null)g=!0,W(T);else{var z=n(u);z!==null&&H(I,z.startTime-L)}}function T(L,z){g=!1,m&&(m=!1,y(E),E=-1),p=!0;var X=d;try{for(b(z),h=n(l);h!==null&&(!(h.expirationTime>z)||L&&!C());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,d=h.priorityLevel;var Y=ee(h.expirationTime<=z);z=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(l)&&r(l),b(z)}else r(l);h=n(l)}if(h!==null)var ne=!0;else{var xe=n(u);xe!==null&&H(I,xe.startTime-z),ne=!1}return ne}finally{h=null,d=X,p=!1}}var P=!1,S=null,E=-1,O=5,k=-1;function C(){return!(t.unstable_now()-k<O)}function R(){if(S!==null){var L=t.unstable_now();k=L;var z=!0;try{z=S(!0,L)}finally{z?N():(P=!1,S=null)}}else P=!1}var N;if(typeof w=="function")N=function(){w(R)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,F=V.port2;V.port1.onmessage=R,N=function(){F.postMessage(null)}}else N=function(){v(R,0)};function W(L){S=L,P||(P=!0,N())}function H(L,z){E=v(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,W(T))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var X=d;d=z;try{return L()}finally{d=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=d;d=L;try{return z()}finally{d=X}},t.unstable_scheduleCallback=function(L,z,X){var ee=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ee+X:ee):X=ee,L){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=X+Y,L={id:c++,callback:z,priorityLevel:L,startTime:X,expirationTime:Y,sortIndex:-1},X>ee?(L.sortIndex=X,e(u,L),n(l)===null&&L===n(u)&&(m?(y(E),E=-1):m=!0,H(I,X-ee))):(L.sortIndex=Y,e(l,L),g||p||(g=!0,W(T))),L},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(L){var z=d;return function(){var X=d;d=z;try{return L.apply(this,arguments)}finally{d=X}}}})(PO);AO.exports=PO;var U$=AO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B$=M,Vn=U$;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var IO=new Set,Uu={};function Ea(t,e){Ss(t,e),Ss(t+"Capture",e)}function Ss(t,e){for(Uu[t]=e,t=0;t<e.length;t++)IO.add(e[t])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wy=Object.prototype.hasOwnProperty,z$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nx={},Rx={};function W$(t){return Wy.call(Rx,t)?!0:Wy.call(Nx,t)?!1:z$.test(t)?Rx[t]=!0:(Nx[t]=!0,!1)}function H$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function q$(t,e,n,r){if(e===null||typeof e>"u"||H$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new vn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var V_=/[\-:]([a-z])/g;function F_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(V_,F_);Wt[e]=new vn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(V_,F_);Wt[e]=new vn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(V_,F_);Wt[e]=new vn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new vn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function U_(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(q$(e,n,i,r)&&(n=null),r||i===null?W$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Si=B$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vf=Symbol.for("react.element"),qa=Symbol.for("react.portal"),Ga=Symbol.for("react.fragment"),B_=Symbol.for("react.strict_mode"),Hy=Symbol.for("react.profiler"),OO=Symbol.for("react.provider"),CO=Symbol.for("react.context"),z_=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),Gy=Symbol.for("react.suspense_list"),W_=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),kO=Symbol.for("react.offscreen"),jx=Symbol.iterator;function Hl(t){return t===null||typeof t!="object"?null:(t=jx&&t[jx]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,Og;function fu(t){if(Og===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Og=e&&e[1]||""}return`
`+Og+t}var Cg=!1;function kg(t,e){if(!t||Cg)return"";Cg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Cg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fu(t):""}function G$(t){switch(t.tag){case 5:return fu(t.type);case 16:return fu("Lazy");case 13:return fu("Suspense");case 19:return fu("SuspenseList");case 0:case 2:case 15:return t=kg(t.type,!1),t;case 11:return t=kg(t.type.render,!1),t;case 1:return t=kg(t.type,!0),t;default:return""}}function Ky(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ga:return"Fragment";case qa:return"Portal";case Hy:return"Profiler";case B_:return"StrictMode";case qy:return"Suspense";case Gy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case CO:return(t.displayName||"Context")+".Consumer";case OO:return(t._context.displayName||"Context")+".Provider";case z_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W_:return e=t.displayName||null,e!==null?e:Ky(t.type)||"Memo";case Ni:e=t._payload,t=t._init;try{return Ky(t(e))}catch{}}return null}function K$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ky(e);case 8:return e===B_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function lo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function NO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function X$(t){var e=NO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ff(t){t._valueTracker||(t._valueTracker=X$(t))}function RO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=NO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xy(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=lo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jO(t,e){e=e.checked,e!=null&&U_(t,"checked",e,!1)}function Yy(t,e){jO(t,e);var n=lo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qy(t,e.type,lo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Mx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qy(t,e,n){(e!=="number"||Hh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hu=Array.isArray;function cs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+lo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $x(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(hu(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:lo(n)}}function DO(t,e){var n=lo(e.value),r=lo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Lx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function MO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?MO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uf,$O=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uf=Uf||document.createElement("div"),Uf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y$=["Webkit","ms","Moz","O"];Object.keys(bu).forEach(function(t){Y$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bu[e]=bu[t]})});function LO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bu.hasOwnProperty(t)&&bu[t]?(""+e).trim():e+"px"}function VO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=LO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Q$=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ev(t,e){if(e){if(Q$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function tv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nv=null;function H_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rv=null,fs=null,hs=null;function Vx(t){if(t=Qc(t)){if(typeof rv!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Mp(e),rv(t.stateNode,t.type,e))}}function FO(t){fs?hs?hs.push(t):hs=[t]:fs=t}function UO(){if(fs){var t=fs,e=hs;if(hs=fs=null,Vx(t),e)for(t=0;t<e.length;t++)Vx(e[t])}}function BO(t,e){return t(e)}function zO(){}var Ng=!1;function WO(t,e,n){if(Ng)return t(e,n);Ng=!0;try{return BO(t,e,n)}finally{Ng=!1,(fs!==null||hs!==null)&&(zO(),UO())}}function zu(t,e){var n=t.stateNode;if(n===null)return null;var r=Mp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var iv=!1;if(fi)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){iv=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{iv=!1}function J$(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var wu=!1,qh=null,Gh=!1,ov=null,Z$={onError:function(t){wu=!0,qh=t}};function eL(t,e,n,r,i,o,a,s,l){wu=!1,qh=null,J$.apply(Z$,arguments)}function tL(t,e,n,r,i,o,a,s,l){if(eL.apply(this,arguments),wu){if(wu){var u=qh;wu=!1,qh=null}else throw Error(Q(198));Gh||(Gh=!0,ov=u)}}function Ta(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function HO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fx(t){if(Ta(t)!==t)throw Error(Q(188))}function nL(t){var e=t.alternate;if(!e){if(e=Ta(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Fx(i),t;if(o===r)return Fx(i),e;o=o.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function qO(t){return t=nL(t),t!==null?GO(t):null}function GO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GO(t);if(e!==null)return e;t=t.sibling}return null}var KO=Vn.unstable_scheduleCallback,Ux=Vn.unstable_cancelCallback,rL=Vn.unstable_shouldYield,iL=Vn.unstable_requestPaint,dt=Vn.unstable_now,oL=Vn.unstable_getCurrentPriorityLevel,q_=Vn.unstable_ImmediatePriority,XO=Vn.unstable_UserBlockingPriority,Kh=Vn.unstable_NormalPriority,aL=Vn.unstable_LowPriority,YO=Vn.unstable_IdlePriority,Np=null,Pr=null;function sL(t){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(Np,t,void 0,(t.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:cL,lL=Math.log,uL=Math.LN2;function cL(t){return t>>>=0,t===0?32:31-(lL(t)/uL|0)|0}var Bf=64,zf=4194304;function du(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=du(s):(o&=a,o!==0&&(r=du(o)))}else a=n&~i,a!==0?r=du(a):o!==0&&(r=du(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pr(e),i=1<<n,r|=t[n],e&=~i;return r}function fL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-pr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=fL(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function av(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function QO(){var t=Bf;return Bf<<=1,!(Bf&4194240)&&(Bf=64),t}function Rg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pr(e),t[e]=n}function dL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-pr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function G_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function JO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ZO,K_,eC,tC,nC,sv=!1,Wf=[],Ki=null,Xi=null,Yi=null,Wu=new Map,Hu=new Map,Mi=[],pL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bx(t,e){switch(t){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":Wu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(e.pointerId)}}function Gl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Qc(e),e!==null&&K_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function mL(t,e,n,r,i){switch(e){case"focusin":return Ki=Gl(Ki,t,e,n,r,i),!0;case"dragenter":return Xi=Gl(Xi,t,e,n,r,i),!0;case"mouseover":return Yi=Gl(Yi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Wu.set(o,Gl(Wu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Hu.set(o,Gl(Hu.get(o)||null,t,e,n,r,i)),!0}return!1}function rC(t){var e=Bo(t.target);if(e!==null){var n=Ta(e);if(n!==null){if(e=n.tag,e===13){if(e=HO(n),e!==null){t.blockedOn=e,nC(t.priority,function(){eC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Th(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nv=r,n.target.dispatchEvent(r),nv=null}else return e=Qc(n),e!==null&&K_(e),t.blockedOn=n,!1;e.shift()}return!0}function zx(t,e,n){Th(t)&&n.delete(e)}function gL(){sv=!1,Ki!==null&&Th(Ki)&&(Ki=null),Xi!==null&&Th(Xi)&&(Xi=null),Yi!==null&&Th(Yi)&&(Yi=null),Wu.forEach(zx),Hu.forEach(zx)}function Kl(t,e){t.blockedOn===e&&(t.blockedOn=null,sv||(sv=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,gL)))}function qu(t){function e(i){return Kl(i,t)}if(0<Wf.length){Kl(Wf[0],t);for(var n=1;n<Wf.length;n++){var r=Wf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ki!==null&&Kl(Ki,t),Xi!==null&&Kl(Xi,t),Yi!==null&&Kl(Yi,t),Wu.forEach(e),Hu.forEach(e),n=0;n<Mi.length;n++)r=Mi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mi.length&&(n=Mi[0],n.blockedOn===null);)rC(n),n.blockedOn===null&&Mi.shift()}var ds=Si.ReactCurrentBatchConfig,Yh=!0;function yL(t,e,n,r){var i=Re,o=ds.transition;ds.transition=null;try{Re=1,X_(t,e,n,r)}finally{Re=i,ds.transition=o}}function vL(t,e,n,r){var i=Re,o=ds.transition;ds.transition=null;try{Re=4,X_(t,e,n,r)}finally{Re=i,ds.transition=o}}function X_(t,e,n,r){if(Yh){var i=lv(t,e,n,r);if(i===null)zg(t,e,r,Qh,n),Bx(t,r);else if(mL(i,t,e,n,r))r.stopPropagation();else if(Bx(t,r),e&4&&-1<pL.indexOf(t)){for(;i!==null;){var o=Qc(i);if(o!==null&&ZO(o),o=lv(t,e,n,r),o===null&&zg(t,e,r,Qh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else zg(t,e,r,null,n)}}var Qh=null;function lv(t,e,n,r){if(Qh=null,t=H_(r),t=Bo(t),t!==null)if(e=Ta(t),e===null)t=null;else if(n=e.tag,n===13){if(t=HO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qh=t,null}function iC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oL()){case q_:return 1;case XO:return 4;case Kh:case aL:return 16;case YO:return 536870912;default:return 16}default:return 16}}var Wi=null,Y_=null,Ah=null;function oC(){if(Ah)return Ah;var t,e=Y_,n=e.length,r,i="value"in Wi?Wi.value:Wi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Ah=i.slice(t,1<r?1-r:void 0)}function Ph(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hf(){return!0}function Wx(){return!1}function Un(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Hf:Wx,this.isPropagationStopped=Wx,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hf)},persist:function(){},isPersistent:Hf}),e}var hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Q_=Un(hl),Yc=it({},hl,{view:0,detail:0}),_L=Un(Yc),jg,Dg,Xl,Rp=it({},Yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:J_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xl&&(Xl&&t.type==="mousemove"?(jg=t.screenX-Xl.screenX,Dg=t.screenY-Xl.screenY):Dg=jg=0,Xl=t),jg)},movementY:function(t){return"movementY"in t?t.movementY:Dg}}),Hx=Un(Rp),bL=it({},Rp,{dataTransfer:0}),wL=Un(bL),xL=it({},Yc,{relatedTarget:0}),Mg=Un(xL),SL=it({},hl,{animationName:0,elapsedTime:0,pseudoElement:0}),EL=Un(SL),TL=it({},hl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AL=Un(TL),PL=it({},hl,{data:0}),qx=Un(PL),IL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CL[t])?!!e[t]:!1}function J_(){return kL}var NL=it({},Yc,{key:function(t){if(t.key){var e=IL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ph(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:J_,charCode:function(t){return t.type==="keypress"?Ph(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ph(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RL=Un(NL),jL=it({},Rp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gx=Un(jL),DL=it({},Yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:J_}),ML=Un(DL),$L=it({},hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),LL=Un($L),VL=it({},Rp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FL=Un(VL),UL=[9,13,27,32],Z_=fi&&"CompositionEvent"in window,xu=null;fi&&"documentMode"in document&&(xu=document.documentMode);var BL=fi&&"TextEvent"in window&&!xu,aC=fi&&(!Z_||xu&&8<xu&&11>=xu),Kx=String.fromCharCode(32),Xx=!1;function sC(t,e){switch(t){case"keyup":return UL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ka=!1;function zL(t,e){switch(t){case"compositionend":return lC(e);case"keypress":return e.which!==32?null:(Xx=!0,Kx);case"textInput":return t=e.data,t===Kx&&Xx?null:t;default:return null}}function WL(t,e){if(Ka)return t==="compositionend"||!Z_&&sC(t,e)?(t=oC(),Ah=Y_=Wi=null,Ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aC&&e.locale!=="ko"?null:e.data;default:return null}}var HL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HL[t.type]:e==="textarea"}function uC(t,e,n,r){FO(r),e=Jh(e,"onChange"),0<e.length&&(n=new Q_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Su=null,Gu=null;function qL(t){bC(t,0)}function jp(t){var e=Qa(t);if(RO(e))return t}function GL(t,e){if(t==="change")return e}var cC=!1;if(fi){var $g;if(fi){var Lg="oninput"in document;if(!Lg){var Qx=document.createElement("div");Qx.setAttribute("oninput","return;"),Lg=typeof Qx.oninput=="function"}$g=Lg}else $g=!1;cC=$g&&(!document.documentMode||9<document.documentMode)}function Jx(){Su&&(Su.detachEvent("onpropertychange",fC),Gu=Su=null)}function fC(t){if(t.propertyName==="value"&&jp(Gu)){var e=[];uC(e,Gu,t,H_(t)),WO(qL,e)}}function KL(t,e,n){t==="focusin"?(Jx(),Su=e,Gu=n,Su.attachEvent("onpropertychange",fC)):t==="focusout"&&Jx()}function XL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jp(Gu)}function YL(t,e){if(t==="click")return jp(e)}function QL(t,e){if(t==="input"||t==="change")return jp(e)}function JL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yr=typeof Object.is=="function"?Object.is:JL;function Ku(t,e){if(yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wy.call(e,i)||!yr(t[i],e[i]))return!1}return!0}function Zx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eS(t,e){var n=Zx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zx(n)}}function hC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dC(){for(var t=window,e=Hh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hh(t.document)}return e}function eb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ZL(t){var e=dC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hC(n.ownerDocument.documentElement,n)){if(r!==null&&eb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=eS(n,o);var a=eS(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var e4=fi&&"documentMode"in document&&11>=document.documentMode,Xa=null,uv=null,Eu=null,cv=!1;function tS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cv||Xa==null||Xa!==Hh(r)||(r=Xa,"selectionStart"in r&&eb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Eu&&Ku(Eu,r)||(Eu=r,r=Jh(uv,"onSelect"),0<r.length&&(e=new Q_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xa)))}function qf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ya={animationend:qf("Animation","AnimationEnd"),animationiteration:qf("Animation","AnimationIteration"),animationstart:qf("Animation","AnimationStart"),transitionend:qf("Transition","TransitionEnd")},Vg={},pC={};fi&&(pC=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Dp(t){if(Vg[t])return Vg[t];if(!Ya[t])return t;var e=Ya[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pC)return Vg[t]=e[n];return t}var mC=Dp("animationend"),gC=Dp("animationiteration"),yC=Dp("animationstart"),vC=Dp("transitionend"),_C=new Map,nS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vo(t,e){_C.set(t,e),Ea(e,[t])}for(var Fg=0;Fg<nS.length;Fg++){var Ug=nS[Fg],t4=Ug.toLowerCase(),n4=Ug[0].toUpperCase()+Ug.slice(1);vo(t4,"on"+n4)}vo(mC,"onAnimationEnd");vo(gC,"onAnimationIteration");vo(yC,"onAnimationStart");vo("dblclick","onDoubleClick");vo("focusin","onFocus");vo("focusout","onBlur");vo(vC,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r4=new Set("cancel close invalid load scroll toggle".split(" ").concat(pu));function rS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,tL(r,e,void 0,t),t.currentTarget=null}function bC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;rS(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;rS(i,s,u),o=l}}}if(Gh)throw t=ov,Gh=!1,ov=null,t}function Ge(t,e){var n=e[mv];n===void 0&&(n=e[mv]=new Set);var r=t+"__bubble";n.has(r)||(wC(e,t,2,!1),n.add(r))}function Bg(t,e,n){var r=0;e&&(r|=4),wC(n,t,r,e)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function Xu(t){if(!t[Gf]){t[Gf]=!0,IO.forEach(function(n){n!=="selectionchange"&&(r4.has(n)||Bg(n,!1,t),Bg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gf]||(e[Gf]=!0,Bg("selectionchange",!1,e))}}function wC(t,e,n,r){switch(iC(e)){case 1:var i=yL;break;case 4:i=vL;break;default:i=X_}n=i.bind(null,e,n,t),i=void 0,!iv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Bo(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}WO(function(){var u=o,c=H_(n),h=[];e:{var d=_C.get(t);if(d!==void 0){var p=Q_,g=t;switch(t){case"keypress":if(Ph(n)===0)break e;case"keydown":case"keyup":p=RL;break;case"focusin":g="focus",p=Mg;break;case"focusout":g="blur",p=Mg;break;case"beforeblur":case"afterblur":p=Mg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Hx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=wL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ML;break;case mC:case gC:case yC:p=EL;break;case vC:p=LL;break;case"scroll":p=_L;break;case"wheel":p=FL;break;case"copy":case"cut":case"paste":p=AL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Gx}var m=(e&4)!==0,v=!m&&t==="scroll",y=m?d!==null?d+"Capture":null:d;m=[];for(var w=u,b;w!==null;){b=w;var I=b.stateNode;if(b.tag===5&&I!==null&&(b=I,y!==null&&(I=zu(w,y),I!=null&&m.push(Yu(w,I,b)))),v)break;w=w.return}0<m.length&&(d=new p(d,g,null,n,c),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==nv&&(g=n.relatedTarget||n.fromElement)&&(Bo(g)||g[hi]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Bo(g):null,g!==null&&(v=Ta(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=Hx,I="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=Gx,I="onPointerLeave",y="onPointerEnter",w="pointer"),v=p==null?d:Qa(p),b=g==null?d:Qa(g),d=new m(I,w+"leave",p,n,c),d.target=v,d.relatedTarget=b,I=null,Bo(c)===u&&(m=new m(y,w+"enter",g,n,c),m.target=b,m.relatedTarget=v,I=m),v=I,p&&g)t:{for(m=p,y=g,w=0,b=m;b;b=Va(b))w++;for(b=0,I=y;I;I=Va(I))b++;for(;0<w-b;)m=Va(m),w--;for(;0<b-w;)y=Va(y),b--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=Va(m),y=Va(y)}m=null}else m=null;p!==null&&iS(h,d,p,m,!1),g!==null&&v!==null&&iS(h,v,g,m,!0)}}e:{if(d=u?Qa(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var T=GL;else if(Yx(d))if(cC)T=QL;else{T=XL;var P=KL}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=YL);if(T&&(T=T(t,u))){uC(h,T,n,c);break e}P&&P(t,d,u),t==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&Qy(d,"number",d.value)}switch(P=u?Qa(u):window,t){case"focusin":(Yx(P)||P.contentEditable==="true")&&(Xa=P,uv=u,Eu=null);break;case"focusout":Eu=uv=Xa=null;break;case"mousedown":cv=!0;break;case"contextmenu":case"mouseup":case"dragend":cv=!1,tS(h,n,c);break;case"selectionchange":if(e4)break;case"keydown":case"keyup":tS(h,n,c)}var S;if(Z_)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ka?sC(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(aC&&n.locale!=="ko"&&(Ka||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ka&&(S=oC()):(Wi=c,Y_="value"in Wi?Wi.value:Wi.textContent,Ka=!0)),P=Jh(u,E),0<P.length&&(E=new qx(E,t,null,n,c),h.push({event:E,listeners:P}),S?E.data=S:(S=lC(n),S!==null&&(E.data=S)))),(S=BL?zL(t,n):WL(t,n))&&(u=Jh(u,"onBeforeInput"),0<u.length&&(c=new qx("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=S))}bC(h,e)})}function Yu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=zu(t,n),o!=null&&r.unshift(Yu(t,o,i)),o=zu(t,e),o!=null&&r.push(Yu(t,o,i))),t=t.return}return r}function Va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iS(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=zu(n,o),l!=null&&a.unshift(Yu(n,l,s))):i||(l=zu(n,o),l!=null&&a.push(Yu(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var i4=/\r\n?/g,o4=/\u0000|\uFFFD/g;function oS(t){return(typeof t=="string"?t:""+t).replace(i4,`
`).replace(o4,"")}function Kf(t,e,n){if(e=oS(e),oS(t)!==e&&n)throw Error(Q(425))}function Zh(){}var fv=null,hv=null;function dv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pv=typeof setTimeout=="function"?setTimeout:void 0,a4=typeof clearTimeout=="function"?clearTimeout:void 0,aS=typeof Promise=="function"?Promise:void 0,s4=typeof queueMicrotask=="function"?queueMicrotask:typeof aS<"u"?function(t){return aS.resolve(null).then(t).catch(l4)}:pv;function l4(t){setTimeout(function(){throw t})}function Wg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qu(e)}function Qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var dl=Math.random().toString(36).slice(2),Er="__reactFiber$"+dl,Qu="__reactProps$"+dl,hi="__reactContainer$"+dl,mv="__reactEvents$"+dl,u4="__reactListeners$"+dl,c4="__reactHandles$"+dl;function Bo(t){var e=t[Er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hi]||n[Er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sS(t);t!==null;){if(n=t[Er])return n;t=sS(t)}return e}t=n,n=t.parentNode}return null}function Qc(t){return t=t[Er]||t[hi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Mp(t){return t[Qu]||null}var gv=[],Ja=-1;function _o(t){return{current:t}}function Qe(t){0>Ja||(t.current=gv[Ja],gv[Ja]=null,Ja--)}function We(t,e){Ja++,gv[Ja]=t.current,t.current=e}var uo={},an=_o(uo),En=_o(!1),aa=uo;function Es(t,e){var n=t.type.contextTypes;if(!n)return uo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tn(t){return t=t.childContextTypes,t!=null}function ed(){Qe(En),Qe(an)}function lS(t,e,n){if(an.current!==uo)throw Error(Q(168));We(an,e),We(En,n)}function xC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,K$(t)||"Unknown",i));return it({},n,r)}function td(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||uo,aa=an.current,We(an,t),We(En,En.current),!0}function uS(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=xC(t,e,aa),r.__reactInternalMemoizedMergedChildContext=t,Qe(En),Qe(an),We(an,t)):Qe(En),We(En,n)}var Yr=null,$p=!1,Hg=!1;function SC(t){Yr===null?Yr=[t]:Yr.push(t)}function f4(t){$p=!0,SC(t)}function bo(){if(!Hg&&Yr!==null){Hg=!0;var t=0,e=Re;try{var n=Yr;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yr=null,$p=!1}catch(i){throw Yr!==null&&(Yr=Yr.slice(t+1)),KO(q_,bo),i}finally{Re=e,Hg=!1}}return null}var Za=[],es=0,nd=null,rd=0,qn=[],Gn=0,sa=null,Qr=1,Jr="";function Do(t,e){Za[es++]=rd,Za[es++]=nd,nd=t,rd=e}function EC(t,e,n){qn[Gn++]=Qr,qn[Gn++]=Jr,qn[Gn++]=sa,sa=t;var r=Qr;t=Jr;var i=32-pr(r)-1;r&=~(1<<i),n+=1;var o=32-pr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qr=1<<32-pr(e)+i|n<<i|r,Jr=o+t}else Qr=1<<o|n<<i|r,Jr=t}function tb(t){t.return!==null&&(Do(t,1),EC(t,1,0))}function nb(t){for(;t===nd;)nd=Za[--es],Za[es]=null,rd=Za[--es],Za[es]=null;for(;t===sa;)sa=qn[--Gn],qn[Gn]=null,Jr=qn[--Gn],qn[Gn]=null,Qr=qn[--Gn],qn[Gn]=null}var $n=null,Rn=null,Je=!1,hr=null;function TC(t,e){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$n=t,Rn=Qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$n=t,Rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=sa!==null?{id:Qr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$n=t,Rn=null,!0):!1;default:return!1}}function yv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vv(t){if(Je){var e=Rn;if(e){var n=e;if(!cS(t,e)){if(yv(t))throw Error(Q(418));e=Qi(n.nextSibling);var r=$n;e&&cS(t,e)?TC(r,n):(t.flags=t.flags&-4097|2,Je=!1,$n=t)}}else{if(yv(t))throw Error(Q(418));t.flags=t.flags&-4097|2,Je=!1,$n=t}}}function fS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$n=t}function Xf(t){if(t!==$n)return!1;if(!Je)return fS(t),Je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dv(t.type,t.memoizedProps)),e&&(e=Rn)){if(yv(t))throw AC(),Error(Q(418));for(;e;)TC(t,e),e=Qi(e.nextSibling)}if(fS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rn=Qi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rn=null}}else Rn=$n?Qi(t.stateNode.nextSibling):null;return!0}function AC(){for(var t=Rn;t;)t=Qi(t.nextSibling)}function Ts(){Rn=$n=null,Je=!1}function rb(t){hr===null?hr=[t]:hr.push(t)}var h4=Si.ReactCurrentBatchConfig;function Yl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function Yf(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hS(t){var e=t._init;return e(t._payload)}function PC(t){function e(y,w){if(t){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=to(y,w),y.index=0,y.sibling=null,y}function o(y,w,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function s(y,w,b,I){return w===null||w.tag!==6?(w=Jg(b,y.mode,I),w.return=y,w):(w=i(w,b),w.return=y,w)}function l(y,w,b,I){var T=b.type;return T===Ga?c(y,w,b.props.children,I,b.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ni&&hS(T)===w.type)?(I=i(w,b.props),I.ref=Yl(y,w,b),I.return=y,I):(I=jh(b.type,b.key,b.props,null,y.mode,I),I.ref=Yl(y,w,b),I.return=y,I)}function u(y,w,b,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Zg(b,y.mode,I),w.return=y,w):(w=i(w,b.children||[]),w.return=y,w)}function c(y,w,b,I,T){return w===null||w.tag!==7?(w=Jo(b,y.mode,I,T),w.return=y,w):(w=i(w,b),w.return=y,w)}function h(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Jg(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vf:return b=jh(w.type,w.key,w.props,null,y.mode,b),b.ref=Yl(y,null,w),b.return=y,b;case qa:return w=Zg(w,y.mode,b),w.return=y,w;case Ni:var I=w._init;return h(y,I(w._payload),b)}if(hu(w)||Hl(w))return w=Jo(w,y.mode,b,null),w.return=y,w;Yf(y,w)}return null}function d(y,w,b,I){var T=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return T!==null?null:s(y,w,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vf:return b.key===T?l(y,w,b,I):null;case qa:return b.key===T?u(y,w,b,I):null;case Ni:return T=b._init,d(y,w,T(b._payload),I)}if(hu(b)||Hl(b))return T!==null?null:c(y,w,b,I,null);Yf(y,b)}return null}function p(y,w,b,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return y=y.get(b)||null,s(w,y,""+I,T);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Vf:return y=y.get(I.key===null?b:I.key)||null,l(w,y,I,T);case qa:return y=y.get(I.key===null?b:I.key)||null,u(w,y,I,T);case Ni:var P=I._init;return p(y,w,b,P(I._payload),T)}if(hu(I)||Hl(I))return y=y.get(b)||null,c(w,y,I,T,null);Yf(w,I)}return null}function g(y,w,b,I){for(var T=null,P=null,S=w,E=w=0,O=null;S!==null&&E<b.length;E++){S.index>E?(O=S,S=null):O=S.sibling;var k=d(y,S,b[E],I);if(k===null){S===null&&(S=O);break}t&&S&&k.alternate===null&&e(y,S),w=o(k,w,E),P===null?T=k:P.sibling=k,P=k,S=O}if(E===b.length)return n(y,S),Je&&Do(y,E),T;if(S===null){for(;E<b.length;E++)S=h(y,b[E],I),S!==null&&(w=o(S,w,E),P===null?T=S:P.sibling=S,P=S);return Je&&Do(y,E),T}for(S=r(y,S);E<b.length;E++)O=p(S,y,E,b[E],I),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?E:O.key),w=o(O,w,E),P===null?T=O:P.sibling=O,P=O);return t&&S.forEach(function(C){return e(y,C)}),Je&&Do(y,E),T}function m(y,w,b,I){var T=Hl(b);if(typeof T!="function")throw Error(Q(150));if(b=T.call(b),b==null)throw Error(Q(151));for(var P=T=null,S=w,E=w=0,O=null,k=b.next();S!==null&&!k.done;E++,k=b.next()){S.index>E?(O=S,S=null):O=S.sibling;var C=d(y,S,k.value,I);if(C===null){S===null&&(S=O);break}t&&S&&C.alternate===null&&e(y,S),w=o(C,w,E),P===null?T=C:P.sibling=C,P=C,S=O}if(k.done)return n(y,S),Je&&Do(y,E),T;if(S===null){for(;!k.done;E++,k=b.next())k=h(y,k.value,I),k!==null&&(w=o(k,w,E),P===null?T=k:P.sibling=k,P=k);return Je&&Do(y,E),T}for(S=r(y,S);!k.done;E++,k=b.next())k=p(S,y,E,k.value,I),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?E:k.key),w=o(k,w,E),P===null?T=k:P.sibling=k,P=k);return t&&S.forEach(function(R){return e(y,R)}),Je&&Do(y,E),T}function v(y,w,b,I){if(typeof b=="object"&&b!==null&&b.type===Ga&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Vf:e:{for(var T=b.key,P=w;P!==null;){if(P.key===T){if(T=b.type,T===Ga){if(P.tag===7){n(y,P.sibling),w=i(P,b.props.children),w.return=y,y=w;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ni&&hS(T)===P.type){n(y,P.sibling),w=i(P,b.props),w.ref=Yl(y,P,b),w.return=y,y=w;break e}n(y,P);break}else e(y,P);P=P.sibling}b.type===Ga?(w=Jo(b.props.children,y.mode,I,b.key),w.return=y,y=w):(I=jh(b.type,b.key,b.props,null,y.mode,I),I.ref=Yl(y,w,b),I.return=y,y=I)}return a(y);case qa:e:{for(P=b.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(y,w.sibling),w=i(w,b.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=Zg(b,y.mode,I),w.return=y,y=w}return a(y);case Ni:return P=b._init,v(y,w,P(b._payload),I)}if(hu(b))return g(y,w,b,I);if(Hl(b))return m(y,w,b,I);Yf(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,b),w.return=y,y=w):(n(y,w),w=Jg(b,y.mode,I),w.return=y,y=w),a(y)):n(y,w)}return v}var As=PC(!0),IC=PC(!1),id=_o(null),od=null,ts=null,ib=null;function ob(){ib=ts=od=null}function ab(t){var e=id.current;Qe(id),t._currentValue=e}function _v(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ps(t,e){od=t,ib=ts=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xn=!0),t.firstContext=null)}function er(t){var e=t._currentValue;if(ib!==t)if(t={context:t,memoizedValue:e,next:null},ts===null){if(od===null)throw Error(Q(308));ts=t,od.dependencies={lanes:0,firstContext:t}}else ts=ts.next=t;return e}var zo=null;function sb(t){zo===null?zo=[t]:zo.push(t)}function OC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,sb(e)):(n.next=i.next,i.next=n),e.interleaved=n,di(t,r)}function di(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ri=!1;function lb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ai(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ji(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,di(t,n)}return i=r.interleaved,i===null?(e.next=e,sb(r)):(e.next=i.next,i.next=e),r.interleaved=e,di(t,n)}function Ih(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,G_(t,n)}}function dS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ad(t,e,n,r){var i=t.updateQueue;Ri=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,m=s;switch(d=e,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){h=g.call(p,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,d=typeof g=="function"?g.call(p,h,d):g,d==null)break e;h=it({},h,d);break e;case 2:Ri=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ua|=a,t.lanes=a,t.memoizedState=h}}function pS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var Jc={},Ir=_o(Jc),Ju=_o(Jc),Zu=_o(Jc);function Wo(t){if(t===Jc)throw Error(Q(174));return t}function ub(t,e){switch(We(Zu,e),We(Ju,t),We(Ir,Jc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zy(e,t)}Qe(Ir),We(Ir,e)}function Ps(){Qe(Ir),Qe(Ju),Qe(Zu)}function kC(t){Wo(Zu.current);var e=Wo(Ir.current),n=Zy(e,t.type);e!==n&&(We(Ju,t),We(Ir,n))}function cb(t){Ju.current===t&&(Qe(Ir),Qe(Ju))}var nt=_o(0);function sd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qg=[];function fb(){for(var t=0;t<qg.length;t++)qg[t]._workInProgressVersionPrimary=null;qg.length=0}var Oh=Si.ReactCurrentDispatcher,Gg=Si.ReactCurrentBatchConfig,la=0,rt=null,xt=null,Ct=null,ld=!1,Tu=!1,ec=0,d4=0;function Yt(){throw Error(Q(321))}function hb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yr(t[n],e[n]))return!1;return!0}function db(t,e,n,r,i,o){if(la=o,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oh.current=t===null||t.memoizedState===null?y4:v4,t=n(r,i),Tu){o=0;do{if(Tu=!1,ec=0,25<=o)throw Error(Q(301));o+=1,Ct=xt=null,e.updateQueue=null,Oh.current=_4,t=n(r,i)}while(Tu)}if(Oh.current=ud,e=xt!==null&&xt.next!==null,la=0,Ct=xt=rt=null,ld=!1,e)throw Error(Q(300));return t}function pb(){var t=ec!==0;return ec=0,t}function Sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?rt.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function tr(){if(xt===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=Ct===null?rt.memoizedState:Ct.next;if(e!==null)Ct=e,xt=t;else{if(t===null)throw Error(Q(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Ct===null?rt.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function tc(t,e){return typeof e=="function"?e(t):e}function Kg(t){var e=tr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=xt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((la&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=h,a=r):l=l.next=h,rt.lanes|=c,ua|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,yr(r,e.memoizedState)||(xn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,rt.lanes|=o,ua|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xg(t){var e=tr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);yr(o,e.memoizedState)||(xn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function NC(){}function RC(t,e){var n=rt,r=tr(),i=e(),o=!yr(r.memoizedState,i);if(o&&(r.memoizedState=i,xn=!0),r=r.queue,mb(MC.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,nc(9,DC.bind(null,n,r,i,e),void 0,null),Nt===null)throw Error(Q(349));la&30||jC(n,e,i)}return i}function jC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DC(t,e,n,r){e.value=n,e.getSnapshot=r,$C(e)&&LC(t)}function MC(t,e,n){return n(function(){$C(e)&&LC(t)})}function $C(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yr(t,n)}catch{return!0}}function LC(t){var e=di(t,1);e!==null&&mr(e,t,1,-1)}function mS(t){var e=Sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:t},e.queue=t,t=t.dispatch=g4.bind(null,rt,t),[e.memoizedState,t]}function nc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function VC(){return tr().memoizedState}function Ch(t,e,n,r){var i=Sr();rt.flags|=t,i.memoizedState=nc(1|e,n,void 0,r===void 0?null:r)}function Lp(t,e,n,r){var i=tr();r=r===void 0?null:r;var o=void 0;if(xt!==null){var a=xt.memoizedState;if(o=a.destroy,r!==null&&hb(r,a.deps)){i.memoizedState=nc(e,n,o,r);return}}rt.flags|=t,i.memoizedState=nc(1|e,n,o,r)}function gS(t,e){return Ch(8390656,8,t,e)}function mb(t,e){return Lp(2048,8,t,e)}function FC(t,e){return Lp(4,2,t,e)}function UC(t,e){return Lp(4,4,t,e)}function BC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zC(t,e,n){return n=n!=null?n.concat([t]):null,Lp(4,4,BC.bind(null,e,t),n)}function gb(){}function WC(t,e){var n=tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HC(t,e){var n=tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qC(t,e,n){return la&21?(yr(n,e)||(n=QO(),rt.lanes|=n,ua|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xn=!0),t.memoizedState=n)}function p4(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=Gg.transition;Gg.transition={};try{t(!1),e()}finally{Re=n,Gg.transition=r}}function GC(){return tr().memoizedState}function m4(t,e,n){var r=eo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KC(t))XC(e,n);else if(n=OC(t,e,n,r),n!==null){var i=mn();mr(n,t,r,i),YC(n,e,r)}}function g4(t,e,n){var r=eo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KC(t))XC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,yr(s,a)){var l=e.interleaved;l===null?(i.next=i,sb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=OC(t,e,i,r),n!==null&&(i=mn(),mr(n,t,r,i),YC(n,e,r))}}function KC(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function XC(t,e){Tu=ld=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function YC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,G_(t,n)}}var ud={readContext:er,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},y4={readContext:er,useCallback:function(t,e){return Sr().memoizedState=[t,e===void 0?null:e],t},useContext:er,useEffect:gS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ch(4194308,4,BC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ch(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ch(4,2,t,e)},useMemo:function(t,e){var n=Sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=m4.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=Sr();return t={current:t},e.memoizedState=t},useState:mS,useDebugValue:gb,useDeferredValue:function(t){return Sr().memoizedState=t},useTransition:function(){var t=mS(!1),e=t[0];return t=p4.bind(null,t[1]),Sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,i=Sr();if(Je){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Nt===null)throw Error(Q(349));la&30||jC(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,gS(MC.bind(null,r,o,t),[t]),r.flags|=2048,nc(9,DC.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Sr(),e=Nt.identifierPrefix;if(Je){var n=Jr,r=Qr;n=(r&~(1<<32-pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ec++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=d4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},v4={readContext:er,useCallback:WC,useContext:er,useEffect:mb,useImperativeHandle:zC,useInsertionEffect:FC,useLayoutEffect:UC,useMemo:HC,useReducer:Kg,useRef:VC,useState:function(){return Kg(tc)},useDebugValue:gb,useDeferredValue:function(t){var e=tr();return qC(e,xt.memoizedState,t)},useTransition:function(){var t=Kg(tc)[0],e=tr().memoizedState;return[t,e]},useMutableSource:NC,useSyncExternalStore:RC,useId:GC,unstable_isNewReconciler:!1},_4={readContext:er,useCallback:WC,useContext:er,useEffect:mb,useImperativeHandle:zC,useInsertionEffect:FC,useLayoutEffect:UC,useMemo:HC,useReducer:Xg,useRef:VC,useState:function(){return Xg(tc)},useDebugValue:gb,useDeferredValue:function(t){var e=tr();return xt===null?e.memoizedState=t:qC(e,xt.memoizedState,t)},useTransition:function(){var t=Xg(tc)[0],e=tr().memoizedState;return[t,e]},useMutableSource:NC,useSyncExternalStore:RC,useId:GC,unstable_isNewReconciler:!1};function ur(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function bv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vp={isMounted:function(t){return(t=t._reactInternals)?Ta(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mn(),i=eo(t),o=ai(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ji(t,o,i),e!==null&&(mr(e,t,i,r),Ih(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mn(),i=eo(t),o=ai(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ji(t,o,i),e!==null&&(mr(e,t,i,r),Ih(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mn(),r=eo(t),i=ai(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ji(t,i,r),e!==null&&(mr(e,t,r,n),Ih(e,t,r))}};function yS(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Ku(n,r)||!Ku(i,o):!0}function QC(t,e,n){var r=!1,i=uo,o=e.contextType;return typeof o=="object"&&o!==null?o=er(o):(i=Tn(e)?aa:an.current,r=e.contextTypes,o=(r=r!=null)?Es(t,i):uo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function vS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vp.enqueueReplaceState(e,e.state,null)}function wv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},lb(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=er(o):(o=Tn(e)?aa:an.current,i.context=Es(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(bv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vp.enqueueReplaceState(i,i.state,null),ad(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Is(t,e){try{var n="",r=e;do n+=G$(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Yg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var b4=typeof WeakMap=="function"?WeakMap:Map;function JC(t,e,n){n=ai(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fd||(fd=!0,Nv=r),xv(t,e)},n}function ZC(t,e,n){n=ai(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){xv(t,e),typeof r!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function _S(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new b4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=j4.bind(null,t,e,n),e.then(t,t))}function bS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ai(-1,1),e.tag=2,Ji(n,e,1))),n.lanes|=1),t)}var w4=Si.ReactCurrentOwner,xn=!1;function fn(t,e,n,r){e.child=t===null?IC(e,null,n,r):As(e,t.child,n,r)}function xS(t,e,n,r,i){n=n.render;var o=e.ref;return ps(e,i),r=db(t,e,n,r,o,i),n=pb(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(Je&&n&&tb(e),e.flags|=1,fn(t,e,r,i),e.child)}function SS(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Eb(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,ek(t,e,o,r,i)):(t=jh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ku,n(a,r)&&t.ref===e.ref)return pi(t,e,i)}return e.flags|=1,t=to(o,r),t.ref=e.ref,t.return=e,e.child=t}function ek(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ku(o,r)&&t.ref===e.ref)if(xn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(xn=!0);else return e.lanes=t.lanes,pi(t,e,i)}return Sv(t,e,n,r,i)}function tk(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(rs,Cn),Cn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(rs,Cn),Cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,We(rs,Cn),Cn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,We(rs,Cn),Cn|=r;return fn(t,e,i,n),e.child}function nk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sv(t,e,n,r,i){var o=Tn(n)?aa:an.current;return o=Es(e,o),ps(e,i),n=db(t,e,n,r,o,i),r=pb(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(Je&&r&&tb(e),e.flags|=1,fn(t,e,n,i),e.child)}function ES(t,e,n,r,i){if(Tn(n)){var o=!0;td(e)}else o=!1;if(ps(e,i),e.stateNode===null)kh(t,e),QC(e,n,r),wv(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=er(u):(u=Tn(n)?aa:an.current,u=Es(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&vS(e,a,r,u),Ri=!1;var d=e.memoizedState;a.state=d,ad(e,r,a,i),l=e.memoizedState,s!==r||d!==l||En.current||Ri?(typeof c=="function"&&(bv(e,n,c,r),l=e.memoizedState),(s=Ri||yS(e,n,s,r,d,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,CC(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:ur(e.type,s),a.props=u,h=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=er(l):(l=Tn(n)?aa:an.current,l=Es(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||d!==l)&&vS(e,a,r,l),Ri=!1,d=e.memoizedState,a.state=d,ad(e,r,a,i);var g=e.memoizedState;s!==h||d!==g||En.current||Ri?(typeof p=="function"&&(bv(e,n,p,r),g=e.memoizedState),(u=Ri||yS(e,n,u,r,d,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Ev(t,e,n,r,o,i)}function Ev(t,e,n,r,i,o){nk(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&uS(e,n,!1),pi(t,e,o);r=e.stateNode,w4.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=As(e,t.child,null,o),e.child=As(e,null,s,o)):fn(t,e,s,o),e.memoizedState=r.state,i&&uS(e,n,!0),e.child}function rk(t){var e=t.stateNode;e.pendingContext?lS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lS(t,e.context,!1),ub(t,e.containerInfo)}function TS(t,e,n,r,i){return Ts(),rb(i),e.flags|=256,fn(t,e,n,r),e.child}var Tv={dehydrated:null,treeContext:null,retryLane:0};function Av(t){return{baseLanes:t,cachePool:null,transitions:null}}function ik(t,e,n){var r=e.pendingProps,i=nt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),We(nt,i&1),t===null)return vv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Bp(a,r,0,null),t=Jo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Av(n),e.memoizedState=Tv,t):yb(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return x4(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=to(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=to(s,o):(o=Jo(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Av(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Tv,r}return o=t.child,t=o.sibling,r=to(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yb(t,e){return e=Bp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qf(t,e,n,r){return r!==null&&rb(r),As(e,t.child,null,n),t=yb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function x4(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Yg(Error(Q(422))),Qf(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Bp({mode:"visible",children:r.children},i,0,null),o=Jo(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&As(e,t.child,null,a),e.child.memoizedState=Av(a),e.memoizedState=Tv,o);if(!(e.mode&1))return Qf(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Q(419)),r=Yg(o,r,void 0),Qf(t,e,a,r)}if(s=(a&t.childLanes)!==0,xn||s){if(r=Nt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,di(t,i),mr(r,t,i,-1))}return Sb(),r=Yg(Error(Q(421))),Qf(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=D4.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Rn=Qi(i.nextSibling),$n=e,Je=!0,hr=null,t!==null&&(qn[Gn++]=Qr,qn[Gn++]=Jr,qn[Gn++]=sa,Qr=t.id,Jr=t.overflow,sa=e),e=yb(e,r.children),e.flags|=4096,e)}function AS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_v(t.return,e,n)}function Qg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ok(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(fn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&AS(t,n,e);else if(t.tag===19)AS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(nt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qg(e,!0,n,null,o);break;case"together":Qg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ua|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=to(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=to(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function S4(t,e,n){switch(e.tag){case 3:rk(e),Ts();break;case 5:kC(e);break;case 1:Tn(e.type)&&td(e);break;case 4:ub(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;We(id,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?ik(t,e,n):(We(nt,nt.current&1),t=pi(t,e,n),t!==null?t.sibling:null);We(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ok(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,tk(t,e,n)}return pi(t,e,n)}var ak,Pv,sk,lk;ak=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pv=function(){};sk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Wo(Ir.current);var o=null;switch(n){case"input":i=Xy(t,i),r=Xy(t,r),o=[];break;case"select":i=it({},i,{value:void 0}),r=it({},r,{value:void 0}),o=[];break;case"textarea":i=Jy(t,i),r=Jy(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zh)}ev(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Uu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Uu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ge("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};lk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ql(t,e){if(!Je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function E4(t,e,n){var r=e.pendingProps;switch(nb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return Tn(e.type)&&ed(),Qt(e),null;case 3:return r=e.stateNode,Ps(),Qe(En),Qe(an),fb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hr!==null&&(Dv(hr),hr=null))),Pv(t,e),Qt(e),null;case 5:cb(e);var i=Wo(Zu.current);if(n=e.type,t!==null&&e.stateNode!=null)sk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Qt(e),null}if(t=Wo(Ir.current),Xf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Er]=e,r[Qu]=o,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<pu.length;i++)Ge(pu[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":Dx(r,o),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ge("invalid",r);break;case"textarea":$x(r,o),Ge("invalid",r)}ev(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Kf(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Kf(r.textContent,s,t),i=["children",""+s]):Uu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ge("scroll",r)}switch(n){case"input":Ff(r),Mx(r,o,!0);break;case"textarea":Ff(r),Lx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Zh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=MO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Er]=e,t[Qu]=r,ak(t,e,!1,!1),e.stateNode=t;e:{switch(a=tv(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),i=r;break;case"iframe":case"object":case"embed":Ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<pu.length;i++)Ge(pu[i],t);i=r;break;case"source":Ge("error",t),i=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),i=r;break;case"details":Ge("toggle",t),i=r;break;case"input":Dx(t,r),i=Xy(t,r),Ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=it({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":$x(t,r),i=Jy(t,r),Ge("invalid",t);break;default:i=r}ev(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?VO(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$O(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bu(t,l):typeof l=="number"&&Bu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Uu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ge("scroll",t):l!=null&&U_(t,o,l,a))}switch(n){case"input":Ff(t),Mx(t,r,!1);break;case"textarea":Ff(t),Lx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+lo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?cs(t,!!r.multiple,o,!1):r.defaultValue!=null&&cs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)lk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Wo(Zu.current),Wo(Ir.current),Xf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Er]=e,(o=r.nodeValue!==n)&&(t=$n,t!==null))switch(t.tag){case 3:Kf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kf(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Er]=e,e.stateNode=r}return Qt(e),null;case 13:if(Qe(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&Rn!==null&&e.mode&1&&!(e.flags&128))AC(),Ts(),e.flags|=98560,o=!1;else if(o=Xf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Q(317));o[Er]=e}else Ts(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),o=!1}else hr!==null&&(Dv(hr),hr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?Et===0&&(Et=3):Sb())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return Ps(),Pv(t,e),t===null&&Xu(e.stateNode.containerInfo),Qt(e),null;case 10:return ab(e.type._context),Qt(e),null;case 17:return Tn(e.type)&&ed(),Qt(e),null;case 19:if(Qe(nt),o=e.memoizedState,o===null)return Qt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Ql(o,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=sd(t),a!==null){for(e.flags|=128,Ql(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(nt,nt.current&1|2),e.child}t=t.sibling}o.tail!==null&&dt()>Os&&(e.flags|=128,r=!0,Ql(o,!1),e.lanes=4194304)}else{if(!r)if(t=sd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ql(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Je)return Qt(e),null}else 2*dt()-o.renderingStartTime>Os&&n!==1073741824&&(e.flags|=128,r=!0,Ql(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=dt(),e.sibling=null,n=nt.current,We(nt,r?n&1|2:n&1),e):(Qt(e),null);case 22:case 23:return xb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Cn&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function T4(t,e){switch(nb(e),e.tag){case 1:return Tn(e.type)&&ed(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ps(),Qe(En),Qe(an),fb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cb(e),null;case 13:if(Qe(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Ts()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(nt),null;case 4:return Ps(),null;case 10:return ab(e.type._context),null;case 22:case 23:return xb(),null;case 24:return null;default:return null}}var Jf=!1,tn=!1,A4=typeof WeakSet=="function"?WeakSet:Set,re=null;function ns(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function Iv(t,e,n){try{n()}catch(r){lt(t,e,r)}}var PS=!1;function P4(t,e){if(fv=Yh,t=dC(),eb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(s=a+i),h!==o||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hv={focusedElem:t,selectionRange:n},Yh=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:ur(e.type,m),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(I){lt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return g=PS,PS=!1,g}function Au(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Iv(e,n,o)}i=i.next}while(i!==r)}}function Fp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ov(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uk(t){var e=t.alternate;e!==null&&(t.alternate=null,uk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Er],delete e[Qu],delete e[mv],delete e[u4],delete e[c4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ck(t){return t.tag===5||t.tag===3||t.tag===4}function IS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ck(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zh));else if(r!==4&&(t=t.child,t!==null))for(Cv(t,e,n),t=t.sibling;t!==null;)Cv(t,e,n),t=t.sibling}function kv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kv(t,e,n),t=t.sibling;t!==null;)kv(t,e,n),t=t.sibling}var $t=null,cr=!1;function Ci(t,e,n){for(n=n.child;n!==null;)fk(t,e,n),n=n.sibling}function fk(t,e,n){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(Np,n)}catch{}switch(n.tag){case 5:tn||ns(n,e);case 6:var r=$t,i=cr;$t=null,Ci(t,e,n),$t=r,cr=i,$t!==null&&(cr?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(cr?(t=$t,n=n.stateNode,t.nodeType===8?Wg(t.parentNode,n):t.nodeType===1&&Wg(t,n),qu(t)):Wg($t,n.stateNode));break;case 4:r=$t,i=cr,$t=n.stateNode.containerInfo,cr=!0,Ci(t,e,n),$t=r,cr=i;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Iv(n,e,a),i=i.next}while(i!==r)}Ci(t,e,n);break;case 1:if(!tn&&(ns(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){lt(n,e,s)}Ci(t,e,n);break;case 21:Ci(t,e,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,Ci(t,e,n),tn=r):Ci(t,e,n);break;default:Ci(t,e,n)}}function OS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new A4),e.forEach(function(r){var i=M4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:$t=s.stateNode,cr=!1;break e;case 3:$t=s.stateNode.containerInfo,cr=!0;break e;case 4:$t=s.stateNode.containerInfo,cr=!0;break e}s=s.return}if($t===null)throw Error(Q(160));fk(o,a,i),$t=null,cr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){lt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hk(e,t),e=e.sibling}function hk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sr(e,t),xr(t),r&4){try{Au(3,t,t.return),Fp(3,t)}catch(m){lt(t,t.return,m)}try{Au(5,t,t.return)}catch(m){lt(t,t.return,m)}}break;case 1:sr(e,t),xr(t),r&512&&n!==null&&ns(n,n.return);break;case 5:if(sr(e,t),xr(t),r&512&&n!==null&&ns(n,n.return),t.flags&32){var i=t.stateNode;try{Bu(i,"")}catch(m){lt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&jO(i,o),tv(s,a);var u=tv(s,o);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];c==="style"?VO(i,h):c==="dangerouslySetInnerHTML"?$O(i,h):c==="children"?Bu(i,h):U_(i,c,h,u)}switch(s){case"input":Yy(i,o);break;case"textarea":DO(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?cs(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?cs(i,!!o.multiple,o.defaultValue,!0):cs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Qu]=o}catch(m){lt(t,t.return,m)}}break;case 6:if(sr(e,t),xr(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){lt(t,t.return,m)}}break;case 3:if(sr(e,t),xr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qu(e.containerInfo)}catch(m){lt(t,t.return,m)}break;case 4:sr(e,t),xr(t);break;case 13:sr(e,t),xr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(bb=dt())),r&4&&OS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(tn=(u=tn)||c,sr(e,t),tn=u):sr(e,t),xr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(re=t,c=t.child;c!==null;){for(h=re=c;re!==null;){switch(d=re,p=d.child,d.tag){case 0:case 11:case 14:case 15:Au(4,d,d.return);break;case 1:ns(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){lt(r,n,m)}}break;case 5:ns(d,d.return);break;case 22:if(d.memoizedState!==null){kS(h);continue}}p!==null?(p.return=d,re=p):kS(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=LO("display",a))}catch(m){lt(t,t.return,m)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){lt(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:sr(e,t),xr(t),r&4&&OS(t);break;case 21:break;default:sr(e,t),xr(t)}}function xr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ck(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bu(i,""),r.flags&=-33);var o=IS(t);kv(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=IS(t);Cv(t,s,a);break;default:throw Error(Q(161))}}catch(l){lt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function I4(t,e,n){re=t,dk(t)}function dk(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Jf;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||tn;s=Jf;var u=tn;if(Jf=a,(tn=l)&&!u)for(re=i;re!==null;)a=re,l=a.child,a.tag===22&&a.memoizedState!==null?NS(i):l!==null?(l.return=a,re=l):NS(i);for(;o!==null;)re=o,dk(o),o=o.sibling;re=i,Jf=s,tn=u}CS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,re=o):CS(t)}}function CS(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||Fp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ur(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&pS(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pS(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&qu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}tn||e.flags&512&&Ov(e)}catch(d){lt(e,e.return,d)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function kS(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function NS(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fp(4,e)}catch(l){lt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){lt(e,i,l)}}var o=e.return;try{Ov(e)}catch(l){lt(e,o,l)}break;case 5:var a=e.return;try{Ov(e)}catch(l){lt(e,a,l)}}}catch(l){lt(e,e.return,l)}if(e===t){re=null;break}var s=e.sibling;if(s!==null){s.return=e.return,re=s;break}re=e.return}}var O4=Math.ceil,cd=Si.ReactCurrentDispatcher,vb=Si.ReactCurrentOwner,Qn=Si.ReactCurrentBatchConfig,Te=0,Nt=null,yt=null,Ut=0,Cn=0,rs=_o(0),Et=0,rc=null,ua=0,Up=0,_b=0,Pu=null,bn=null,bb=0,Os=1/0,Kr=null,fd=!1,Nv=null,Zi=null,Zf=!1,Hi=null,hd=0,Iu=0,Rv=null,Nh=-1,Rh=0;function mn(){return Te&6?dt():Nh!==-1?Nh:Nh=dt()}function eo(t){return t.mode&1?Te&2&&Ut!==0?Ut&-Ut:h4.transition!==null?(Rh===0&&(Rh=QO()),Rh):(t=Re,t!==0||(t=window.event,t=t===void 0?16:iC(t.type)),t):1}function mr(t,e,n,r){if(50<Iu)throw Iu=0,Rv=null,Error(Q(185));Xc(t,n,r),(!(Te&2)||t!==Nt)&&(t===Nt&&(!(Te&2)&&(Up|=n),Et===4&&$i(t,Ut)),An(t,r),n===1&&Te===0&&!(e.mode&1)&&(Os=dt()+500,$p&&bo()))}function An(t,e){var n=t.callbackNode;hL(t,e);var r=Xh(t,t===Nt?Ut:0);if(r===0)n!==null&&Ux(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ux(n),e===1)t.tag===0?f4(RS.bind(null,t)):SC(RS.bind(null,t)),s4(function(){!(Te&6)&&bo()}),n=null;else{switch(JO(r)){case 1:n=q_;break;case 4:n=XO;break;case 16:n=Kh;break;case 536870912:n=YO;break;default:n=Kh}n=wk(n,pk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pk(t,e){if(Nh=-1,Rh=0,Te&6)throw Error(Q(327));var n=t.callbackNode;if(ms()&&t.callbackNode!==n)return null;var r=Xh(t,t===Nt?Ut:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dd(t,r);else{e=r;var i=Te;Te|=2;var o=gk();(Nt!==t||Ut!==e)&&(Kr=null,Os=dt()+500,Qo(t,e));do try{N4();break}catch(s){mk(t,s)}while(1);ob(),cd.current=o,Te=i,yt!==null?e=0:(Nt=null,Ut=0,e=Et)}if(e!==0){if(e===2&&(i=av(t),i!==0&&(r=i,e=jv(t,i))),e===1)throw n=rc,Qo(t,0),$i(t,r),An(t,dt()),n;if(e===6)$i(t,r);else{if(i=t.current.alternate,!(r&30)&&!C4(i)&&(e=dd(t,r),e===2&&(o=av(t),o!==0&&(r=o,e=jv(t,o))),e===1))throw n=rc,Qo(t,0),$i(t,r),An(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:Mo(t,bn,Kr);break;case 3:if($i(t,r),(r&130023424)===r&&(e=bb+500-dt(),10<e)){if(Xh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pv(Mo.bind(null,t,bn,Kr),e);break}Mo(t,bn,Kr);break;case 4:if($i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-pr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O4(r/1960))-r,10<r){t.timeoutHandle=pv(Mo.bind(null,t,bn,Kr),r);break}Mo(t,bn,Kr);break;case 5:Mo(t,bn,Kr);break;default:throw Error(Q(329))}}}return An(t,dt()),t.callbackNode===n?pk.bind(null,t):null}function jv(t,e){var n=Pu;return t.current.memoizedState.isDehydrated&&(Qo(t,e).flags|=256),t=dd(t,e),t!==2&&(e=bn,bn=n,e!==null&&Dv(e)),t}function Dv(t){bn===null?bn=t:bn.push.apply(bn,t)}function C4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!yr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $i(t,e){for(e&=~_b,e&=~Up,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pr(e),r=1<<n;t[n]=-1,e&=~r}}function RS(t){if(Te&6)throw Error(Q(327));ms();var e=Xh(t,0);if(!(e&1))return An(t,dt()),null;var n=dd(t,e);if(t.tag!==0&&n===2){var r=av(t);r!==0&&(e=r,n=jv(t,r))}if(n===1)throw n=rc,Qo(t,0),$i(t,e),An(t,dt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mo(t,bn,Kr),An(t,dt()),null}function wb(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Os=dt()+500,$p&&bo())}}function ca(t){Hi!==null&&Hi.tag===0&&!(Te&6)&&ms();var e=Te;Te|=1;var n=Qn.transition,r=Re;try{if(Qn.transition=null,Re=1,t)return t()}finally{Re=r,Qn.transition=n,Te=e,!(Te&6)&&bo()}}function xb(){Cn=rs.current,Qe(rs)}function Qo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,a4(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(nb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ed();break;case 3:Ps(),Qe(En),Qe(an),fb();break;case 5:cb(r);break;case 4:Ps();break;case 13:Qe(nt);break;case 19:Qe(nt);break;case 10:ab(r.type._context);break;case 22:case 23:xb()}n=n.return}if(Nt=t,yt=t=to(t.current,null),Ut=Cn=e,Et=0,rc=null,_b=Up=ua=0,bn=Pu=null,zo!==null){for(e=0;e<zo.length;e++)if(n=zo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}zo=null}return t}function mk(t,e){do{var n=yt;try{if(ob(),Oh.current=ud,ld){for(var r=rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ld=!1}if(la=0,Ct=xt=rt=null,Tu=!1,ec=0,vb.current=null,n===null||n.return===null){Et=1,rc=e,yt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Ut,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=bS(a);if(p!==null){p.flags&=-257,wS(p,a,s,o,e),p.mode&1&&_S(o,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){_S(o,u,e),Sb();break e}l=Error(Q(426))}}else if(Je&&s.mode&1){var v=bS(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),wS(v,a,s,o,e),rb(Is(l,s));break e}}o=l=Is(l,s),Et!==4&&(Et=2),Pu===null?Pu=[o]:Pu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=JC(o,l,e);dS(o,y);break e;case 1:s=l;var w=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Zi===null||!Zi.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=ZC(o,s,e);dS(o,I);break e}}o=o.return}while(o!==null)}vk(n)}catch(T){e=T,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(1)}function gk(){var t=cd.current;return cd.current=ud,t===null?ud:t}function Sb(){(Et===0||Et===3||Et===2)&&(Et=4),Nt===null||!(ua&268435455)&&!(Up&268435455)||$i(Nt,Ut)}function dd(t,e){var n=Te;Te|=2;var r=gk();(Nt!==t||Ut!==e)&&(Kr=null,Qo(t,e));do try{k4();break}catch(i){mk(t,i)}while(1);if(ob(),Te=n,cd.current=r,yt!==null)throw Error(Q(261));return Nt=null,Ut=0,Et}function k4(){for(;yt!==null;)yk(yt)}function N4(){for(;yt!==null&&!rL();)yk(yt)}function yk(t){var e=bk(t.alternate,t,Cn);t.memoizedProps=t.pendingProps,e===null?vk(t):yt=e,vb.current=null}function vk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=T4(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,yt=null;return}}else if(n=E4(n,e,Cn),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);Et===0&&(Et=5)}function Mo(t,e,n){var r=Re,i=Qn.transition;try{Qn.transition=null,Re=1,R4(t,e,n,r)}finally{Qn.transition=i,Re=r}return null}function R4(t,e,n,r){do ms();while(Hi!==null);if(Te&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(dL(t,o),t===Nt&&(yt=Nt=null,Ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zf||(Zf=!0,wk(Kh,function(){return ms(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Qn.transition,Qn.transition=null;var a=Re;Re=1;var s=Te;Te|=4,vb.current=null,P4(t,n),hk(n,t),ZL(hv),Yh=!!fv,hv=fv=null,t.current=n,I4(n),iL(),Te=s,Re=a,Qn.transition=o}else t.current=n;if(Zf&&(Zf=!1,Hi=t,hd=i),o=t.pendingLanes,o===0&&(Zi=null),sL(n.stateNode),An(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fd)throw fd=!1,t=Nv,Nv=null,t;return hd&1&&t.tag!==0&&ms(),o=t.pendingLanes,o&1?t===Rv?Iu++:(Iu=0,Rv=t):Iu=0,bo(),null}function ms(){if(Hi!==null){var t=JO(hd),e=Qn.transition,n=Re;try{if(Qn.transition=null,Re=16>t?16:t,Hi===null)var r=!1;else{if(t=Hi,Hi=null,hd=0,Te&6)throw Error(Q(331));var i=Te;for(Te|=4,re=t.current;re!==null;){var o=re,a=o.child;if(re.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(re=u;re!==null;){var c=re;switch(c.tag){case 0:case 11:case 15:Au(8,c,o)}var h=c.child;if(h!==null)h.return=c,re=h;else for(;re!==null;){c=re;var d=c.sibling,p=c.return;if(uk(c),c===u){re=null;break}if(d!==null){d.return=p,re=d;break}re=p}}}var g=o.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}re=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,re=a;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Au(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,re=y;break e}re=o.return}}var w=t.current;for(re=w;re!==null;){a=re;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,re=b;else e:for(a=w;re!==null;){if(s=re,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Fp(9,s)}}catch(T){lt(s,s.return,T)}if(s===a){re=null;break e}var I=s.sibling;if(I!==null){I.return=s.return,re=I;break e}re=s.return}}if(Te=i,bo(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(Np,t)}catch{}r=!0}return r}finally{Re=n,Qn.transition=e}}return!1}function jS(t,e,n){e=Is(n,e),e=JC(t,e,1),t=Ji(t,e,1),e=mn(),t!==null&&(Xc(t,1,e),An(t,e))}function lt(t,e,n){if(t.tag===3)jS(t,t,n);else for(;e!==null;){if(e.tag===3){jS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zi===null||!Zi.has(r))){t=Is(n,t),t=ZC(e,t,1),e=Ji(e,t,1),t=mn(),e!==null&&(Xc(e,1,t),An(e,t));break}}e=e.return}}function j4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mn(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(Ut&n)===n&&(Et===4||Et===3&&(Ut&130023424)===Ut&&500>dt()-bb?Qo(t,0):_b|=n),An(t,e)}function _k(t,e){e===0&&(t.mode&1?(e=zf,zf<<=1,!(zf&130023424)&&(zf=4194304)):e=1);var n=mn();t=di(t,e),t!==null&&(Xc(t,e,n),An(t,n))}function D4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_k(t,n)}function M4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),_k(t,n)}var bk;bk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)xn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xn=!1,S4(t,e,n);xn=!!(t.flags&131072)}else xn=!1,Je&&e.flags&1048576&&EC(e,rd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;kh(t,e),t=e.pendingProps;var i=Es(e,an.current);ps(e,n),i=db(null,e,r,t,i,n);var o=pb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tn(r)?(o=!0,td(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lb(e),i.updater=Vp,e.stateNode=i,i._reactInternals=e,wv(e,r,t,n),e=Ev(null,e,r,!0,o,n)):(e.tag=0,Je&&o&&tb(e),fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(kh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=L4(r),t=ur(r,t),i){case 0:e=Sv(null,e,r,t,n);break e;case 1:e=ES(null,e,r,t,n);break e;case 11:e=xS(null,e,r,t,n);break e;case 14:e=SS(null,e,r,ur(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),Sv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),ES(t,e,r,i,n);case 3:e:{if(rk(e),t===null)throw Error(Q(387));r=e.pendingProps,o=e.memoizedState,i=o.element,CC(t,e),ad(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Is(Error(Q(423)),e),e=TS(t,e,r,n,i);break e}else if(r!==i){i=Is(Error(Q(424)),e),e=TS(t,e,r,n,i);break e}else for(Rn=Qi(e.stateNode.containerInfo.firstChild),$n=e,Je=!0,hr=null,n=IC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ts(),r===i){e=pi(t,e,n);break e}fn(t,e,r,n)}e=e.child}return e;case 5:return kC(e),t===null&&vv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,dv(r,i)?a=null:o!==null&&dv(r,o)&&(e.flags|=32),nk(t,e),fn(t,e,a,n),e.child;case 6:return t===null&&vv(e),null;case 13:return ik(t,e,n);case 4:return ub(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=As(e,null,r,n):fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),xS(t,e,r,i,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,We(id,r._currentValue),r._currentValue=a,o!==null)if(yr(o.value,a)){if(o.children===i.children&&!En.current){e=pi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ai(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),_v(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Q(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),_v(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ps(e,n),i=er(i),r=r(i),e.flags|=1,fn(t,e,r,n),e.child;case 14:return r=e.type,i=ur(r,e.pendingProps),i=ur(r.type,i),SS(t,e,r,i,n);case 15:return ek(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),kh(t,e),e.tag=1,Tn(r)?(t=!0,td(e)):t=!1,ps(e,n),QC(e,r,i),wv(e,r,i,n),Ev(null,e,r,!0,t,n);case 19:return ok(t,e,n);case 22:return tk(t,e,n)}throw Error(Q(156,e.tag))};function wk(t,e){return KO(t,e)}function $4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,e,n,r){return new $4(t,e,n,r)}function Eb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function L4(t){if(typeof t=="function")return Eb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===z_)return 11;if(t===W_)return 14}return 2}function to(t,e){var n=t.alternate;return n===null?(n=Xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jh(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Eb(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ga:return Jo(n.children,i,o,e);case B_:a=8,i|=8;break;case Hy:return t=Xn(12,n,e,i|2),t.elementType=Hy,t.lanes=o,t;case qy:return t=Xn(13,n,e,i),t.elementType=qy,t.lanes=o,t;case Gy:return t=Xn(19,n,e,i),t.elementType=Gy,t.lanes=o,t;case kO:return Bp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OO:a=10;break e;case CO:a=9;break e;case z_:a=11;break e;case W_:a=14;break e;case Ni:a=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Xn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Jo(t,e,n,r){return t=Xn(7,t,r,e),t.lanes=n,t}function Bp(t,e,n,r){return t=Xn(22,t,r,e),t.elementType=kO,t.lanes=n,t.stateNode={isHidden:!1},t}function Jg(t,e,n){return t=Xn(6,t,null,e),t.lanes=n,t}function Zg(t,e,n){return e=Xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function V4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rg(0),this.expirationTimes=Rg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tb(t,e,n,r,i,o,a,s,l){return t=new V4(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Xn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lb(o),t}function F4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xk(t){if(!t)return uo;t=t._reactInternals;e:{if(Ta(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(Tn(n))return xC(t,n,e)}return e}function Sk(t,e,n,r,i,o,a,s,l){return t=Tb(n,r,!0,t,i,o,a,s,l),t.context=xk(null),n=t.current,r=mn(),i=eo(n),o=ai(r,i),o.callback=e??null,Ji(n,o,i),t.current.lanes=i,Xc(t,i,r),An(t,r),t}function zp(t,e,n,r){var i=e.current,o=mn(),a=eo(i);return n=xk(n),e.context===null?e.context=n:e.pendingContext=n,e=ai(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ji(i,e,a),t!==null&&(mr(t,i,a,o),Ih(t,i,a)),a}function pd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function DS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ab(t,e){DS(t,e),(t=t.alternate)&&DS(t,e)}function U4(){return null}var Ek=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pb(t){this._internalRoot=t}Wp.prototype.render=Pb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));zp(t,e,null,null)};Wp.prototype.unmount=Pb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ca(function(){zp(null,t,null,null)}),e[hi]=null}};function Wp(t){this._internalRoot=t}Wp.prototype.unstable_scheduleHydration=function(t){if(t){var e=tC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mi.length&&e!==0&&e<Mi[n].priority;n++);Mi.splice(n,0,t),n===0&&rC(t)}};function Ib(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function MS(){}function B4(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=pd(a);o.call(u)}}var a=Sk(e,r,t,0,null,!1,!1,"",MS);return t._reactRootContainer=a,t[hi]=a.current,Xu(t.nodeType===8?t.parentNode:t),ca(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=pd(l);s.call(u)}}var l=Tb(t,0,!1,null,null,!1,!1,"",MS);return t._reactRootContainer=l,t[hi]=l.current,Xu(t.nodeType===8?t.parentNode:t),ca(function(){zp(e,l,n,r)}),l}function qp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=pd(a);s.call(l)}}zp(e,a,t,i)}else a=B4(n,e,t,i,r);return pd(a)}ZO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=du(e.pendingLanes);n!==0&&(G_(e,n|1),An(e,dt()),!(Te&6)&&(Os=dt()+500,bo()))}break;case 13:ca(function(){var r=di(t,1);if(r!==null){var i=mn();mr(r,t,1,i)}}),Ab(t,1)}};K_=function(t){if(t.tag===13){var e=di(t,134217728);if(e!==null){var n=mn();mr(e,t,134217728,n)}Ab(t,134217728)}};eC=function(t){if(t.tag===13){var e=eo(t),n=di(t,e);if(n!==null){var r=mn();mr(n,t,e,r)}Ab(t,e)}};tC=function(){return Re};nC=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};rv=function(t,e,n){switch(e){case"input":if(Yy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Mp(r);if(!i)throw Error(Q(90));RO(r),Yy(r,i)}}}break;case"textarea":DO(t,n);break;case"select":e=n.value,e!=null&&cs(t,!!n.multiple,e,!1)}};BO=wb;zO=ca;var z4={usingClientEntryPoint:!1,Events:[Qc,Qa,Mp,FO,UO,wb]},Jl={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W4={bundleType:Jl.bundleType,version:Jl.version,rendererPackageName:Jl.rendererPackageName,rendererConfig:Jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qO(t),t===null?null:t.stateNode},findFiberByHostInstance:Jl.findFiberByHostInstance||U4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Np=eh.inject(W4),Pr=eh}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z4;Fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ib(e))throw Error(Q(200));return F4(t,e,null,n)};Fn.createRoot=function(t,e){if(!Ib(t))throw Error(Q(299));var n=!1,r="",i=Ek;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Tb(t,1,!1,null,null,n,!1,r,i),t[hi]=e.current,Xu(t.nodeType===8?t.parentNode:t),new Pb(e)};Fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=qO(e),t=t===null?null:t.stateNode,t};Fn.flushSync=function(t){return ca(t)};Fn.hydrate=function(t,e,n){if(!Hp(e))throw Error(Q(200));return qp(null,t,e,!0,n)};Fn.hydrateRoot=function(t,e,n){if(!Ib(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Ek;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Sk(e,null,t,1,n??null,i,!1,o,a),t[hi]=e.current,Xu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wp(e)};Fn.render=function(t,e,n){if(!Hp(e))throw Error(Q(200));return qp(null,t,e,!1,n)};Fn.unmountComponentAtNode=function(t){if(!Hp(t))throw Error(Q(40));return t._reactRootContainer?(ca(function(){qp(null,null,t,!1,function(){t._reactRootContainer=null,t[hi]=null})}),!0):!1};Fn.unstable_batchedUpdates=wb;Fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hp(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return qp(t,e,n,!1,r)};Fn.version="18.3.1-next-f1338f8080-20240426";function Tk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tk)}catch(t){console.error(t)}}Tk(),TO.exports=Fn;var H4=TO.exports,$S=H4;zy.createRoot=$S.createRoot,zy.hydrateRoot=$S.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},q4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Pk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|s>>4;let d=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(d=64)),r.push(n[c],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ak(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):q4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||h==null)throw new G4;const d=o<<2|s>>4;if(r.push(d),u!==64){const p=s<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K4=function(t){const e=Ak(t);return Pk.encodeByteArray(e,!0)},md=function(t){return K4(t).replace(/\./g,"")},Ik=function(t){try{return Pk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=()=>X4().__FIREBASE_DEFAULTS__,Q4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},J4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ik(t[1]);return e&&JSON.parse(e)},Gp=()=>{try{return Y4()||Q4()||J4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ok=t=>{var e,n;return(n=(e=Gp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ck=t=>{const e=Ok(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kk=()=>{var t;return(t=Gp())===null||t===void 0?void 0:t.config},Nk=t=>{var e;return(e=Gp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[md(JSON.stringify(n)),md(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function t3(){var t;const e=(t=Gp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function i3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o3(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function a3(){return!t3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s3(){try{return typeof indexedDB=="object"}catch{return!1}}function l3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="FirebaseError";class Ur extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=u3,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zc.prototype.create)}}class Zc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?c3(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Ur(i,s,r)}}function c3(t,e){return t.replace(f3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const f3=/\{\$([^}]+)}/g;function h3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(LS(o)&&LS(a)){if(!gd(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function LS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function d3(t,e){const n=new p3(t,e);return n.subscribe.bind(n)}class p3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");m3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ey),i.error===void 0&&(i.error=ey),i.complete===void 0&&(i.complete=ey);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ey(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){return t&&t._delegate?t._delegate:t}class co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Z4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v3(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y3(t){return t===$o?void 0:t}function v3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const b3={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},w3=Se.INFO,x3={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},S3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=x3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ob{constructor(e){this.name=e,this._logLevel=w3,this._logHandler=S3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const E3=(t,e)=>e.some(n=>t instanceof n);let VS,FS;function T3(){return VS||(VS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A3(){return FS||(FS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jk=new WeakMap,Mv=new WeakMap,Dk=new WeakMap,ty=new WeakMap,Cb=new WeakMap;function P3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(no(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&jk.set(n,t)}).catch(()=>{}),Cb.set(e,t),e}function I3(t){if(Mv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Mv.set(t,e)}let $v={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Dk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return no(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function O3(t){$v=t($v)}function C3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ny(this),e,...n);return Dk.set(r,e.sort?e.sort():[e]),no(r)}:A3().includes(t)?function(...e){return t.apply(ny(this),e),no(jk.get(this))}:function(...e){return no(t.apply(ny(this),e))}}function k3(t){return typeof t=="function"?C3(t):(t instanceof IDBTransaction&&I3(t),E3(t,T3())?new Proxy(t,$v):t)}function no(t){if(t instanceof IDBRequest)return P3(t);if(ty.has(t))return ty.get(t);const e=k3(t);return e!==t&&(ty.set(t,e),Cb.set(e,t)),e}const ny=t=>Cb.get(t);function N3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=no(a);return r&&a.addEventListener("upgradeneeded",l=>{r(no(a.result),l.oldVersion,l.newVersion,no(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const R3=["get","getKey","getAll","getAllKeys","count"],j3=["put","add","delete","clear"],ry=new Map;function US(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ry.get(e))return ry.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=j3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||R3.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return ry.set(e,o),o}O3(t=>({...t,get:(e,n,r)=>US(e,n)||t.get(e,n,r),has:(e,n)=>!!US(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(M3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function M3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lv="@firebase/app",BS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new Ob("@firebase/app"),$3="@firebase/app-compat",L3="@firebase/analytics-compat",V3="@firebase/analytics",F3="@firebase/app-check-compat",U3="@firebase/app-check",B3="@firebase/auth",z3="@firebase/auth-compat",W3="@firebase/database",H3="@firebase/data-connect",q3="@firebase/database-compat",G3="@firebase/functions",K3="@firebase/functions-compat",X3="@firebase/installations",Y3="@firebase/installations-compat",Q3="@firebase/messaging",J3="@firebase/messaging-compat",Z3="@firebase/performance",eV="@firebase/performance-compat",tV="@firebase/remote-config",nV="@firebase/remote-config-compat",rV="@firebase/storage",iV="@firebase/storage-compat",oV="@firebase/firestore",aV="@firebase/vertexai-preview",sV="@firebase/firestore-compat",lV="firebase",uV="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="[DEFAULT]",cV={[Lv]:"fire-core",[$3]:"fire-core-compat",[V3]:"fire-analytics",[L3]:"fire-analytics-compat",[U3]:"fire-app-check",[F3]:"fire-app-check-compat",[B3]:"fire-auth",[z3]:"fire-auth-compat",[W3]:"fire-rtdb",[H3]:"fire-data-connect",[q3]:"fire-rtdb-compat",[G3]:"fire-fn",[K3]:"fire-fn-compat",[X3]:"fire-iid",[Y3]:"fire-iid-compat",[Q3]:"fire-fcm",[J3]:"fire-fcm-compat",[Z3]:"fire-perf",[eV]:"fire-perf-compat",[tV]:"fire-rc",[nV]:"fire-rc-compat",[rV]:"fire-gcs",[iV]:"fire-gcs-compat",[oV]:"fire-fst",[sV]:"fire-fst-compat",[aV]:"fire-vertex","fire-js":"fire-js",[lV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new Map,fV=new Map,Fv=new Map;function zS(t,e){try{t.container.addComponent(e)}catch(n){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fa(t){const e=t.name;if(Fv.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;Fv.set(e,t);for(const n of yd.values())zS(n,t);for(const n of fV.values())zS(n,t);return!0}function Kp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ro=new Zc("app","Firebase",hV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=uV;function Mk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ro.create("bad-app-name",{appName:String(i)});if(n||(n=kk()),!n)throw ro.create("no-options");const o=yd.get(i);if(o){if(gd(n,o.options)&&gd(r,o.config))return o;throw ro.create("duplicate-app",{appName:i})}const a=new _3(i);for(const l of Fv.values())a.addComponent(l);const s=new dV(n,r,a);return yd.set(i,s),s}function kb(t=Vv){const e=yd.get(t);if(!e&&t===Vv&&kk())return Mk();if(!e)throw ro.create("no-app",{appName:t});return e}function Or(t,e,n){var r;let i=(r=cV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(s.join(" "));return}fa(new co(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="firebase-heartbeat-database",mV=1,ic="firebase-heartbeat-store";let iy=null;function $k(){return iy||(iy=N3(pV,mV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ic)}catch(n){console.warn(n)}}}}).catch(t=>{throw ro.create("idb-open",{originalErrorMessage:t.message})})),iy}async function gV(t){try{const n=(await $k()).transaction(ic),r=await n.objectStore(ic).get(Lk(t));return await n.done,r}catch(e){if(e instanceof Ur)mi.warn(e.message);else{const n=ro.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mi.warn(n.message)}}}async function WS(t,e){try{const r=(await $k()).transaction(ic,"readwrite");await r.objectStore(ic).put(e,Lk(t)),await r.done}catch(n){if(n instanceof Ur)mi.warn(n.message);else{const r=ro.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mi.warn(r.message)}}}function Lk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=1024,vV=30*24*60*60*1e3;class _V{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=HS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=vV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=HS(),{heartbeatsToSend:r,unsentEntries:i}=bV(this._heartbeatsCache.heartbeats),o=md(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return mi.warn(n),""}}}function HS(){return new Date().toISOString().substring(0,10)}function bV(t,e=yV){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),qS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class wV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s3()?l3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return WS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return WS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qS(t){return md(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t){fa(new co("platform-logger",e=>new D3(e),"PRIVATE")),fa(new co("heartbeat",e=>new _V(e),"PRIVATE")),Or(Lv,BS,t),Or(Lv,BS,"esm2017"),Or("fire-js","")}xV("");var GS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zo,Vk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function O(){}O.prototype=E.prototype,S.D=E.prototype,S.prototype=new O,S.prototype.constructor=S,S.C=function(k,C,R){for(var N=Array(arguments.length-2),V=2;V<arguments.length;V++)N[V-2]=arguments[V];return E.prototype[C].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,O){O||(O=0);var k=Array(16);if(typeof E=="string")for(var C=0;16>C;++C)k[C]=E.charCodeAt(O++)|E.charCodeAt(O++)<<8|E.charCodeAt(O++)<<16|E.charCodeAt(O++)<<24;else for(C=0;16>C;++C)k[C]=E[O++]|E[O++]<<8|E[O++]<<16|E[O++]<<24;E=S.g[0],O=S.g[1],C=S.g[2];var R=S.g[3],N=E+(R^O&(C^R))+k[0]+3614090360&4294967295;E=O+(N<<7&4294967295|N>>>25),N=R+(C^E&(O^C))+k[1]+3905402710&4294967295,R=E+(N<<12&4294967295|N>>>20),N=C+(O^R&(E^O))+k[2]+606105819&4294967295,C=R+(N<<17&4294967295|N>>>15),N=O+(E^C&(R^E))+k[3]+3250441966&4294967295,O=C+(N<<22&4294967295|N>>>10),N=E+(R^O&(C^R))+k[4]+4118548399&4294967295,E=O+(N<<7&4294967295|N>>>25),N=R+(C^E&(O^C))+k[5]+1200080426&4294967295,R=E+(N<<12&4294967295|N>>>20),N=C+(O^R&(E^O))+k[6]+2821735955&4294967295,C=R+(N<<17&4294967295|N>>>15),N=O+(E^C&(R^E))+k[7]+4249261313&4294967295,O=C+(N<<22&4294967295|N>>>10),N=E+(R^O&(C^R))+k[8]+1770035416&4294967295,E=O+(N<<7&4294967295|N>>>25),N=R+(C^E&(O^C))+k[9]+2336552879&4294967295,R=E+(N<<12&4294967295|N>>>20),N=C+(O^R&(E^O))+k[10]+4294925233&4294967295,C=R+(N<<17&4294967295|N>>>15),N=O+(E^C&(R^E))+k[11]+2304563134&4294967295,O=C+(N<<22&4294967295|N>>>10),N=E+(R^O&(C^R))+k[12]+1804603682&4294967295,E=O+(N<<7&4294967295|N>>>25),N=R+(C^E&(O^C))+k[13]+4254626195&4294967295,R=E+(N<<12&4294967295|N>>>20),N=C+(O^R&(E^O))+k[14]+2792965006&4294967295,C=R+(N<<17&4294967295|N>>>15),N=O+(E^C&(R^E))+k[15]+1236535329&4294967295,O=C+(N<<22&4294967295|N>>>10),N=E+(C^R&(O^C))+k[1]+4129170786&4294967295,E=O+(N<<5&4294967295|N>>>27),N=R+(O^C&(E^O))+k[6]+3225465664&4294967295,R=E+(N<<9&4294967295|N>>>23),N=C+(E^O&(R^E))+k[11]+643717713&4294967295,C=R+(N<<14&4294967295|N>>>18),N=O+(R^E&(C^R))+k[0]+3921069994&4294967295,O=C+(N<<20&4294967295|N>>>12),N=E+(C^R&(O^C))+k[5]+3593408605&4294967295,E=O+(N<<5&4294967295|N>>>27),N=R+(O^C&(E^O))+k[10]+38016083&4294967295,R=E+(N<<9&4294967295|N>>>23),N=C+(E^O&(R^E))+k[15]+3634488961&4294967295,C=R+(N<<14&4294967295|N>>>18),N=O+(R^E&(C^R))+k[4]+3889429448&4294967295,O=C+(N<<20&4294967295|N>>>12),N=E+(C^R&(O^C))+k[9]+568446438&4294967295,E=O+(N<<5&4294967295|N>>>27),N=R+(O^C&(E^O))+k[14]+3275163606&4294967295,R=E+(N<<9&4294967295|N>>>23),N=C+(E^O&(R^E))+k[3]+4107603335&4294967295,C=R+(N<<14&4294967295|N>>>18),N=O+(R^E&(C^R))+k[8]+1163531501&4294967295,O=C+(N<<20&4294967295|N>>>12),N=E+(C^R&(O^C))+k[13]+2850285829&4294967295,E=O+(N<<5&4294967295|N>>>27),N=R+(O^C&(E^O))+k[2]+4243563512&4294967295,R=E+(N<<9&4294967295|N>>>23),N=C+(E^O&(R^E))+k[7]+1735328473&4294967295,C=R+(N<<14&4294967295|N>>>18),N=O+(R^E&(C^R))+k[12]+2368359562&4294967295,O=C+(N<<20&4294967295|N>>>12),N=E+(O^C^R)+k[5]+4294588738&4294967295,E=O+(N<<4&4294967295|N>>>28),N=R+(E^O^C)+k[8]+2272392833&4294967295,R=E+(N<<11&4294967295|N>>>21),N=C+(R^E^O)+k[11]+1839030562&4294967295,C=R+(N<<16&4294967295|N>>>16),N=O+(C^R^E)+k[14]+4259657740&4294967295,O=C+(N<<23&4294967295|N>>>9),N=E+(O^C^R)+k[1]+2763975236&4294967295,E=O+(N<<4&4294967295|N>>>28),N=R+(E^O^C)+k[4]+1272893353&4294967295,R=E+(N<<11&4294967295|N>>>21),N=C+(R^E^O)+k[7]+4139469664&4294967295,C=R+(N<<16&4294967295|N>>>16),N=O+(C^R^E)+k[10]+3200236656&4294967295,O=C+(N<<23&4294967295|N>>>9),N=E+(O^C^R)+k[13]+681279174&4294967295,E=O+(N<<4&4294967295|N>>>28),N=R+(E^O^C)+k[0]+3936430074&4294967295,R=E+(N<<11&4294967295|N>>>21),N=C+(R^E^O)+k[3]+3572445317&4294967295,C=R+(N<<16&4294967295|N>>>16),N=O+(C^R^E)+k[6]+76029189&4294967295,O=C+(N<<23&4294967295|N>>>9),N=E+(O^C^R)+k[9]+3654602809&4294967295,E=O+(N<<4&4294967295|N>>>28),N=R+(E^O^C)+k[12]+3873151461&4294967295,R=E+(N<<11&4294967295|N>>>21),N=C+(R^E^O)+k[15]+530742520&4294967295,C=R+(N<<16&4294967295|N>>>16),N=O+(C^R^E)+k[2]+3299628645&4294967295,O=C+(N<<23&4294967295|N>>>9),N=E+(C^(O|~R))+k[0]+4096336452&4294967295,E=O+(N<<6&4294967295|N>>>26),N=R+(O^(E|~C))+k[7]+1126891415&4294967295,R=E+(N<<10&4294967295|N>>>22),N=C+(E^(R|~O))+k[14]+2878612391&4294967295,C=R+(N<<15&4294967295|N>>>17),N=O+(R^(C|~E))+k[5]+4237533241&4294967295,O=C+(N<<21&4294967295|N>>>11),N=E+(C^(O|~R))+k[12]+1700485571&4294967295,E=O+(N<<6&4294967295|N>>>26),N=R+(O^(E|~C))+k[3]+2399980690&4294967295,R=E+(N<<10&4294967295|N>>>22),N=C+(E^(R|~O))+k[10]+4293915773&4294967295,C=R+(N<<15&4294967295|N>>>17),N=O+(R^(C|~E))+k[1]+2240044497&4294967295,O=C+(N<<21&4294967295|N>>>11),N=E+(C^(O|~R))+k[8]+1873313359&4294967295,E=O+(N<<6&4294967295|N>>>26),N=R+(O^(E|~C))+k[15]+4264355552&4294967295,R=E+(N<<10&4294967295|N>>>22),N=C+(E^(R|~O))+k[6]+2734768916&4294967295,C=R+(N<<15&4294967295|N>>>17),N=O+(R^(C|~E))+k[13]+1309151649&4294967295,O=C+(N<<21&4294967295|N>>>11),N=E+(C^(O|~R))+k[4]+4149444226&4294967295,E=O+(N<<6&4294967295|N>>>26),N=R+(O^(E|~C))+k[11]+3174756917&4294967295,R=E+(N<<10&4294967295|N>>>22),N=C+(E^(R|~O))+k[2]+718787259&4294967295,C=R+(N<<15&4294967295|N>>>17),N=O+(R^(C|~E))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var O=E-this.blockSize,k=this.B,C=this.h,R=0;R<E;){if(C==0)for(;R<=O;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<E;)if(k[C++]=S.charCodeAt(R++),C==this.blockSize){i(this,k),C=0;break}}else for(;R<E;)if(k[C++]=S[R++],C==this.blockSize){i(this,k),C=0;break}}this.h=C,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var O=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=O&255,O/=256;for(this.u(S),S=Array(16),E=O=0;4>E;++E)for(var k=0;32>k;k+=8)S[O++]=this.g[E]>>>k&255;return S};function o(S,E){var O=s;return Object.prototype.hasOwnProperty.call(O,S)?O[S]:O[S]=E(S)}function a(S,E){this.h=E;for(var O=[],k=!0,C=S.length-1;0<=C;C--){var R=S[C]|0;k&&R==E||(O[C]=R,k=!1)}this.g=O}var s={};function l(S){return-128<=S&&128>S?o(S,function(E){return new a([E|0],0>E?-1:0)}):new a([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return v(u(-S));for(var E=[],O=1,k=0;S>=O;k++)E[k]=S/O|0,O*=4294967296;return new a(E,0)}function c(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return v(c(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(E,8)),k=h,C=0;C<S.length;C+=8){var R=Math.min(8,S.length-C),N=parseInt(S.substring(C,C+R),E);8>R?(R=u(Math.pow(E,R)),k=k.j(R).add(u(N))):(k=k.j(O),k=k.add(u(N)))}return k}var h=l(0),d=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(m(this))return-v(this).m();for(var S=0,E=1,O=0;O<this.g.length;O++){var k=this.i(O);S+=(0<=k?k:4294967296+k)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(m(this))return"-"+v(this).toString(S);for(var E=u(Math.pow(S,6)),O=this,k="";;){var C=I(O,E).g;O=y(O,C.j(E));var R=((0<O.g.length?O.g[0]:O.h)>>>0).toString(S);if(O=C,g(O))return R+k;for(;6>R.length;)R="0"+R;k=R+k}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function m(S){return S.h==-1}t.l=function(S){return S=y(this,S),m(S)?-1:g(S)?0:1};function v(S){for(var E=S.g.length,O=[],k=0;k<E;k++)O[k]=~S.g[k];return new a(O,~S.h).add(d)}t.abs=function(){return m(this)?v(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),O=[],k=0,C=0;C<=E;C++){var R=k+(this.i(C)&65535)+(S.i(C)&65535),N=(R>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);k=N>>>16,R&=65535,N&=65535,O[C]=N<<16|R}return new a(O,O[O.length-1]&-2147483648?-1:0)};function y(S,E){return S.add(v(E))}t.j=function(S){if(g(this)||g(S))return h;if(m(this))return m(S)?v(this).j(v(S)):v(v(this).j(S));if(m(S))return v(this.j(v(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var E=this.g.length+S.g.length,O=[],k=0;k<2*E;k++)O[k]=0;for(k=0;k<this.g.length;k++)for(var C=0;C<S.g.length;C++){var R=this.i(k)>>>16,N=this.i(k)&65535,V=S.i(C)>>>16,F=S.i(C)&65535;O[2*k+2*C]+=N*F,w(O,2*k+2*C),O[2*k+2*C+1]+=R*F,w(O,2*k+2*C+1),O[2*k+2*C+1]+=N*V,w(O,2*k+2*C+1),O[2*k+2*C+2]+=R*V,w(O,2*k+2*C+2)}for(k=0;k<E;k++)O[k]=O[2*k+1]<<16|O[2*k];for(k=E;k<2*E;k++)O[k]=0;return new a(O,0)};function w(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function b(S,E){this.g=S,this.h=E}function I(S,E){if(g(E))throw Error("division by zero");if(g(S))return new b(h,h);if(m(S))return E=I(v(S),E),new b(v(E.g),v(E.h));if(m(E))return E=I(S,v(E)),new b(v(E.g),E.h);if(30<S.g.length){if(m(S)||m(E))throw Error("slowDivide_ only works with positive integers.");for(var O=d,k=E;0>=k.l(S);)O=T(O),k=T(k);var C=P(O,1),R=P(k,1);for(k=P(k,2),O=P(O,2);!g(k);){var N=R.add(k);0>=N.l(S)&&(C=C.add(O),R=N),k=P(k,1),O=P(O,1)}return E=y(S,C.j(E)),new b(C,E)}for(C=h;0<=S.l(E);){for(O=Math.max(1,Math.floor(S.m()/E.m())),k=Math.ceil(Math.log(O)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),R=u(O),N=R.j(E);m(N)||0<N.l(S);)O-=k,R=u(O),N=R.j(E);g(R)&&(R=d),C=C.add(R),S=y(S,N)}return new b(C,S)}t.A=function(S){return I(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),O=[],k=0;k<E;k++)O[k]=this.i(k)&S.i(k);return new a(O,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),O=[],k=0;k<E;k++)O[k]=this.i(k)|S.i(k);return new a(O,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),O=[],k=0;k<E;k++)O[k]=this.i(k)^S.i(k);return new a(O,this.h^S.h)};function T(S){for(var E=S.g.length+1,O=[],k=0;k<E;k++)O[k]=S.i(k)<<1|S.i(k-1)>>>31;return new a(O,S.h)}function P(S,E){var O=E>>5;E%=32;for(var k=S.g.length-O,C=[],R=0;R<k;R++)C[R]=0<E?S.i(R+O)>>>E|S.i(R+O+1)<<32-E:S.i(R+O);return new a(C,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Vk=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,Zo=a}).apply(typeof GS<"u"?GS:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fk,mu,Uk,Dh,Uv,Bk,zk,Wk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,A){return f==Array.prototype||f==Object.prototype||(f[_]=A.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var _=0;_<f.length;++_){var A=f[_];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(f,_){if(_)e:{var A=r;f=f.split(".");for(var j=0;j<f.length-1;j++){var $=f[j];if(!($ in A))break e;A=A[$]}f=f[f.length-1],j=A[f],_=_(j),_!=j&&_!=null&&e(A,f,{configurable:!0,writable:!0,value:_})}}function o(f,_){f instanceof String&&(f+="");var A=0,j=!1,$={next:function(){if(!j&&A<f.length){var U=A++;return{value:_(U,f[U]),done:!1}}return j=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(f){return f||function(){return o(this,function(_,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function u(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function c(f,_,A){return f.call.apply(f.bind,arguments)}function h(f,_,A){if(!f)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,j),f.apply(_,$)}}return function(){return f.apply(_,arguments)}}function d(f,_,A){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,d.apply(null,arguments)}function p(f,_){var A=Array.prototype.slice.call(arguments,1);return function(){var j=A.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function g(f,_){function A(){}A.prototype=_.prototype,f.aa=_.prototype,f.prototype=new A,f.prototype.constructor=f,f.Qb=function(j,$,U){for(var Z=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)Z[Le-2]=arguments[Le];return _.prototype[$].apply(j,Z)}}function m(f){const _=f.length;if(0<_){const A=Array(_);for(let j=0;j<_;j++)A[j]=f[j];return A}return[]}function v(f,_){for(let A=1;A<arguments.length;A++){const j=arguments[A];if(l(j)){const $=f.length||0,U=j.length||0;f.length=$+U;for(let Z=0;Z<U;Z++)f[$+Z]=j[Z]}else f.push(j)}}class y{constructor(_,A){this.i=_,this.j=A,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function w(f){return/^[\s\xa0]*$/.test(f)}function b(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function I(f){return I[" "](f),f}I[" "]=function(){};var T=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function P(f,_,A){for(const j in f)_.call(A,f[j],j,f)}function S(f,_){for(const A in f)_.call(void 0,f[A],A,f)}function E(f){const _={};for(const A in f)_[A]=f[A];return _}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(f,_){let A,j;for(let $=1;$<arguments.length;$++){j=arguments[$];for(A in j)f[A]=j[A];for(let U=0;U<O.length;U++)A=O[U],Object.prototype.hasOwnProperty.call(j,A)&&(f[A]=j[A])}}function C(f){var _=1;f=f.split(":");const A=[];for(;0<_&&f.length;)A.push(f.shift()),_--;return f.length&&A.push(f.join(":")),A}function R(f){s.setTimeout(()=>{throw f},0)}function N(){var f=z;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class V{constructor(){this.h=this.g=null}add(_,A){const j=F.get();j.set(_,A),this.h?this.h.next=j:this.g=j,this.h=j}}var F=new y(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(_,A){this.h=_,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let H,L=!1,z=new V,X=()=>{const f=s.Promise.resolve(void 0);H=()=>{f.then(ee)}};var ee=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(A){R(A)}var _=F;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}L=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};s.addEventListener("test",A,_),s.removeEventListener("test",A,_)}catch{}return f}();function Ce(f,_){if(ne.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var A=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(T){e:{try{I(_.nodeName);var $=!0;break e}catch{}$=!1}$||(_=null)}}else A=="mouseover"?_=f.fromElement:A=="mouseout"&&(_=f.toElement);this.relatedTarget=_,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:et[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ce.aa.h.call(this)}}g(Ce,ne);var et={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),qt=0;function te(f,_,A,j,$){this.listener=f,this.proxy=null,this.src=_,this.type=A,this.capture=!!j,this.ha=$,this.key=++qt,this.da=this.fa=!1}function ce(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function pe(f){this.src=f,this.g={},this.h=0}pe.prototype.add=function(f,_,A,j,$){var U=f.toString();f=this.g[U],f||(f=this.g[U]=[],this.h++);var Z=Fe(f,_,j,$);return-1<Z?(_=f[Z],A||(_.fa=!1)):(_=new te(_,this.src,U,!!j,$),_.fa=A,f.push(_)),_};function G(f,_){var A=_.type;if(A in f.g){var j=f.g[A],$=Array.prototype.indexOf.call(j,_,void 0),U;(U=0<=$)&&Array.prototype.splice.call(j,$,1),U&&(ce(_),f.g[A].length==0&&(delete f.g[A],f.h--))}}function Fe(f,_,A,j){for(var $=0;$<f.length;++$){var U=f[$];if(!U.da&&U.listener==_&&U.capture==!!A&&U.ha==j)return $}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),tt={};function at(f,_,A,j,$){if(j&&j.once)return Wr(f,_,A,j,$);if(Array.isArray(_)){for(var U=0;U<_.length;U++)at(f,_[U],A,j,$);return null}return A=fg(A),f&&f[Pt]?f.K(_,A,u(j)?!!j.capture:!!j,$):jt(f,_,A,!1,j,$)}function jt(f,_,A,j,$,U){if(!_)throw Error("Invalid event type");var Z=u($)?!!$.capture:!!$,Le=Ra(f);if(Le||(f[_e]=Le=new pe(f)),A=Le.add(_,A,j,Z,U),A.proxy)return A;if(j=br(),A.proxy=j,j.src=f,j.listener=A,f.addEventListener)xe||($=Z),$===void 0&&($=!1),f.addEventListener(_.toString(),j,$);else if(f.attachEvent)f.attachEvent(wr(_.toString()),j);else if(f.addListener&&f.removeListener)f.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return A}function br(){function f(A){return _.call(f.src,f.listener,A)}const _=kl;return f}function Wr(f,_,A,j,$){if(Array.isArray(_)){for(var U=0;U<_.length;U++)Wr(f,_[U],A,j,$);return null}return A=fg(A),f&&f[Pt]?f.L(_,A,u(j)?!!j.capture:!!j,$):jt(f,_,A,!0,j,$)}function Po(f,_,A,j,$){if(Array.isArray(_))for(var U=0;U<_.length;U++)Po(f,_[U],A,j,$);else j=u(j)?!!j.capture:!!j,A=fg(A),f&&f[Pt]?(f=f.i,_=String(_).toString(),_ in f.g&&(U=f.g[_],A=Fe(U,A,j,$),-1<A&&(ce(U[A]),Array.prototype.splice.call(U,A,1),U.length==0&&(delete f.g[_],f.h--)))):f&&(f=Ra(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Fe(_,A,j,$)),(A=-1<f?_[f]:null)&&or(A))}function or(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Pt])G(_.i,f);else{var A=f.type,j=f.proxy;_.removeEventListener?_.removeEventListener(A,j,f.capture):_.detachEvent?_.detachEvent(wr(A),j):_.addListener&&_.removeListener&&_.removeListener(j),(A=Ra(_))?(G(A,f),A.h==0&&(A.src=null,_[_e]=null)):ce(f)}}}function wr(f){return f in tt?tt[f]:tt[f]="on"+f}function kl(f,_){if(f.da)f=!0;else{_=new Ce(_,this);var A=f.listener,j=f.ha||f.src;f.fa&&or(f),f=A.call(j,_)}return f}function Ra(f){return f=f[_e],f instanceof pe?f:null}var ja="__closure_events_fn_"+(1e9*Math.random()>>>0);function fg(f){return typeof f=="function"?f:(f[ja]||(f[ja]=function(_){return f.handleEvent(_)}),f[ja])}function Gt(){Y.call(this),this.i=new pe(this),this.M=this,this.F=null}g(Gt,Y),Gt.prototype[Pt]=!0,Gt.prototype.removeEventListener=function(f,_,A,j){Po(this,f,_,A,j)};function ln(f,_){var A,j=f.F;if(j)for(A=[];j;j=j.F)A.push(j);if(f=f.M,j=_.type||_,typeof _=="string")_=new ne(_,f);else if(_ instanceof ne)_.target=_.target||f;else{var $=_;_=new ne(j,f),k(_,$)}if($=!0,A)for(var U=A.length-1;0<=U;U--){var Z=_.g=A[U];$=wf(Z,j,!0,_)&&$}if(Z=_.g=f,$=wf(Z,j,!0,_)&&$,$=wf(Z,j,!1,_)&&$,A)for(U=0;U<A.length;U++)Z=_.g=A[U],$=wf(Z,j,!1,_)&&$}Gt.prototype.N=function(){if(Gt.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var A=f.g[_],j=0;j<A.length;j++)ce(A[j]);delete f.g[_],f.h--}}this.F=null},Gt.prototype.K=function(f,_,A,j){return this.i.add(String(f),_,!1,A,j)},Gt.prototype.L=function(f,_,A,j){return this.i.add(String(f),_,!0,A,j)};function wf(f,_,A,j){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var $=!0,U=0;U<_.length;++U){var Z=_[U];if(Z&&!Z.da&&Z.capture==A){var Le=Z.listener,Dt=Z.ha||Z.src;Z.fa&&G(f.i,Z),$=Le.call(Dt,j)!==!1&&$}}return $&&!j.defaultPrevented}function j1(f,_,A){if(typeof f=="function")A&&(f=d(f,A));else if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:s.setTimeout(f,_||0)}function D1(f){f.g=j1(()=>{f.g=null,f.i&&(f.i=!1,D1(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class KM extends Y{constructor(_,A){super(),this.m=_,this.l=A,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:D1(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nl(f){Y.call(this),this.h=f,this.g={}}g(Nl,Y);var M1=[];function $1(f){P(f.g,function(_,A){this.g.hasOwnProperty(A)&&or(_)},f),f.g={}}Nl.prototype.N=function(){Nl.aa.N.call(this),$1(this)},Nl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hg=s.JSON.stringify,XM=s.JSON.parse,YM=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function dg(){}dg.prototype.h=null;function L1(f){return f.h||(f.h=f.i())}function V1(){}var Rl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pg(){ne.call(this,"d")}g(pg,ne);function mg(){ne.call(this,"c")}g(mg,ne);var Io={},F1=null;function xf(){return F1=F1||new Gt}Io.La="serverreachability";function U1(f){ne.call(this,Io.La,f)}g(U1,ne);function jl(f){const _=xf();ln(_,new U1(_))}Io.STAT_EVENT="statevent";function B1(f,_){ne.call(this,Io.STAT_EVENT,f),this.stat=_}g(B1,ne);function un(f){const _=xf();ln(_,new B1(_,f))}Io.Ma="timingevent";function z1(f,_){ne.call(this,Io.Ma,f),this.size=_}g(z1,ne);function Dl(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},_)}function Ml(){this.g=!0}Ml.prototype.xa=function(){this.g=!1};function QM(f,_,A,j,$,U){f.info(function(){if(f.g)if(U)for(var Z="",Le=U.split("&"),Dt=0;Dt<Le.length;Dt++){var Ae=Le[Dt].split("=");if(1<Ae.length){var Kt=Ae[0];Ae=Ae[1];var Xt=Kt.split("_");Z=2<=Xt.length&&Xt[1]=="type"?Z+(Kt+"="+Ae+"&"):Z+(Kt+"=redacted&")}}else Z=null;else Z=U;return"XMLHTTP REQ ("+j+") [attempt "+$+"]: "+_+`
`+A+`
`+Z})}function JM(f,_,A,j,$,U,Z){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+$+"]: "+_+`
`+A+`
`+U+" "+Z})}function Da(f,_,A,j){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+e$(f,A)+(j?" "+j:"")})}function ZM(f,_){f.info(function(){return"TIMEOUT: "+_})}Ml.prototype.info=function(){};function e$(f,_){if(!f.g)return _;if(!_)return null;try{var A=JSON.parse(_);if(A){for(f=0;f<A.length;f++)if(Array.isArray(A[f])){var j=A[f];if(!(2>j.length)){var $=j[1];if(Array.isArray($)&&!(1>$.length)){var U=$[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Z=1;Z<$.length;Z++)$[Z]=""}}}}return hg(A)}catch{return _}}var Sf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},W1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gg;function Ef(){}g(Ef,dg),Ef.prototype.g=function(){return new XMLHttpRequest},Ef.prototype.i=function(){return{}},gg=new Ef;function Pi(f,_,A,j){this.j=f,this.i=_,this.l=A,this.R=j||1,this.U=new Nl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new H1}function H1(){this.i=null,this.g="",this.h=!1}var q1={},yg={};function vg(f,_,A){f.L=1,f.v=If(Hr(_)),f.m=A,f.P=!0,G1(f,null)}function G1(f,_){f.F=Date.now(),Tf(f),f.A=Hr(f.v);var A=f.A,j=f.R;Array.isArray(j)||(j=[String(j)]),sx(A.i,"t",j),f.C=0,A=f.j.J,f.h=new H1,f.g=Tx(f.j,A?_:null,!f.m),0<f.O&&(f.M=new KM(d(f.Y,f,f.g),f.O)),_=f.U,A=f.g,j=f.ca;var $="readystatechange";Array.isArray($)||($&&(M1[0]=$.toString()),$=M1);for(var U=0;U<$.length;U++){var Z=at(A,$[U],j||_.handleEvent,!1,_.h||_);if(!Z)break;_.g[Z.key]=Z}_=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),jl(),QM(f.i,f.u,f.A,f.l,f.R,f.m)}Pi.prototype.ca=function(f){f=f.target;const _=this.M;_&&qr(f)==3?_.j():this.Y(f)},Pi.prototype.Y=function(f){try{if(f==this.g)e:{const Xt=qr(this.g);var _=this.g.Ba();const La=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||px(this.g)))){this.J||Xt!=4||_==7||(_==8||0>=La?jl(3):jl(2)),_g(this);var A=this.g.Z();this.X=A;t:if(K1(this)){var j=px(this.g);f="";var $=j.length,U=qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oo(this),$l(this);var Z="";break t}this.h.i=new s.TextDecoder}for(_=0;_<$;_++)this.h.h=!0,f+=this.h.i.decode(j[_],{stream:!(U&&_==$-1)});j.length=0,this.h.g+=f,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=A==200,JM(this.i,this.u,this.A,this.l,this.R,Xt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Dt=this.g;if((Le=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Le)){var Ae=Le;break t}}Ae=null}if(A=Ae)Da(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bg(this,A);else{this.o=!1,this.s=3,un(12),Oo(this),$l(this);break e}}if(this.P){A=!0;let ar;for(;!this.J&&this.C<Z.length;)if(ar=t$(this,Z),ar==yg){Xt==4&&(this.s=4,un(14),A=!1),Da(this.i,this.l,null,"[Incomplete Response]");break}else if(ar==q1){this.s=4,un(15),Da(this.i,this.l,Z,"[Invalid Chunk]"),A=!1;break}else Da(this.i,this.l,ar,null),bg(this,ar);if(K1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||Z.length!=0||this.h.h||(this.s=1,un(16),A=!1),this.o=this.o&&A,!A)Da(this.i,this.l,Z,"[Invalid Chunked Response]"),Oo(this),$l(this);else if(0<Z.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Ag(Kt),Kt.M=!0,un(11))}}else Da(this.i,this.l,Z,null),bg(this,Z);Xt==4&&Oo(this),this.o&&!this.J&&(Xt==4?wx(this.j,this):(this.o=!1,Tf(this)))}else v$(this.g),A==400&&0<Z.indexOf("Unknown SID")?(this.s=3,un(12)):(this.s=0,un(13)),Oo(this),$l(this)}}}catch{}finally{}};function K1(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function t$(f,_){var A=f.C,j=_.indexOf(`
`,A);return j==-1?yg:(A=Number(_.substring(A,j)),isNaN(A)?q1:(j+=1,j+A>_.length?yg:(_=_.slice(j,j+A),f.C=j+A,_)))}Pi.prototype.cancel=function(){this.J=!0,Oo(this)};function Tf(f){f.S=Date.now()+f.I,X1(f,f.I)}function X1(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Dl(d(f.ba,f),_)}function _g(f){f.B&&(s.clearTimeout(f.B),f.B=null)}Pi.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ZM(this.i,this.A),this.L!=2&&(jl(),un(17)),Oo(this),this.s=2,$l(this)):X1(this,this.S-f)};function $l(f){f.j.G==0||f.J||wx(f.j,f)}function Oo(f){_g(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,$1(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function bg(f,_){try{var A=f.j;if(A.G!=0&&(A.g==f||wg(A.h,f))){if(!f.K&&wg(A.h,f)&&A.G==3){try{var j=A.Da.g.parse(_)}catch{j=null}if(Array.isArray(j)&&j.length==3){var $=j;if($[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<f.F)jf(A),Nf(A);else break e;Tg(A),un(18)}}else A.za=$[1],0<A.za-A.T&&37500>$[2]&&A.F&&A.v==0&&!A.C&&(A.C=Dl(d(A.Za,A),6e3));if(1>=J1(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else ko(A,11)}else if((f.K||A.g==f)&&jf(A),!w(_))for($=A.Da.g.parse(_),_=0;_<$.length;_++){let Ae=$[_];if(A.T=Ae[0],Ae=Ae[1],A.G==2)if(Ae[0]=="c"){A.K=Ae[1],A.ia=Ae[2];const Kt=Ae[3];Kt!=null&&(A.la=Kt,A.j.info("VER="+A.la));const Xt=Ae[4];Xt!=null&&(A.Aa=Xt,A.j.info("SVER="+A.Aa));const La=Ae[5];La!=null&&typeof La=="number"&&0<La&&(j=1.5*La,A.L=j,A.j.info("backChannelRequestTimeoutMs_="+j)),j=A;const ar=f.g;if(ar){const Mf=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mf){var U=j.h;U.g||Mf.indexOf("spdy")==-1&&Mf.indexOf("quic")==-1&&Mf.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(xg(U,U.h),U.h=null))}if(j.D){const Pg=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;Pg&&(j.ya=Pg,qe(j.I,j.D,Pg))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-f.F,A.j.info("Handshake RTT: "+A.R+"ms")),j=A;var Z=f;if(j.qa=Ex(j,j.J?j.ia:null,j.W),Z.K){Z1(j.h,Z);var Le=Z,Dt=j.L;Dt&&(Le.I=Dt),Le.B&&(_g(Le),Tf(Le)),j.g=Z}else _x(j);0<A.i.length&&Rf(A)}else Ae[0]!="stop"&&Ae[0]!="close"||ko(A,7);else A.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?ko(A,7):Eg(A):Ae[0]!="noop"&&A.l&&A.l.ta(Ae),A.v=0)}}jl(4)}catch{}}var n$=class{constructor(f,_){this.g=f,this.map=_}};function Y1(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Q1(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function J1(f){return f.h?1:f.g?f.g.size:0}function wg(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function xg(f,_){f.g?f.g.add(_):f.h=_}function Z1(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Y1.prototype.cancel=function(){if(this.i=ex(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ex(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const A of f.g.values())_=_.concat(A.D);return _}return m(f.i)}function r$(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var _=[],A=f.length,j=0;j<A;j++)_.push(f[j]);return _}_=[],A=0;for(j in f)_[A++]=f[j];return _}function i$(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var _=[];f=f.length;for(var A=0;A<f;A++)_.push(A);return _}_=[],A=0;for(const j in f)_[A++]=j;return _}}}function tx(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var A=i$(f),j=r$(f),$=j.length,U=0;U<$;U++)_.call(void 0,j[U],A&&A[U],f)}var nx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function o$(f,_){if(f){f=f.split("&");for(var A=0;A<f.length;A++){var j=f[A].indexOf("="),$=null;if(0<=j){var U=f[A].substring(0,j);$=f[A].substring(j+1)}else U=f[A];_(U,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Co(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Co){this.h=f.h,Af(this,f.j),this.o=f.o,this.g=f.g,Pf(this,f.s),this.l=f.l;var _=f.i,A=new Fl;A.i=_.i,_.g&&(A.g=new Map(_.g),A.h=_.h),rx(this,A),this.m=f.m}else f&&(_=String(f).match(nx))?(this.h=!1,Af(this,_[1]||"",!0),this.o=Ll(_[2]||""),this.g=Ll(_[3]||"",!0),Pf(this,_[4]),this.l=Ll(_[5]||"",!0),rx(this,_[6]||"",!0),this.m=Ll(_[7]||"")):(this.h=!1,this.i=new Fl(null,this.h))}Co.prototype.toString=function(){var f=[],_=this.j;_&&f.push(Vl(_,ix,!0),":");var A=this.g;return(A||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Vl(_,ix,!0),"@"),f.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&f.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(Vl(A,A.charAt(0)=="/"?l$:s$,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",Vl(A,c$)),f.join("")};function Hr(f){return new Co(f)}function Af(f,_,A){f.j=A?Ll(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Pf(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function rx(f,_,A){_ instanceof Fl?(f.i=_,f$(f.i,f.h)):(A||(_=Vl(_,u$)),f.i=new Fl(_,f.h))}function qe(f,_,A){f.i.set(_,A)}function If(f){return qe(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ll(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Vl(f,_,A){return typeof f=="string"?(f=encodeURI(f).replace(_,a$),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function a$(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ix=/[#\/\?@]/g,s$=/[#\?:]/g,l$=/[#\?]/g,u$=/[#\?@]/g,c$=/#/g;function Fl(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Ii(f){f.g||(f.g=new Map,f.h=0,f.i&&o$(f.i,function(_,A){f.add(decodeURIComponent(_.replace(/\+/g," ")),A)}))}t=Fl.prototype,t.add=function(f,_){Ii(this),this.i=null,f=Ma(this,f);var A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(_),this.h+=1,this};function ox(f,_){Ii(f),_=Ma(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function ax(f,_){return Ii(f),_=Ma(f,_),f.g.has(_)}t.forEach=function(f,_){Ii(this),this.g.forEach(function(A,j){A.forEach(function($){f.call(_,$,j,this)},this)},this)},t.na=function(){Ii(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),A=[];for(let j=0;j<_.length;j++){const $=f[j];for(let U=0;U<$.length;U++)A.push(_[j])}return A},t.V=function(f){Ii(this);let _=[];if(typeof f=="string")ax(this,f)&&(_=_.concat(this.g.get(Ma(this,f))));else{f=Array.from(this.g.values());for(let A=0;A<f.length;A++)_=_.concat(f[A])}return _},t.set=function(f,_){return Ii(this),this.i=null,f=Ma(this,f),ax(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function sx(f,_,A){ox(f,_),0<A.length&&(f.i=null,f.g.set(Ma(f,_),m(A)),f.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var A=0;A<_.length;A++){var j=_[A];const U=encodeURIComponent(String(j)),Z=this.V(j);for(j=0;j<Z.length;j++){var $=U;Z[j]!==""&&($+="="+encodeURIComponent(String(Z[j]))),f.push($)}}return this.i=f.join("&")};function Ma(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function f$(f,_){_&&!f.j&&(Ii(f),f.i=null,f.g.forEach(function(A,j){var $=j.toLowerCase();j!=$&&(ox(this,j),sx(this,$,A))},f)),f.j=_}function h$(f,_){const A=new Ml;if(s.Image){const j=new Image;j.onload=p(Oi,A,"TestLoadImage: loaded",!0,_,j),j.onerror=p(Oi,A,"TestLoadImage: error",!1,_,j),j.onabort=p(Oi,A,"TestLoadImage: abort",!1,_,j),j.ontimeout=p(Oi,A,"TestLoadImage: timeout",!1,_,j),s.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else _(!1)}function d$(f,_){const A=new Ml,j=new AbortController,$=setTimeout(()=>{j.abort(),Oi(A,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:j.signal}).then(U=>{clearTimeout($),U.ok?Oi(A,"TestPingServer: ok",!0,_):Oi(A,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),Oi(A,"TestPingServer: error",!1,_)})}function Oi(f,_,A,j,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),j(A)}catch{}}function p$(){this.g=new YM}function m$(f,_,A){const j=A||"";try{tx(f,function($,U){let Z=$;u($)&&(Z=hg($)),_.push(j+U+"="+encodeURIComponent(Z))})}catch($){throw _.push(j+"type="+encodeURIComponent("_badmap")),$}}function Of(f){this.l=f.Ub||null,this.j=f.eb||!1}g(Of,dg),Of.prototype.g=function(){return new Cf(this.l,this.j)},Of.prototype.i=function(f){return function(){return f}}({});function Cf(f,_){Gt.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Cf,Gt),t=Cf.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,Bl(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||s).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ul(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Bl(this)),this.g&&(this.readyState=3,Bl(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lx(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function lx(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Ul(this):Bl(this),this.readyState==3&&lx(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Ul(this))},t.Qa=function(f){this.g&&(this.response=f,Ul(this))},t.ga=function(){this.g&&Ul(this)};function Ul(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Bl(f)}t.setRequestHeader=function(f,_){this.u.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var A=_.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=_.next();return f.join(`\r
`)};function Bl(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Cf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ux(f){let _="";return P(f,function(A,j){_+=j,_+=":",_+=A,_+=`\r
`}),_}function Sg(f,_,A){e:{for(j in A){var j=!1;break e}j=!0}j||(A=ux(A),typeof f=="string"?A!=null&&encodeURIComponent(String(A)):qe(f,_,A))}function st(f){Gt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(st,Gt);var g$=/^https?$/i,y$=["POST","PUT"];t=st.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,_,A,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gg.g(),this.v=this.o?L1(this.o):L1(gg),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(U){cx(this,U);return}if(f=A||"",A=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var $ in j)A.set($,j[$]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const U of j.keys())A.set(U,j.get(U));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(A.keys()).find(U=>U.toLowerCase()=="content-type"),$=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call(y$,_,void 0))||j||$||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Z]of A)this.g.setRequestHeader(U,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dx(this),this.u=!0,this.g.send(f),this.u=!1}catch(U){cx(this,U)}};function cx(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,fx(f),kf(f)}function fx(f){f.A||(f.A=!0,ln(f,"complete"),ln(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ln(this,"complete"),ln(this,"abort"),kf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kf(this,!0)),st.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hx(this):this.bb())},t.bb=function(){hx(this)};function hx(f){if(f.h&&typeof a<"u"&&(!f.v[1]||qr(f)!=4||f.Z()!=2)){if(f.u&&qr(f)==4)j1(f.Ea,0,f);else if(ln(f,"readystatechange"),qr(f)==4){f.h=!1;try{const Z=f.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var A;if(!(A=_)){var j;if(j=Z===0){var $=String(f.D).match(nx)[1]||null;!$&&s.self&&s.self.location&&($=s.self.location.protocol.slice(0,-1)),j=!g$.test($?$.toLowerCase():"")}A=j}if(A)ln(f,"complete"),ln(f,"success");else{f.m=6;try{var U=2<qr(f)?f.g.statusText:""}catch{U=""}f.l=U+" ["+f.Z()+"]",fx(f)}}finally{kf(f)}}}}function kf(f,_){if(f.g){dx(f);const A=f.g,j=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||ln(f,"ready");try{A.onreadystatechange=j}catch{}}}function dx(f){f.I&&(s.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function qr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<qr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),XM(_)}};function px(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function v$(f){const _={};f=(f.g&&2<=qr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<f.length;j++){if(w(f[j]))continue;var A=C(f[j]);const $=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const U=_[$]||[];_[$]=U,U.push(A)}S(_,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zl(f,_,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||_}function mx(f){this.Aa=0,this.i=[],this.j=new Ml,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zl("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zl("baseRetryDelayMs",5e3,f),this.cb=zl("retryDelaySeedMs",1e4,f),this.Wa=zl("forwardChannelMaxRetries",2,f),this.wa=zl("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Y1(f&&f.concurrentRequestLimit),this.Da=new p$,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mx.prototype,t.la=8,t.G=1,t.connect=function(f,_,A,j){un(0),this.W=f,this.H=_||{},A&&j!==void 0&&(this.H.OSID=A,this.H.OAID=j),this.F=this.X,this.I=Ex(this,null,this.W),Rf(this)};function Eg(f){if(gx(f),f.G==3){var _=f.U++,A=Hr(f.I);if(qe(A,"SID",f.K),qe(A,"RID",_),qe(A,"TYPE","terminate"),Wl(f,A),_=new Pi(f,f.j,_),_.L=2,_.v=If(Hr(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(_.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=_.v,A=!0),A||(_.g=Tx(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Tf(_)}Sx(f)}function Nf(f){f.g&&(Ag(f),f.g.cancel(),f.g=null)}function gx(f){Nf(f),f.u&&(s.clearTimeout(f.u),f.u=null),jf(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function Rf(f){if(!Q1(f.h)&&!f.s){f.s=!0;var _=f.Ga;H||X(),L||(H(),L=!0),z.add(_,f),f.B=0}}function _$(f,_){return J1(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Dl(d(f.Ga,f,_),xx(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new Pi(this,this.j,f);let U=this.o;if(this.S&&(U?(U=E(U),k(U,this.S)):U=this.S),this.m!==null||this.O||($.H=U,U=null),this.P)e:{for(var _=0,A=0;A<this.i.length;A++){t:{var j=this.i[A];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(_+=j,4096<_){_=A;break e}if(_===4096||A===this.i.length-1){_=A+1;break e}}_=1e3}else _=1e3;_=vx(this,$,_),A=Hr(this.I),qe(A,"RID",f),qe(A,"CVER",22),this.D&&qe(A,"X-HTTP-Session-Id",this.D),Wl(this,A),U&&(this.O?_="headers="+encodeURIComponent(String(ux(U)))+"&"+_:this.m&&Sg(A,this.m,U)),xg(this.h,$),this.Ua&&qe(A,"TYPE","init"),this.P?(qe(A,"$req",_),qe(A,"SID","null"),$.T=!0,vg($,A,null)):vg($,A,_),this.G=2}}else this.G==3&&(f?yx(this,f):this.i.length==0||Q1(this.h)||yx(this))};function yx(f,_){var A;_?A=_.l:A=f.U++;const j=Hr(f.I);qe(j,"SID",f.K),qe(j,"RID",A),qe(j,"AID",f.T),Wl(f,j),f.m&&f.o&&Sg(j,f.m,f.o),A=new Pi(f,f.j,A,f.B+1),f.m===null&&(A.H=f.o),_&&(f.i=_.D.concat(f.i)),_=vx(f,A,1e3),A.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),xg(f.h,A),vg(A,j,_)}function Wl(f,_){f.H&&P(f.H,function(A,j){qe(_,j,A)}),f.l&&tx({},function(A,j){qe(_,j,A)})}function vx(f,_,A){A=Math.min(f.i.length,A);var j=f.l?d(f.l.Na,f.l,f):null;e:{var $=f.i;let U=-1;for(;;){const Z=["count="+A];U==-1?0<A?(U=$[0].g,Z.push("ofs="+U)):U=0:Z.push("ofs="+U);let Le=!0;for(let Dt=0;Dt<A;Dt++){let Ae=$[Dt].g;const Kt=$[Dt].map;if(Ae-=U,0>Ae)U=Math.max(0,$[Dt].g-100),Le=!1;else try{m$(Kt,Z,"req"+Ae+"_")}catch{j&&j(Kt)}}if(Le){j=Z.join("&");break e}}}return f=f.i.splice(0,A),_.D=f,j}function _x(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;H||X(),L||(H(),L=!0),z.add(_,f),f.v=0}}function Tg(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Dl(d(f.Fa,f),xx(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,bx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Dl(d(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,un(10),Nf(this),bx(this))};function Ag(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function bx(f){f.g=new Pi(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=Hr(f.qa);qe(_,"RID","rpc"),qe(_,"SID",f.K),qe(_,"AID",f.T),qe(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&qe(_,"TO",f.ja),qe(_,"TYPE","xmlhttp"),Wl(f,_),f.m&&f.o&&Sg(_,f.m,f.o),f.L&&(f.g.I=f.L);var A=f.g;f=f.ia,A.L=1,A.v=If(Hr(_)),A.m=null,A.P=!0,G1(A,f)}t.Za=function(){this.C!=null&&(this.C=null,Nf(this),Tg(this),un(19))};function jf(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function wx(f,_){var A=null;if(f.g==_){jf(f),Ag(f),f.g=null;var j=2}else if(wg(f.h,_))A=_.D,Z1(f.h,_),j=1;else return;if(f.G!=0){if(_.o)if(j==1){A=_.m?_.m.length:0,_=Date.now()-_.F;var $=f.B;j=xf(),ln(j,new z1(j,A)),Rf(f)}else _x(f);else if($=_.s,$==3||$==0&&0<_.X||!(j==1&&_$(f,_)||j==2&&Tg(f)))switch(A&&0<A.length&&(_=f.h,_.i=_.i.concat(A)),$){case 1:ko(f,5);break;case 4:ko(f,10);break;case 3:ko(f,6);break;default:ko(f,2)}}}function xx(f,_){let A=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(A*=2),A*_}function ko(f,_){if(f.j.info("Error code "+_),_==2){var A=d(f.fb,f),j=f.Xa;const $=!j;j=new Co(j||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Af(j,"https"),If(j),$?h$(j.toString(),A):d$(j.toString(),A)}else un(2);f.G=0,f.l&&f.l.sa(_),Sx(f),gx(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function Sx(f){if(f.G=0,f.ka=[],f.l){const _=ex(f.h);(_.length!=0||f.i.length!=0)&&(v(f.ka,_),v(f.ka,f.i),f.h.i.length=0,m(f.i),f.i.length=0),f.l.ra()}}function Ex(f,_,A){var j=A instanceof Co?Hr(A):new Co(A);if(j.g!="")_&&(j.g=_+"."+j.g),Pf(j,j.s);else{var $=s.location;j=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;var U=new Co(null);j&&Af(U,j),_&&(U.g=_),$&&Pf(U,$),A&&(U.l=A),j=U}return A=f.D,_=f.ya,A&&_&&qe(j,A,_),qe(j,"VER",f.la),Wl(f,j),j}function Tx(f,_,A){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new st(new Of({eb:A})):new st(f.pa),_.Ha(f.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ax(){}t=Ax.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Df(){}Df.prototype.g=function(f,_){return new In(f,_)};function In(f,_){Gt.call(this),this.g=new mx(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!w(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!w(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new $a(this)}g(In,Gt),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Eg(this.g)},In.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.u&&(A={},A.__data__=hg(f),f=A);_.i.push(new n$(_.Ya++,f)),_.G==3&&Rf(_)},In.prototype.N=function(){this.g.l=null,delete this.j,Eg(this.g),delete this.g,In.aa.N.call(this)};function Px(f){pg.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const A in _){f=A;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}g(Px,pg);function Ix(){mg.call(this),this.status=1}g(Ix,mg);function $a(f){this.g=f}g($a,Ax),$a.prototype.ua=function(){ln(this.g,"a")},$a.prototype.ta=function(f){ln(this.g,new Px(f))},$a.prototype.sa=function(f){ln(this.g,new Ix)},$a.prototype.ra=function(){ln(this.g,"b")},Df.prototype.createWebChannel=Df.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,Wk=function(){return new Df},zk=function(){return xf()},Bk=Io,Uv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sf.NO_ERROR=0,Sf.TIMEOUT=8,Sf.HTTP_ERROR=6,Dh=Sf,W1.COMPLETE="complete",Uk=W1,V1.EventType=Rl,Rl.OPEN="a",Rl.CLOSE="b",Rl.ERROR="c",Rl.MESSAGE="d",Gt.prototype.listen=Gt.prototype.K,mu=V1,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,Fk=st}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const KS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new Ob("@firebase/firestore");function Zl(){return ha.logLevel}function ae(t,...e){if(ha.logLevel<=Se.DEBUG){const n=e.map(Nb);ha.debug(`Firestore (${pl}): ${t}`,...n)}}function gi(t,...e){if(ha.logLevel<=Se.ERROR){const n=e.map(Nb);ha.error(`Firestore (${pl}): ${t}`,...n)}}function Cs(t,...e){if(ha.logLevel<=Se.WARN){const n=e.map(Nb);ha.warn(`Firestore (${pl}): ${t}`,...n)}}function Nb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t="Unexpected state"){const e=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: `+t;throw gi(e),new Error(e)}function je(t,e){t||de()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class EV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TV{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ea,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ea)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new Hk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new en(e)}}class AV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class PV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new AV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){je(this.o===void 0);const r=o=>{o.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,ae("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new IV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=CV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function ks(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new oe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Oe.fromMillis(Date.now())}static fromDate(e){return Oe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Oe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new Oe(0,0))}static max(){return new me(new Oe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return oc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ye extends oc{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const kV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends oc{construct(e,n,r){return new Ft(e,n,r)}static isValidIdentifier(e){return kV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new oe(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new oe(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new oe(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Ye.fromString(e))}static fromName(e){return new se(Ye.fromString(e).popFirst(5))}static empty(){return new se(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Ye(e.slice()))}}function NV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new Oe(n+1,0):new Oe(n,r));return new fo(i,se.empty(),e)}function RV(t){return new fo(t.readTime,t.key,-1)}class fo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fo(me.min(),se.empty(),-1)}static max(){return new fo(me.max(),se.empty(),-1)}}function jV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==DV)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new K((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function $V(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Rb.oe=-1;function Xp(t){return t==null}function vd(t){return t===0&&1/t==-1/0}function LV(t){return typeof t=="number"&&Number.isInteger(t)&&!vd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=i??Lt.EMPTY,this.right=o??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Lt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YS(this.data.getIterator())}getIteratorFrom(e){return new YS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class YS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new jn([])}unionWith(e){let n=new Bt(Ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ks(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Kk("Invalid base64 string: "+o):o}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const VV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ho(t){if(je(!!t),typeof t=="string"){let e=0;const n=VV.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function da(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Db(t){const e=t.mapValue.fields.__previous_value__;return jb(e)?Db(e):e}function ac(t){const e=ho(t.mapValue.fields.__local_write_time__.timestampValue);return new Oe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class sc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jb(t)?4:BV(t)?9007199254740991:UV(t)?10:11:de()}function Lr(t,e){if(t===e)return!0;const n=pa(t);if(n!==pa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ac(t).isEqual(ac(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=ho(i.timestampValue),s=ho(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return da(i.bytesValue).isEqual(da(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ht(i.geoPointValue.latitude)===ht(o.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ht(i.integerValue)===ht(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=ht(i.doubleValue),s=ht(o.doubleValue);return a===s?vd(a)===vd(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return ks(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(XS(a)!==XS(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Lr(a[l],s[l])))return!1;return!0}(t,e);default:return de()}}function lc(t,e){return(t.values||[]).find(n=>Lr(n,e))!==void 0}function Ns(t,e){if(t===e)return 0;const n=pa(t),r=pa(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=ht(o.integerValue||o.doubleValue),l=ht(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return QS(t.timestampValue,e.timestampValue);case 4:return QS(ac(t),ac(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(o,a){const s=da(o),l=da(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=Pe(s[u],l[u]);if(c!==0)return c}return Pe(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=Pe(ht(o.latitude),ht(a.latitude));return s!==0?s:Pe(ht(o.longitude),ht(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return JS(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,c;const h=o.fields||{},d=a.fields||{},p=(s=h.value)===null||s===void 0?void 0:s.arrayValue,g=(l=d.value)===null||l===void 0?void 0:l.arrayValue,m=Pe(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return m!==0?m:JS(p,g)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===rh.mapValue&&a===rh.mapValue)return 0;if(o===rh.mapValue)return 1;if(a===rh.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=Pe(l[h],c[h]);if(d!==0)return d;const p=Ns(s[l[h]],u[c[h]]);if(p!==0)return p}return Pe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw de()}}function QS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=ho(t),r=ho(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function JS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ns(n[i],r[i]);if(o)return o}return Pe(n.length,r.length)}function Rs(t){return Bv(t)}function Bv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ho(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return da(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Bv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Bv(n.fields[a])}`;return i+"}"}(t.mapValue):de()}function ZS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zv(t){return!!t&&"integerValue"in t}function Mb(t){return!!t&&"arrayValue"in t}function eE(t){return!!t&&"nullValue"in t}function tE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mh(t){return!!t&&"mapValue"in t}function UV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ou(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Pa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ou(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ou(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ou(n)}setAll(e){let n=Ft.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=Ou(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Pa(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new wn(Ou(this.value))}}function Xk(t){const e=[];return Pa(t.fields,(n,r)=>{const i=new Ft([n]);if(Mh(r)){const o=Xk(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new nn(e,0,me.min(),me.min(),me.min(),wn.empty(),0)}static newFoundDocument(e,n,r,i){return new nn(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new nn(e,2,n,me.min(),me.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,me.min(),me.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n){this.position=e,this.inclusive=n}}function nE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=se.comparator(se.fromName(a.referenceValue),n.key):r=Ns(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function rE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n="asc"){this.field=e,this.dir=n}}function zV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{}class vt extends Yk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HV(e,n,r):n==="array-contains"?new KV(e,r):n==="in"?new XV(e,r):n==="not-in"?new YV(e,r):n==="array-contains-any"?new QV(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qV(e,r):new GV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ns(n,this.value)):n!==null&&pa(this.value)===pa(n)&&this.matchesComparison(Ns(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends Yk{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new vr(e,n)}matches(e){return Qk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Qk(t){return t.op==="and"}function Jk(t){return WV(t)&&Qk(t)}function WV(t){for(const e of t.filters)if(e instanceof vr)return!1;return!0}function Wv(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+Rs(t.value);if(Jk(t))return t.filters.map(e=>Wv(e)).join(",");{const e=t.filters.map(n=>Wv(n)).join(",");return`${t.op}(${e})`}}function Zk(t,e){return t instanceof vt?function(r,i){return i instanceof vt&&r.op===i.op&&r.field.isEqual(i.field)&&Lr(r.value,i.value)}(t,e):t instanceof vr?function(r,i){return i instanceof vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&Zk(a,i.filters[s]),!0):!1}(t,e):void de()}function eN(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Rs(n.value)}`}(t):t instanceof vr?function(n){return n.op.toString()+" {"+n.getFilters().map(eN).join(" ,")+"}"}(t):"Filter"}class HV extends vt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class qV extends vt{constructor(e,n){super(e,"in",n),this.keys=tN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GV extends vt{constructor(e,n){super(e,"not-in",n),this.keys=tN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class KV extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mb(n)&&lc(n.arrayValue,this.value)}}class XV extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lc(this.value.arrayValue,n)}}class YV extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!lc(this.value.arrayValue,n)}}class QV extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function iE(t,e=null,n=[],r=[],i=null,o=null,a=null){return new JV(t,e,n,r,i,o,a)}function $b(t){const e=ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Xp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Rs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Rs(r)).join(",")),e.ue=n}return e.ue}function Lb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Zk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rE(t.startAt,e.startAt)&&rE(t.endAt,e.endAt)}function Hv(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ZV(t,e,n,r,i,o,a,s){return new rf(t,e,n,r,i,o,a,s)}function Vb(t){return new rf(t)}function oE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nN(t){return t.collectionGroup!==null}function Cu(t){const e=ge(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Bt(Ft.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new bd(o,r))}),n.has(Ft.keyField().canonicalString())||e.ce.push(new bd(Ft.keyField(),r))}return e.ce}function Cr(t){const e=ge(t);return e.le||(e.le=eF(e,Cu(t))),e.le}function eF(t,e){if(t.limitType==="F")return iE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new bd(i.field,o)});const n=t.endAt?new _d(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _d(t.startAt.position,t.startAt.inclusive):null;return iE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qv(t,e){const n=t.filters.concat([e]);return new rf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gv(t,e,n){return new rf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yp(t,e){return Lb(Cr(t),Cr(e))&&t.limitType===e.limitType}function rN(t){return`${$b(Cr(t))}|lt:${t.limitType}`}function za(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eN(i)).join(", ")}]`),Xp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Rs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Rs(i)).join(",")),`Target(${r})`}(Cr(t))}; limitType=${t.limitType})`}function Qp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):se.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Cu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=nE(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,Cu(r),i)||r.endAt&&!function(a,s,l){const u=nE(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,Cu(r),i))}(t,e)}function tF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iN(t){return(e,n)=>{let r=!1;for(const i of Cu(t)){const o=nF(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function nF(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Ns(l,u):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Gk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=new ot(se.comparator);function yi(){return rF}const oN=new ot(se.comparator);function gu(...t){let e=oN;for(const n of t)e=e.insert(n.key,n);return e}function aN(t){let e=oN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ho(){return ku()}function sN(){return ku()}function ku(){return new ml(t=>t.toString(),(t,e)=>t.isEqual(e))}const iF=new ot(se.comparator),oF=new Bt(se.comparator);function we(...t){let e=oF;for(const n of t)e=e.add(n);return e}const aF=new Bt(Pe);function sF(){return aF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function lN(t){return{integerValue:""+t}}function lF(t,e){return LV(e)?lN(e):Fb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this._=void 0}}function uF(t,e,n){return t instanceof wd?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jb(o)&&(o=Db(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof uc?cN(t,e):t instanceof cc?fN(t,e):function(i,o){const a=uN(i,o),s=aE(a)+aE(i.Pe);return zv(a)&&zv(i.Pe)?lN(s):Fb(i.serializer,s)}(t,e)}function cF(t,e,n){return t instanceof uc?cN(t,e):t instanceof cc?fN(t,e):n}function uN(t,e){return t instanceof xd?function(r){return zv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class wd extends Jp{}class uc extends Jp{constructor(e){super(),this.elements=e}}function cN(t,e){const n=hN(e);for(const r of t.elements)n.some(i=>Lr(i,r))||n.push(r);return{arrayValue:{values:n}}}class cc extends Jp{constructor(e){super(),this.elements=e}}function fN(t,e){let n=hN(e);for(const r of t.elements)n=n.filter(i=>!Lr(i,r));return{arrayValue:{values:n}}}class xd extends Jp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function aE(t){return ht(t.integerValue||t.doubleValue)}function hN(t){return Mb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof uc&&i instanceof uc||r instanceof cc&&i instanceof cc?ks(r.elements,i.elements,Lr):r instanceof xd&&i instanceof xd?Lr(r.Pe,i.Pe):r instanceof wd&&i instanceof wd}(t.transform,e.transform)}class hF{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $h(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zp{}function dN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ub(t.key,Jn.none()):new of(t.key,t.data,Jn.none());{const n=t.data,r=wn.empty();let i=new Bt(Ft.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new wo(t.key,r,new jn(i.toArray()),Jn.none())}}function dF(t,e,n){t instanceof of?function(i,o,a){const s=i.value.clone(),l=lE(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof wo?function(i,o,a){if(!$h(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=lE(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(pN(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Nu(t,e,n,r){return t instanceof of?function(o,a,s,l){if(!$h(o.precondition,a))return s;const u=o.value.clone(),c=uE(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof wo?function(o,a,s,l){if(!$h(o.precondition,a))return s;const u=uE(o.fieldTransforms,l,a),c=a.data;return c.setAll(pN(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,a,s){return $h(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function pF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=uN(r.transform,i||null);o!=null&&(n===null&&(n=wn.empty()),n.set(r.field,o))}return n||null}function sE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ks(r,i,(o,a)=>fF(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class of extends Zp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wo extends Zp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function lE(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,cF(a,s,n[i]))}return r}function uE(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,uF(o,a,e))}return r}class Ub extends Zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mF extends Zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&dF(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sN();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=dN(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&ks(this.mutations,e.mutations,(n,r)=>sE(n,r))&&ks(this.baseMutations,e.baseMutations,(n,r)=>sE(n,r))}}class Bb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return iF}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new Bb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Ee;function _F(t){switch(t){default:return de();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function mN(t){if(t===void 0)return gi("GRPC error has no .code"),q.UNKNOWN;switch(t){case mt.OK:return q.OK;case mt.CANCELLED:return q.CANCELLED;case mt.UNKNOWN:return q.UNKNOWN;case mt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case mt.INTERNAL:return q.INTERNAL;case mt.UNAVAILABLE:return q.UNAVAILABLE;case mt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case mt.NOT_FOUND:return q.NOT_FOUND;case mt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case mt.ABORTED:return q.ABORTED;case mt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case mt.DATA_LOSS:return q.DATA_LOSS;default:return de()}}(Ee=mt||(mt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=new Zo([4294967295,4294967295],0);function cE(t){const e=bF().encode(t),n=new Vk;return n.update(e),new Uint8Array(n.digest())}function fE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Zo([n,r],0),new Zo([i,o],0)]}class zb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yu(`Invalid padding: ${n}`);if(r<0)throw new yu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Zo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Zo.fromNumber(r)));return i.compare(wF)===1&&(i=new Zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=cE(e),[r,i]=fE(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new zb(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=cE(e),[r,i]=fE(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,af.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new em(me.min(),i,new ot(Pe),yi(),we())}}class af{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new af(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class gN{constructor(e,n){this.targetId=e,this.me=n}}class yN{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class hE{constructor(){this.fe=0,this.ge=pE(),this.pe=Ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=we(),n=we(),r=we();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:de()}}),new af(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=pE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xF{constructor(e){this.Le=e,this.Be=new Map,this.ke=yi(),this.qe=dE(),this.Qe=new ot(Pe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Hv(o))if(r===0){const a=new se(o.path);this.Ue(n,a,nn.newNoDocument(a,me.min()))}else je(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=da(r).toUint8Array()}catch(l){if(l instanceof Kk)return Cs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new zb(a,i,o)}catch(l){return Cs(l instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&Hv(s.target)){const l=new se(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,nn.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=we();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new em(e,n,this.Qe,this.ke,r);return this.ke=yi(),this.qe=dE(),this.Qe=new ot(Pe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new hE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Bt(Pe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new hE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function dE(){return new ot(se.comparator)}function pE(){return new ot(se.comparator)}const SF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),EF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),TF=(()=>({and:"AND",or:"OR"}))();class AF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kv(t,e){return t.useProto3Json||Xp(e)?e:{value:e}}function Sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PF(t,e){return Sd(t,e.toTimestamp())}function kr(t){return je(!!t),me.fromTimestamp(function(n){const r=ho(n);return new Oe(r.seconds,r.nanos)}(t))}function Wb(t,e){return Xv(t,e).canonicalString()}function Xv(t,e){const n=function(i){return new Ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _N(t){const e=Ye.fromString(t);return je(EN(e)),e}function Yv(t,e){return Wb(t.databaseId,e.path)}function oy(t,e){const n=_N(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(wN(n))}function bN(t,e){return Wb(t.databaseId,e)}function IF(t){const e=_N(t);return e.length===4?Ye.emptyPath():wN(e)}function Qv(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wN(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function mE(t,e,n){return{name:Yv(t,e),fields:n.value.mapValue.fields}}function OF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(je(c===void 0||typeof c=="string"),Ht.fromBase64String(c||"")):(je(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Ht.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?q.UNKNOWN:mN(u.code);return new oe(c,u.message||"")}(a);n=new yN(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=oy(t,r.document.name),o=kr(r.document.updateTime),a=r.document.createTime?kr(r.document.createTime):me.min(),s=new wn({mapValue:{fields:r.document.fields}}),l=nn.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Lh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=oy(t,r.document),o=r.readTime?kr(r.readTime):me.min(),a=nn.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Lh([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=oy(t,r.document),o=r.removedTargetIds||[];n=new Lh([],o,i,null)}else{if(!("filter"in e))return de();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new vF(i,o),s=r.targetId;n=new gN(s,a)}}return n}function CF(t,e){let n;if(e instanceof of)n={update:mE(t,e.key,e.value)};else if(e instanceof Ub)n={delete:Yv(t,e.key)};else if(e instanceof wo)n={update:mE(t,e.key,e.data),updateMask:VF(e.fieldMask)};else{if(!(e instanceof mF))return de();n={verify:Yv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof wd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof uc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof cc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof xd)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:PF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:de()}(t,e.precondition)),n}function kF(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?kr(i.updateTime):kr(o);return a.isEqual(me.min())&&(a=kr(o)),new hF(a,i.transformResults||[])}(n,e))):[]}function NF(t,e){return{documents:[bN(t,e.path)]}}function RF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bN(t,i);const o=function(u){if(u.length!==0)return SN(vr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Wa(d.field),direction:MF(d.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Kv(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function jF(t){let e=IF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const d=xN(h);return d instanceof vr&&Jk(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(d=>function(g){return new bd(Ha(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(h){let d;return d=typeof h=="object"?h.value:h,Xp(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new _d(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,p=h.values||[];return new _d(p,d)}(n.endAt)),ZV(e,i,a,o,s,"F",l,u)}function DF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ha(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ha(n.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ha(n.unaryFilter.field);return vt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ha(n.unaryFilter.field);return vt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(n){return vt.create(Ha(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vr.create(n.compositeFilter.filters.map(r=>xN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(t):de()}function MF(t){return SF[t]}function $F(t){return EF[t]}function LF(t){return TF[t]}function Wa(t){return{fieldPath:t.canonicalString()}}function Ha(t){return Ft.fromServerFormat(t.fieldPath)}function SN(t){return t instanceof vt?function(n){if(n.op==="=="){if(tE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(eE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(eE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:$F(n.op),value:n.value}}}(t):t instanceof vr?function(n){const r=n.getFilters().map(i=>SN(i));return r.length===1?r[0]:{compositeFilter:{op:LF(n.op),filters:r}}}(t):de()}function VF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r,i,o=me.min(),a=me.min(),s=Ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e){this.ct=e}}function UF(t){const e=jF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this.un=new zF}addToCollectionParentIndex(e,n){return this.un.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(fo.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class zF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bt(Ye.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new js(0)}static kn(){return new js(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(){this.changes=new ml(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Nu(r.mutation,i,jn.empty(),Oe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=Ho();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=gu();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ho();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=yi();const a=ku(),s=function(){return ku()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof wo)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),Nu(c.mutation,u,c.mutation.getFieldMask(),Oe.now())):a.set(u.key,jn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var h;return s.set(u,new HF(c,(h=a.get(u))!==null&&h!==void 0?h:null))}),s))}recalculateAndSaveOverlays(e,n){const r=ku();let i=new ot((a,s)=>a-s),o=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||jn.empty();c=s.applyToLocalView(u,c),r.set(l,c);const h=(i.get(s.batchId)||we()).add(l);i=i.insert(s.batchId,h)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,h=sN();c.forEach(d=>{if(!o.has(d)){const p=dN(n.get(d),r.get(d));p!==null&&h.set(d,p),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return K.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return se.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):K.resolve(Ho());let s=-1,l=o;return a.next(u=>K.forEach(u,(c,h)=>(s<h.largestBatchId&&(s=h.largestBatchId),o.get(c)?K.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,we())).next(c=>({batchId:s,changes:aN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=gu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=gu();return this.indexManager.getCollectionParents(e,o).next(s=>K.forEach(s,l=>{const u=function(h,d){return new rf(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{a=a.insert(h,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,nn.newInvalidDocument(c)))});let s=gu();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Nu(c.mutation,u,jn.empty(),Oe.now()),Qp(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return K.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:kr(i.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:UF(i.bundledQuery),readTime:kr(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(){this.overlays=new ot(se.comparator),this.Ir=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ho();return K.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=Ho(),o=n.length+1,a=new se(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ot((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Ho(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Ho(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return K.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new yF(n,r));let o=this.Ir.get(n);o===void 0&&(o=we(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.Tr=new Bt(It.Er),this.dr=new Bt(It.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new It(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new It(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new se(new Ye([])),r=new It(n,e),i=new It(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new se(new Ye([])),r=new It(n,e),i=new It(n,e+1);let o=we();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new It(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return se.comparator(e.key,n.key)||Pe(e.wr,n.wr)}static Ar(e,n){return Pe(e.wr,n.wr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Bt(It.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new gF(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new It(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,n){return K.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),i=new It(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Pe);return n.forEach(i=>{const o=new It(i,0),a=new It(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),K.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;se.isDocumentKey(o)||(o=o.child(""));const a=new It(new se(o),0);let s=new Bt(Pe);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),K.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return K.forEach(n.mutations,i=>{const o=new It(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new It(n,0),i=this.br.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e){this.Mr=e,this.docs=function(){return new ot(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=yi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():nn.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=yi();const a=n.path,s=new se(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||jV(RV(c),r)<=0||(i.has(c.key)||Qp(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,n,r,i){de()}Or(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new JF(this)}getSize(e){return K.resolve(this.size)}}class JF extends WF{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e){this.persistence=e,this.Nr=new ml(n=>$b(n),Lb),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Hb,this.targetCount=0,this.kr=js.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),K.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new js(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Kn(n),K.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),K.waitFor(o).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Rb(0),this.Kr=!1,this.Kr=!0,this.$r=new XF,this.referenceDelegate=e(this),this.Ur=new ZF(this),this.indexManager=new BF,this.remoteDocumentCache=function(i){return new QF(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new FF(n),this.Gr=new GF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new YF(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const i=new t6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return K.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class t6 extends MV{constructor(e){super(),this.currentSequenceNumber=e}}class qb{constructor(e){this.persistence=e,this.Jr=new Hb,this.Yr=null}static Zr(e){return new qb(e)}get Xr(){if(this.Yr)return this.Yr;throw de()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),K.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,r=>{const i=se.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return K.or([()=>K.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=we(),i=we();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Gb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return a3()?8:$V(sn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new n6;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Zl()<=Se.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(Zl()<=Se.DEBUG&&ae("QueryEngine","Query:",za(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Zl()<=Se.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(n))):K.resolve())}Yi(e,n){if(oE(n))return K.resolve(null);let r=Cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Gv(n,null,"F"),r=Cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=we(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,Gv(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return oE(n)||i.isEqual(me.min())?K.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?K.resolve(null):(Zl()<=Se.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),za(n)),this.rs(e,a,n,NV(i,-1)).next(s=>s))})}ts(e,n){let r=new Bt(iN(e));return n.forEach((i,o)=>{Qp(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Zl()<=Se.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",za(n)),this.Ji.getDocumentsMatchingQuery(e,n,fo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ot(Pe),this._s=new ml(o=>$b(o),Lb),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qF(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function o6(t,e,n,r){return new i6(t,e,n,r)}async function TN(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=we();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function a6(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const h=u.batch,d=h.keys();let p=K.resolve();return d.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(m=>{const v=u.docVersions.get(g);je(v!==null),m.version.compareTo(v)<0&&(h.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=we();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function AN(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function s6(t,e){const n=ge(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;s.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,h)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Ht.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,p,c)&&s.push(n.Ur.updateTargetData(o,p))});let l=yi(),u=we();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(l6(o,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(me.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return K.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function l6(t,e,n){let r=we(),i=we();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=yi();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):ae("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function u6(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function c6(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,K.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new qi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Jv(t,e,n){const r=ge(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!nf(a))throw a;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function gE(t,e,n){const r=ge(t);let i=me.min(),o=we();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const h=ge(l),d=h._s.get(c);return d!==void 0?K.resolve(h.os.get(d)):h.Ur.getTargetData(u,c)}(r,a,Cr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:me.min(),n?o:we())).next(s=>(f6(r,tF(e),s),{documents:s,Ts:o})))}function f6(t,e,n){let r=t.us.get(e)||me.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class yE{constructor(){this.activeTargetIds=sF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h6{constructor(){this.so=new yE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new yE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function ay(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class g6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=ay(),l=this.xo(n,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(c=>(ae("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw Cs("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=p6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=ay();return new Promise((a,s)=>{const l=new Fk;l.setWithCredentials(!0),l.listenOnce(Uk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Dh.NO_ERROR:const c=l.getResponseJson();ae(Jt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),a(c);break;case Dh.TIMEOUT:ae(Jt,`RPC '${e}' ${o} timed out`),s(new oe(q.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const h=l.getStatus();if(ae(Jt,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const g=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(y)>=0?y:q.UNKNOWN}(p.status);s(new oe(g,p.message))}else s(new oe(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new oe(q.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{ae(Jt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ae(Jt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=ay(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Wk(),s=zk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ae(Jt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=a.createWebChannel(c,l);let d=!1,p=!1;const g=new m6({Io:v=>{p?ae(Jt,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(ae(Jt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),ae(Jt,`RPC '${e}' stream ${i} sending:`,v),h.send(v))},To:()=>h.close()}),m=(v,y,w)=>{v.listen(y,b=>{try{w(b)}catch(I){setTimeout(()=>{throw I},0)}})};return m(h,mu.EventType.OPEN,()=>{p||(ae(Jt,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),m(h,mu.EventType.CLOSE,()=>{p||(p=!0,ae(Jt,`RPC '${e}' stream ${i} transport closed`),g.So())}),m(h,mu.EventType.ERROR,v=>{p||(p=!0,Cs(Jt,`RPC '${e}' stream ${i} transport errored:`,v),g.So(new oe(q.UNAVAILABLE,"The operation could not be completed")))}),m(h,mu.EventType.MESSAGE,v=>{var y;if(!p){const w=v.data[0];je(!!w);const b=w,I=b.error||((y=b[0])===null||y===void 0?void 0:y.error);if(I){ae(Jt,`RPC '${e}' stream ${i} received error:`,I);const T=I.status;let P=function(O){const k=mt[O];if(k!==void 0)return mN(k)}(T),S=I.message;P===void 0&&(P=q.INTERNAL,S="Unknown error status: "+T+" with message "+I.message),p=!0,g.So(new oe(P,S)),h.close()}else ae(Jt,`RPC '${e}' stream ${i} received:`,w),g.bo(w)}}),m(s,Bk.STAT_EVENT,v=>{v.stat===Uv.PROXY?ae(Jt,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Uv.NOPROXY&&ae(Jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function sy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t){return new AF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new PN(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new oe(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y6 extends IN{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=OF(this.serializer,e),r=function(o){if(!("targetChange"in o))return me.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?me.min():a.readTime?kr(a.readTime):me.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Qv(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=Hv(l)?{documents:NF(o,l)}:{query:RF(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=vN(o,a.resumeToken);const u=Kv(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(me.min())>0){s.readTime=Sd(o,a.snapshotVersion.toTimestamp());const u=Kv(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=DF(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Qv(this.serializer),n.removeTarget=e,this.a_(n)}}class v6 extends IN{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=kF(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Qv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CF(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new oe(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Xv(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(q.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,Xv(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new oe(q.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class b6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gi(n),this.D_=!1):ae("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{Ia(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ge(l);u.L_.add(4),await sf(u),u.q_.set("Unknown"),u.L_.delete(4),await nm(u)}(this))})}),this.q_=new b6(r,i)}}async function nm(t){if(Ia(t))for(const e of t.B_)await e(!0)}async function sf(t){for(const e of t.B_)await e(!1)}function ON(t,e){const n=ge(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Qb(n)?Yb(n):gl(n).r_()&&Xb(n,e))}function Kb(t,e){const n=ge(t),r=gl(n);n.N_.delete(e),r.r_()&&CN(n,e),n.N_.size===0&&(r.r_()?r.o_():Ia(n)&&n.q_.set("Unknown"))}function Xb(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gl(t).A_(e)}function CN(t,e){t.Q_.xe(e),gl(t).R_(e)}function Yb(t){t.Q_=new xF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),gl(t).start(),t.q_.v_()}function Qb(t){return Ia(t)&&!gl(t).n_()&&t.N_.size>0}function Ia(t){return ge(t).L_.size===0}function kN(t){t.Q_=void 0}async function x6(t){t.q_.set("Online")}async function S6(t){t.N_.forEach((e,n)=>{Xb(t,e)})}async function E6(t,e){kN(t),Qb(t)?(t.q_.M_(e),Yb(t)):t.q_.set("Unknown")}async function T6(t,e,n){if(t.q_.set("Online"),e instanceof yN&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ed(t,r)}else if(e instanceof Lh?t.Q_.Ke(e):e instanceof gN?t.Q_.He(e):t.Q_.We(e),!n.isEqual(me.min()))try{const r=await AN(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Ht.EMPTY_BYTE_STRING,c.snapshotVersion)),CN(o,l);const h=new qi(c.target,l,u,c.sequenceNumber);Xb(o,h)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),await Ed(t,r)}}async function Ed(t,e,n){if(!nf(e))throw e;t.L_.add(1),await sf(t),t.q_.set("Offline"),n||(n=()=>AN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await nm(t)})}function NN(t,e){return e().catch(n=>Ed(t,n,e))}async function rm(t){const e=ge(t),n=po(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;A6(e);)try{const i=await u6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,P6(e,i)}catch(i){await Ed(e,i)}RN(e)&&jN(e)}function A6(t){return Ia(t)&&t.O_.length<10}function P6(t,e){t.O_.push(e);const n=po(t);n.r_()&&n.V_&&n.m_(e.mutations)}function RN(t){return Ia(t)&&!po(t).n_()&&t.O_.length>0}function jN(t){po(t).start()}async function I6(t){po(t).p_()}async function O6(t){const e=po(t);for(const n of t.O_)e.m_(n.mutations)}async function C6(t,e,n){const r=t.O_.shift(),i=Bb.from(r,e,n);await NN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rm(t)}async function k6(t,e){e&&po(t).V_&&await async function(r,i){if(function(a){return _F(a)&&a!==q.ABORTED}(i.code)){const o=r.O_.shift();po(r).s_(),await NN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await rm(r)}}(t,e),RN(t)&&jN(t)}async function _E(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=Ia(n);n.L_.add(3),await sf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await nm(n)}async function N6(t,e){const n=ge(t);e?(n.L_.delete(2),await nm(n)):e||(n.L_.add(2),await sf(n),n.q_.set("Unknown"))}function gl(t){return t.K_||(t.K_=function(n,r,i){const o=ge(n);return o.w_(),new y6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:x6.bind(null,t),Ro:S6.bind(null,t),mo:E6.bind(null,t),d_:T6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Qb(t)?Yb(t):t.q_.set("Unknown")):(await t.K_.stop(),kN(t))})),t.K_}function po(t){return t.U_||(t.U_=function(n,r,i){const o=ge(n);return o.w_(),new v6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:I6.bind(null,t),mo:k6.bind(null,t),f_:O6.bind(null,t),g_:C6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await rm(t)):(await t.U_.stop(),t.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new Jb(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zb(t,e){if(gi("AsyncQueue",`${e}: ${t}`),nf(t))return new oe(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=gu(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new gs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.W_=new ot(se.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):de():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ds{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Ds(e,n,gs.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class j6{constructor(){this.queries=wE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ge(n),o=i.queries;i.queries=wE(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new oe(q.ABORTED,"Firestore shutting down"))}}function wE(){return new ml(t=>rN(t),Yp)}async function D6(t,e){const n=ge(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new R6,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=Zb(a,`Initialization of query '${za(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&ew(n)}async function M6(t,e){const n=ge(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $6(t,e){const n=ge(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&ew(n)}function L6(t,e,n){const r=ge(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function ew(t){t.Y_.forEach(e=>{e.next()})}var Zv,xE;(xE=Zv||(Zv={})).ea="default",xE.Cache="cache";class V6{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ds(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ds.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Zv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.key=e}}class MN{constructor(e){this.key=e}}class F6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=we(),this.mutatedKeys=we(),this.Aa=iN(e),this.Ra=new gs(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new bE,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),p=Qp(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;d&&p?d.data.isEqual(p.data)?g!==m&&(r.track({type:3,doc:p}),v=!0):this.ga(d,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),v=!0):d&&!p&&(r.track({type:1,doc:d}),v=!0,(l||u)&&(s=!0)),v&&(p?(a=a.add(p),o=m?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,h)=>function(p,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return m(p)-m(g)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Ds(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new bE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=we(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new MN(r))}),this.da.forEach(r=>{e.has(r)||n.push(new DN(r))}),n}ba(e){this.Ta=e.Ts,this.da=we();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ds.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class U6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class B6{constructor(e){this.key=e,this.va=!1}}class z6{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new ml(s=>rN(s),Yp),this.Ma=new Map,this.xa=new Set,this.Oa=new ot(se.comparator),this.Na=new Map,this.La=new Hb,this.Ba={},this.ka=new Map,this.qa=js.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function W6(t,e,n=!0){const r=BN(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await $N(r,e,n,!0),i}async function H6(t,e){const n=BN(t);await $N(n,e,!0,!1)}async function $N(t,e,n,r){const i=await c6(t.localStore,Cr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await q6(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&ON(t.remoteStore,i),s}async function q6(t,e,n,r,i){t.Ka=(h,d,p)=>async function(m,v,y,w){let b=v.view.ma(y);b.ns&&(b=await gE(m.localStore,v.query,!1).then(({documents:S})=>v.view.ma(S,b)));const I=w&&w.targetChanges.get(v.targetId),T=w&&w.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(b,m.isPrimaryClient,I,T);return EE(m,v.targetId,P.wa),P.snapshot}(t,h,d,p);const o=await gE(t.localStore,e,!0),a=new F6(e,o.Ts),s=a.ma(o.documents),l=af.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);EE(t,n,u.wa);const c=new U6(e,n,a);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function G6(t,e,n){const r=ge(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!Yp(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Kb(r.remoteStore,i.targetId),e0(r,i.targetId)}).catch(tf)):(e0(r,i.targetId),await Jv(r.localStore,i.targetId,!0))}async function K6(t,e){const n=ge(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kb(n.remoteStore,r.targetId))}async function X6(t,e,n){const r=nU(t);try{const i=await function(a,s){const l=ge(a),u=Oe.now(),c=s.reduce((p,g)=>p.add(g.key),we());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=yi(),m=we();return l.cs.getEntries(p,c).next(v=>{g=v,g.forEach((y,w)=>{w.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{h=v;const y=[];for(const w of s){const b=pF(w,h.get(w.key).overlayedDocument);b!=null&&y.push(new wo(w.key,b,Xk(b.value.mapValue),Jn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,s)}).next(v=>{d=v;const y=v.applyToLocalDocumentSet(h,m);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:d.batchId,changes:aN(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new ot(Pe)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await lf(r,i.changes),await rm(r.remoteStore)}catch(i){const o=Zb(i,"Failed to persist write");n.reject(o)}}async function LN(t,e){const n=ge(t);try{const r=await s6(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?je(a.va):i.removedDocuments.size>0&&(je(a.va),a.va=!1))}),await lf(n,r,e)}catch(r){await tf(r)}}function SE(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=ge(a);l.onlineState=s;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.j_)d.Z_(s)&&(u=!0)}),u&&ew(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Y6(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new ot(se.comparator);a=a.insert(o,nn.newNoDocument(o,me.min()));const s=we().add(o),l=new em(me.min(),new Map,new ot(Pe),a,s);await LN(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),tw(r)}else await Jv(r.localStore,e,!1).then(()=>e0(r,e,n)).catch(tf)}async function Q6(t,e){const n=ge(t),r=e.batch.batchId;try{const i=await a6(n.localStore,e);FN(n,r,null),VN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lf(n,i)}catch(i){await tf(i)}}async function J6(t,e,n){const r=ge(t);try{const i=await function(a,s){const l=ge(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(h=>(je(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);FN(r,e,n),VN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lf(r,i)}catch(i){await tf(i)}}function VN(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function FN(t,e,n){const r=ge(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function e0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||UN(t,r)})}function UN(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Kb(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),tw(t))}function EE(t,e,n){for(const r of n)r instanceof DN?(t.La.addReference(r.key,e),Z6(t,r)):r instanceof MN?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||UN(t,r.key)):de()}function Z6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.xa.add(r),tw(t))}function tw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new se(Ye.fromString(e)),r=t.qa.next();t.Na.set(r,new B6(n)),t.Oa=t.Oa.insert(n,r),ON(t.remoteStore,new qi(Cr(Vb(n.path)),r,"TargetPurposeLimboResolution",Rb.oe))}}async function lf(t,e,n){const r=ge(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Gb.Wi(l.targetId,u);o.push(h)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const c=ge(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>K.forEach(u,d=>K.forEach(d.$i,p=>c.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>K.forEach(d.Ui,p=>c.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!nf(h))throw h;ae("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const p=c.os.get(d),g=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(d,m)}}}(r.localStore,o))}async function eU(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=await TN(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new oe(q.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lf(n,r.hs)}}function tU(t,e){const n=ge(t),r=n.Na.get(e);if(r&&r.va)return we().add(r.key);{let i=we();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function BN(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y6.bind(null,e),e.Ca.d_=$6.bind(null,e.eventManager),e.Ca.$a=L6.bind(null,e.eventManager),e}function nU(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J6.bind(null,e),e}class Td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return o6(this.persistence,new r6,e.initialUser,this.serializer)}Ga(e){return new e6(qb.Zr,this.serializer)}Wa(e){return new h6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Td.provider={build:()=>new Td};class t0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eU.bind(null,this.syncEngine),await N6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new j6}()}createDatastore(e){const n=tm(e.databaseInfo.databaseId),r=function(o){return new g6(o)}(e.databaseInfo);return function(o,a,s,l){return new _6(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new w6(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>SE(this.syncEngine,n,0),function(){return vE.D()?new vE:new d6}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const h=new z6(i,o,a,s,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ge(i);ae("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await sf(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}t0.provider={build:()=>new t0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=en.UNAUTHENTICATED,this.clientId=qk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{ae("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ae("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ly(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await TN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function TE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await oU(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_E(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>_E(e.remoteStore,i)),t._onlineComponents=e}async function oU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await ly(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Cs("Error using user provided cache. Falling back to memory cache: "+n),await ly(t,new Td)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await ly(t,new Td);return t._offlineComponents}async function zN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await TE(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await TE(t,new t0))),t._onlineComponents}function aU(t){return zN(t).then(e=>e.syncEngine)}async function AE(t){const e=await zN(t),n=e.eventManager;return n.onListen=W6.bind(null,e.syncEngine),n.onUnlisten=G6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=H6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=K6.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t,e,n){if(!n)throw new oe(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sU(t,e,n,r){if(e===!0&&r===!0)throw new oe(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IE(t){if(!se.isDocumentKey(t))throw new oe(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OE(t){if(se.isDocumentKey(t))throw new oe(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function im(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function Nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=im(t);throw new oe(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new oe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new oe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new oe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class om{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new SV;switch(r.type){case"firstParty":return new PV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=PE.get(n);r&&(ae("ComponentProvider","Removing Datastore"),PE.delete(n),r.terminate())}(this),Promise.resolve()}}function lU(t,e,n,r={}){var i;const o=(t=Nr(t,om))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=en.MOCK_USER;else{s=Rk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new oe(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new en(u)}t._authCredentials=new EV(new Hk(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yl(this.firestore,e,this._query)}}class gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class io extends yl{constructor(e,n,r){super(e,n,Vb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new se(e))}withConverter(e){return new io(this.firestore,e,this._path)}}function zt(t,e,...n){if(t=pt(t),HN("collection","path",e),t instanceof om){const r=Ye.fromString(e,...n);return OE(r),new io(t,null,r)}{if(!(t instanceof gn||t instanceof io))throw new oe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return OE(r),new io(t.firestore,null,r)}}function Rr(t,e,...n){if(t=pt(t),arguments.length===1&&(e=qk.newId()),HN("doc","path",e),t instanceof om){const r=Ye.fromString(e,...n);return IE(r),new gn(t,null,new se(r))}{if(!(t instanceof gn||t instanceof io))throw new oe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return IE(r),new gn(t.firestore,t instanceof io?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new PN(this,"async_queue_retry"),this.Vu=()=>{const r=sy();r&&ae("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=sy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=sy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ea;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!nf(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw gi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Jb.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&de()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function NE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ma extends om{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new kE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kE(e),this._firestoreClient=void 0,await e}}}function uU(t,e){const n=typeof t=="object"?t:kb(),r=typeof t=="string"?t:e||"(default)",i=Kp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Ck("firestore");o&&lU(i,...o)}return i}function qN(t){if(t._terminated)throw new oe(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cU(t),t._firestoreClient}function cU(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,c){return new FV(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,WN(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new iU(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ms(Ht.fromBase64String(e))}catch(n){throw new oe(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ms(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=/^__.*__$/;class hU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wo(e,this.data,this.fieldMask,n,this.fieldTransforms):new of(e,this.data,n,this.fieldTransforms)}}class GN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class ow{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ow(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ad(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(KN(this.Cu)&&fU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class dU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tm(e)}Qu(e,n,r,i=!1){return new ow({Cu:e,methodName:n,qu:r,path:Ft.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sm(t){const e=t._freezeSettings(),n=tm(t._databaseId);return new dU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XN(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);aw("Data must be an object, but it was:",a,r);const s=YN(r,a);let l,u;if(o.merge)l=new jn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=n0(e,h,n);if(!a.contains(d))throw new oe(q.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);JN(c,d)||c.push(d)}l=new jn(c),u=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=a.fieldTransforms;return new hU(new wn(s),l,u)}class lm extends nw{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lm}}function pU(t,e,n,r){const i=t.Qu(1,e,n);aw("Data must be an object, but it was:",i,r);const o=[],a=wn.empty();Pa(r,(l,u)=>{const c=sw(e,l,n);u=pt(u);const h=i.Nu(c);if(u instanceof lm)o.push(c);else{const d=uf(u,h);d!=null&&(o.push(c),a.set(c,d))}});const s=new jn(o);return new GN(a,s,i.fieldTransforms)}function mU(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[n0(e,r,n)],l=[i];if(o.length%2!=0)throw new oe(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)s.push(n0(e,o[d])),l.push(o[d+1]);const u=[],c=wn.empty();for(let d=s.length-1;d>=0;--d)if(!JN(u,s[d])){const p=s[d];let g=l[d];g=pt(g);const m=a.Nu(p);if(g instanceof lm)u.push(p);else{const v=uf(g,m);v!=null&&(u.push(p),c.set(p,v))}}const h=new jn(u);return new GN(c,h,a.fieldTransforms)}function gU(t,e,n,r=!1){return uf(n,t.Qu(r?4:3,e))}function uf(t,e){if(QN(t=pt(t)))return aw("Unsupported field value:",e,t),YN(t,e);if(t instanceof nw)return function(r,i){if(!KN(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=uf(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Oe.fromDate(r);return{timestampValue:Sd(i.serializer,o)}}if(r instanceof Oe){const o=new Oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sd(i.serializer,o)}}if(r instanceof rw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ms)return{bytesValue:vN(i.serializer,r._byteString)};if(r instanceof gn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof iw)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return Fb(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${im(r)}`)}(t,e)}function YN(t,e){const n={};return Gk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(t,(r,i)=>{const o=uf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function QN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Oe||t instanceof rw||t instanceof Ms||t instanceof gn||t instanceof nw||t instanceof iw)}function aw(t,e,n){if(!QN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=im(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function n0(t,e,n){if((e=pt(e))instanceof am)return e._internalPath;if(typeof e=="string")return sw(t,e);throw Ad("Field path arguments must be of type string or ",t,!1,void 0,n)}const yU=new RegExp("[~\\*/\\[\\]]");function sw(t,e,n){if(e.search(yU)>=0)throw Ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new am(...e.split("."))._internalPath}catch{throw Ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ad(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new oe(q.INVALID_ARGUMENT,s+t+l)}function JN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vU extends ZN{data(){return super.data()}}function lw(t,e){return typeof e=="string"?sw(t,e):e instanceof am?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uw{}class bU extends uw{}function $s(t,e,...n){let r=[];e instanceof uw&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof cw).length,s=o.filter(l=>l instanceof um).length;if(a>1||a>0&&s>0)throw new oe(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class um extends bU{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new um(e,n,r)}_apply(e){const n=this._parse(e);return e2(e._query,n),new yl(e.firestore,e.converter,qv(e._query,n))}_parse(e){const n=sm(e.firestore);return function(o,a,s,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new oe(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){jE(h,c);const p=[];for(const g of h)p.push(RE(l,o,g));d={arrayValue:{values:p}}}else d=RE(l,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||jE(h,c),d=gU(s,a,h,c==="in"||c==="not-in");return vt.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ls(t,e,n){const r=e,i=lw("where",t);return um._create(i,r,n)}class cw extends uw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)e2(a,l),a=qv(a,l)}(e._query,n),new yl(e.firestore,e.converter,qv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function RE(t,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new oe(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nN(e)&&n.indexOf("/")!==-1)throw new oe(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ye.fromString(n));if(!se.isDocumentKey(r))throw new oe(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ZS(t,new se(r))}if(n instanceof gn)return ZS(t,n._key);throw new oe(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${im(n)}.`)}function jE(t,e){if(!Array.isArray(t)||t.length===0)throw new oe(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e2(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new oe(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wU{convertValue(e,n="none"){switch(pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>ht(a.doubleValue));return new iw(o)}convertGeoPoint(e){return new rw(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Db(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const n=ho(e);return new Oe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);je(EN(r));const i=new sc(r.get(1),r.get(3)),o=new se(r.popFirst(5));return i.isEqual(n)||gi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class n2 extends ZN{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Vh extends n2{data(e={}){return super.data(e)}}class xU{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vh(this._firestore,this._userDataWriter,r.key,r,new vu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new Vh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new vu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new Vh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new vu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:SU(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function SU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}class r2 extends wU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ms(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function fw(t,e,n){t=Nr(t,gn);const r=Nr(t.firestore,ma),i=t2(t.converter,e,n);return cm(r,[XN(sm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Jn.none())])}function Pd(t,e,n,...r){t=Nr(t,gn);const i=Nr(t.firestore,ma),o=sm(i);let a;return a=typeof(e=pt(e))=="string"||e instanceof am?mU(o,"updateDoc",t._key,e,n,r):pU(o,"updateDoc",t._key,e),cm(i,[a.toMutation(t._key,Jn.exists(!0))])}function i2(t){return cm(Nr(t.firestore,ma),[new Ub(t._key,Jn.none())])}function mo(t,e){const n=Nr(t.firestore,ma),r=Rr(t),i=t2(t.converter,e);return cm(n,[XN(sm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function si(t,...e){var n,r,i;t=pt(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||NE(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(NE(e[a])){const h=e[a];e[a]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[a+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[a+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof gn)u=Nr(t.firestore,ma),c=Vb(t._key.path),l={next:h=>{e[a]&&e[a](EU(u,t,h))},error:e[a+1],complete:e[a+2]};else{const h=Nr(t,yl);u=Nr(h.firestore,ma),c=h._query;const d=new r2(u);l={next:p=>{e[a]&&e[a](new xU(u,d,h,p))},error:e[a+1],complete:e[a+2]},_U(t._query)}return function(d,p,g,m){const v=new rU(m),y=new V6(p,v,g);return d.asyncQueue.enqueueAndForget(async()=>D6(await AE(d),y)),()=>{v.Za(),d.asyncQueue.enqueueAndForget(async()=>M6(await AE(d),y))}}(qN(u),c,s,l)}function cm(t,e){return function(r,i){const o=new ea;return r.asyncQueue.enqueueAndForget(async()=>X6(await aU(r),i,o)),o.promise}(qN(t),e)}function EU(t,e,n){const r=n.docs.get(e._key),i=new r2(t);return new n2(t,i,e._key,r,new vu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){pl=i})(Aa),fa(new co("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new ma(new TV(r.getProvider("auth-internal")),new OV(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new oe(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Or(KS,"4.7.3",e),Or(KS,"4.7.3","esm2017")})();function hw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function o2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TU=o2,a2=new Zc("auth","Firebase",o2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=new Ob("@firebase/auth");function AU(t,...e){Id.logLevel<=Se.WARN&&Id.warn(`Auth (${Aa}): ${t}`,...e)}function Fh(t,...e){Id.logLevel<=Se.ERROR&&Id.error(`Auth (${Aa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,...e){throw dw(t,...e)}function jr(t,...e){return dw(t,...e)}function s2(t,e,n){const r=Object.assign(Object.assign({},TU()),{[e]:n});return new Zc("auth","Firebase",r).create(e,{appName:t.name})}function oo(t){return s2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return a2.create(t,...e)}function he(t,e,...n){if(!t)throw dw(e,...n)}function ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fh(e),new Error(e)}function _i(t,e){t||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PU(){return DE()==="http:"||DE()==="https:"}function DE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PU()||r3()||"connection"in navigator)?navigator.onLine:!0}function OU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){this.shortDelay=e,this.longDelay=n,_i(n>e,"Short delay should be less than long delay!"),this.isMobile=e3()||i3()}get(){return IU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t,e){_i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=new cf(3e4,6e4);function fm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vl(t,e,n,r,i={}){return u2(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=ef(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return n3()||(u.referrerPolicy="no-referrer"),l2.fetch()(f2(t,t.config.apiHost,n,s),u)})}async function u2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},CU),e);try{const i=new NU(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw oh(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw oh(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw oh(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw s2(t,c,u);vi(t,c)}}catch(i){if(i instanceof Ur)throw i;vi(t,"network-request-failed",{message:String(i)})}}async function c2(t,e,n,r,i={}){const o=await vl(t,e,n,r,i);return"mfaPendingCredential"in o&&vi(t,"multi-factor-auth-required",{_serverResponse:o}),o}function f2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?pw(t.config,i):`${t.config.apiScheme}://${i}`}class NU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jr(this.auth,"network-request-failed")),kU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU(t,e){return vl(t,"POST","/v1/accounts:delete",e)}async function h2(t,e){return vl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jU(t,e=!1){const n=pt(t),r=await n.getIdToken(e),i=mw(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ru(uy(i.auth_time)),issuedAtTime:Ru(uy(i.iat)),expirationTime:Ru(uy(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function uy(t){return Number(t)*1e3}function mw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ik(n);return i?JSON.parse(i):(Fh("Failed to decode base64 JWT payload"),null)}catch(i){return Fh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ME(t){const e=mw(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ur&&DU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function DU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(t){var e;const n=t.auth,r=await t.getIdToken(),i=await fc(t,h2(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?d2(o.providerUserInfo):[],s=LU(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new i0(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function $U(t){const e=pt(t);await Od(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function d2(t){return t.map(e=>{var{providerId:n}=e,r=hw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VU(t,e){const n=await u2(t,{},async()=>{const r=ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=f2(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",l2.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FU(t,e){return vl(t,"POST","/v2/accounts:revokeToken",fm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ME(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=ME(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await VU(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new ys;return r&&(he(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ys,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=hw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new i0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await fc(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jU(this,e)}reload(){return $U(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Od(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zr(this.auth.app))return Promise.reject(oo(this.auth));const e=await this.getIdToken();return await fc(this,RU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,m=(s=n.tenantId)!==null&&s!==void 0?s:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:I,isAnonymous:T,providerData:P,stsTokenManager:S}=n;he(b&&S,e,"internal-error");const E=ys.fromJSON(this.name,S);he(typeof b=="string",e,"internal-error"),ki(h,e.name),ki(d,e.name),he(typeof I=="boolean",e,"internal-error"),he(typeof T=="boolean",e,"internal-error"),ki(p,e.name),ki(g,e.name),ki(m,e.name),ki(v,e.name),ki(y,e.name),ki(w,e.name);const O=new ti({uid:b,auth:e,email:d,emailVerified:I,displayName:h,isAnonymous:T,photoURL:g,phoneNumber:p,tenantId:m,stsTokenManager:E,createdAt:y,lastLoginAt:w});return P&&Array.isArray(P)&&(O.providerData=P.map(k=>Object.assign({},k))),v&&(O._redirectEventId=v),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new ys;i.updateFromServerResponse(n);const o=new ti({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Od(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];he(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?d2(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new ys;s.updateFromIdToken(r);const l=new ti({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new i0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=new Map;function ni(t){_i(t instanceof Function,"Expected a class definition");let e=$E.get(t);return e?(_i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$E.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}p2.type="NONE";const LE=p2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t,e,n){return`firebase:${t}:${e}:${n}`}class vs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Uh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Uh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new vs(ni(LE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ni(LE);const a=Uh(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){const h=ti._fromJSON(e,c);u!==o&&(s=h),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new vs(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new vs(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(v2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(m2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b2(e))return"Blackberry";if(w2(e))return"Webos";if(g2(e))return"Safari";if((e.includes("chrome/")||y2(e))&&!e.includes("edge/"))return"Chrome";if(_2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function m2(t=sn()){return/firefox\//i.test(t)}function g2(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function y2(t=sn()){return/crios\//i.test(t)}function v2(t=sn()){return/iemobile/i.test(t)}function _2(t=sn()){return/android/i.test(t)}function b2(t=sn()){return/blackberry/i.test(t)}function w2(t=sn()){return/webos/i.test(t)}function gw(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UU(t=sn()){var e;return gw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BU(){return o3()&&document.documentMode===10}function x2(t=sn()){return gw(t)||_2(t)||w2(t)||b2(t)||/windows phone/i.test(t)||v2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t,e=[]){let n;switch(t){case"Browser":n=VE(sn());break;case"Worker":n=`${VE(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Aa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU(t,e={}){return vl(t,"GET","/v2/passwordPolicy",fm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=6;class qU{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:HU,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FE(this),this.idTokenSubscription=new FE(this),this.beforeStateQueue=new zU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await vs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await h2(this,{idToken:e}),r=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Od(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zr(this.app))return Promise.reject(oo(this));const n=e?pt(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zr(this.app)?Promise.reject(oo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zr(this.app)?Promise.reject(oo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WU(this),n=new qU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await vs.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=S2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&AU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hm(t){return pt(t)}class FE{constructor(e){this.auth=e,this.observer=null,this.addObserver=d3(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KU(t){yw=t}function XU(t){return yw.loadJS(t)}function YU(){return yw.gapiScript}function QU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t,e){const n=Kp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(gd(o,e??{}))return i;vi(i,"already-initialized")}return n.initialize({options:e})}function ZU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function e5(t,e,n){const r=hm(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=E2(e),{host:a,port:s}=t5(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||n5()}function E2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function t5(t){const e=E2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:UE(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:UE(a)}}}function UE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function n5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(t,e){return c2(t,"POST","/v1/accounts:signInWithIdp",fm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="http://localhost";class ga extends T2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=hw(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new ga(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return _s(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_s(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_s(e,n)}buildRequest(){const e={requestUri:r5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ef(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends A2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends ff{constructor(){super("facebook.com")}static credential(e){return ga._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends ff{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ga._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vi.credential(n,r)}catch{return null}}}Vi.GOOGLE_SIGN_IN_METHOD="google.com";Vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends ff{constructor(){super("github.com")}static credential(e){return ga._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends ff{constructor(){super("twitter.com")}static credential(e,n){return ga._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ui.credential(n,r)}catch{return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com";Ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i5(t,e){return c2(t,"POST","/v1/accounts:signUp",fm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ti._fromIdTokenResponse(e,r,i),a=BE(r);return new go({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=BE(r);return new go({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function BE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(t){var e;if(Zr(t.app))return Promise.reject(oo(t));const n=hm(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new go({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await i5(n,{returnSecureToken:!0}),i=await go._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends Ur{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cd(e,n,r,i)}}function P2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cd._fromErrorAndOperation(t,o,e,r):o})}async function a5(t,e,n=!1){const r=await fc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return go._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(t,e,n=!1){const{auth:r}=t;if(Zr(r.app))return Promise.reject(oo(r));const i="reauthenticate";try{const o=await fc(t,P2(r,i,e,t),n);he(o.idToken,r,"internal-error");const a=mw(o.idToken);he(a,r,"internal-error");const{sub:s}=a;return he(t.uid===s,r,"user-mismatch"),go._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&vi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(t,e,n=!1){if(Zr(t.app))return Promise.reject(oo(t));const r="signIn",i=await P2(t,r,e),o=await go._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function u5(t,e,n,r){return pt(t).onIdTokenChanged(e,n,r)}function c5(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function f5(t,e,n,r){return pt(t).onAuthStateChanged(e,n,r)}const kd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kd,"1"),this.storage.removeItem(kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=1e3,d5=10;class O2 extends I2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);BU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,d5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},h5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}O2.type="LOCAL";const p5=O2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2 extends I2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}C2.type="SESSION";const k2=C2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new dm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await m5(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=vw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function y5(t){Dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function v5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function b5(){return N2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="firebaseLocalStorageDb",w5=1,Nd="firebaseLocalStorage",j2="fbase_key";class hf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pm(t,e){return t.transaction([Nd],e?"readwrite":"readonly").objectStore(Nd)}function x5(){const t=indexedDB.deleteDatabase(R2);return new hf(t).toPromise()}function o0(){const t=indexedDB.open(R2,w5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Nd,{keyPath:j2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Nd)?e(r):(r.close(),await x5(),e(await o0()))})})}async function zE(t,e,n){const r=pm(t,!0).put({[j2]:e,value:n});return new hf(r).toPromise()}async function S5(t,e){const n=pm(t,!1).get(e),r=await new hf(n).toPromise();return r===void 0?null:r.value}function WE(t,e){const n=pm(t,!0).delete(e);return new hf(n).toPromise()}const E5=800,T5=3;class D2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await o0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>T5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dm._getInstance(b5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await v5(),!this.activeServiceWorker)return;this.sender=new g5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await o0();return await zE(e,kd,"1"),await WE(e,kd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>S5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>WE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=pm(i,!1).getAll();return new hf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D2.type="LOCAL";const A5=D2;new cf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t,e){return e?ni(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w extends T2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _s(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _s(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _s(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I5(t){return l5(t.auth,new _w(t),t.bypassAuthState)}function O5(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),s5(n,new _w(t),t.bypassAuthState)}async function C5(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),a5(n,new _w(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I5;case"linkViaPopup":case"linkViaRedirect":return C5;case"reauthViaPopup":case"reauthViaRedirect":return O5;default:vi(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=new cf(2e3,1e4);class is extends M2{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,is.currentPopupAction&&is.currentPopupAction.cancel(),is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=vw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,k5.get())};e()}}is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5="pendingRedirect",Bh=new Map;class R5 extends M2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bh.get(this.auth._key());if(!e){try{const r=await j5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bh.set(this.auth._key(),e)}return this.bypassAuthState||Bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j5(t,e){const n=$5(e),r=M5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function D5(t,e){Bh.set(t._key(),e)}function M5(t){return ni(t._redirectPersistence)}function $5(t){return Uh(N5,t.config.apiKey,t.name)}async function L5(t,e,n=!1){if(Zr(t.app))return Promise.reject(oo(t));const r=hm(t),i=P5(r,e),a=await new R5(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=10*60*1e3;class F5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V5&&this.cachedEventUids.clear(),this.cachedEventUids.has(HE(e))}saveEventToCache(e){this.cachedEventUids.add(HE(e)),this.lastProcessedEventTime=Date.now()}}function HE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function U5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(t,e={}){return vl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W5=/^https?/;async function H5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await B5(t);for(const n of e)try{if(q5(n))return}catch{}vi(t,"unauthorized-domain")}function q5(t){const e=r0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!W5.test(n))return!1;if(z5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=new cf(3e4,6e4);function qE(){const t=Dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function K5(t){return new Promise((e,n)=>{var r,i,o;function a(){qE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qE(),n(jr(t,"network-request-failed"))},timeout:G5.get()})}if(!((i=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Dr().gapi)===null||o===void 0)&&o.load)a();else{const s=QU("iframefcb");return Dr()[s]=()=>{gapi.load?a():n(jr(t,"network-request-failed"))},XU(`${YU()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw zh=null,e})}let zh=null;function X5(t){return zh=zh||K5(t),zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=new cf(5e3,15e3),Q5="__/auth/iframe",J5="emulator/auth/iframe",Z5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tB(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pw(e,J5):`https://${t.config.authDomain}/${Q5}`,r={apiKey:e.apiKey,appName:t.name,v:Aa},i=eB.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ef(r).slice(1)}`}async function nB(t){const e=await X5(t),n=Dr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:tB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z5,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=jr(t,"network-request-failed"),s=Dr().setTimeout(()=>{o(a)},Y5.get());function l(){Dr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iB=500,oB=600,aB="_blank",sB="http://localhost";class GE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lB(t,e,n,r=iB,i=oB){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},rB),{width:r.toString(),height:i.toString(),top:o,left:a}),u=sn().toLowerCase();n&&(s=y2(u)?aB:n),m2(u)&&(e=e||sB,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,g])=>`${d}${p}=${g},`,"");if(UU(u)&&s!=="_self")return uB(e||"",s),new GE(null);const h=window.open(e||"",s,c);he(h,t,"popup-blocked");try{h.focus()}catch{}return new GE(h)}function uB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB="__/auth/handler",fB="emulator/auth/handler",hB=encodeURIComponent("fac");async function KE(t,e,n,r,i,o){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Aa,eventId:i};if(e instanceof A2){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",h3(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(o||{}))a[c]=h}if(e instanceof ff){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${hB}=${encodeURIComponent(l)}`:"";return`${dB(t)}?${ef(s).slice(1)}${u}`}function dB({config:t}){return t.emulator?pw(t,fB):`https://${t.authDomain}/${cB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="webStorageSupport";class pB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k2,this._completeRedirectFn=L5,this._overrideRedirectResult=D5}async _openPopup(e,n,r,i){var o;_i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await KE(e,n,r,r0(),i);return lB(e,a,vw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await KE(e,n,r,r0(),i);return y5(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(_i(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nB(e),r=new F5(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cy,{type:cy},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[cy];a!==void 0&&n(!!a),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=H5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return x2()||g2()||gw()}}const mB=pB;var XE="@firebase/auth",YE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vB(t){fa(new co("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;he(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S2(t)},u=new GU(r,i,o,l);return ZU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fa(new co("auth-internal",e=>{const n=hm(e.getProvider("auth").getImmediate());return(r=>new gB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(XE,YE,yB(t)),Or(XE,YE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B=5*60,bB=Nk("authIdTokenMaxAge")||_B;let QE=null;const wB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bB)return;const i=n==null?void 0:n.token;QE!==i&&(QE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xB(t=kb()){const e=Kp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JU(t,{popupRedirectResolver:mB,persistence:[A5,p5,k2]}),r=Nk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=wB(o.toString());c5(n,a,()=>a(n.currentUser)),u5(n,s=>a(s))}}const i=Ok("auth");return i&&e5(n,`http://${i}`),n}function SB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}KU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=jr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",SB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vB("Browser");var EB="firebase",TB="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(EB,TB,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="firebasestorage.googleapis.com",V2="storageBucket",AB=2*60*1e3,PB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft extends Ur{constructor(e,n,r=0){super(fy(e),`Firebase Storage: ${n} (${fy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ct;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ct||(ct={}));function fy(t){return"storage/"+t}function bw(){const t="An unknown error occurred, please check the error payload for server response.";return new ft(ct.UNKNOWN,t)}function IB(t){return new ft(ct.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function OB(t){return new ft(ct.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ft(ct.UNAUTHENTICATED,t)}function kB(){return new ft(ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function NB(t){return new ft(ct.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function RB(){return new ft(ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jB(){return new ft(ct.CANCELED,"User canceled the upload/download.")}function DB(t){return new ft(ct.INVALID_URL,"Invalid URL '"+t+"'.")}function MB(t){return new ft(ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $B(){return new ft(ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+V2+"' property when initializing the app?")}function LB(){return new ft(ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function VB(){return new ft(ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function FB(t){return new ft(ct.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function a0(t){return new ft(ct.INVALID_ARGUMENT,t)}function F2(){return new ft(ct.APP_DELETED,"The Firebase app was deleted.")}function UB(t){return new ft(ct.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ju(t,e){return new ft(ct.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function eu(t){throw new ft(ct.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Dn.makeFromUrl(e,n)}catch{return new Dn(e,"")}if(r.path==="")return r;throw MB(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${d}`,"i"),g={bucket:1,path:3},m=n===L2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${v}`,"i"),b=[{regex:s,indices:l,postModify:o},{regex:p,indices:g,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<b.length;I++){const T=b[I],P=T.regex.exec(e);if(P){const S=P[T.indices.bucket];let E=P[T.indices.path];E||(E=""),r=new Dn(S,E),T.postModify(r);break}}if(r==null)throw DB(e);return r}}class BB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(t,e,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return s===2}let u=!1;function c(...v){u||(u=!0,e.apply(null,v))}function h(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function d(){o&&clearTimeout(o)}function p(v,...y){if(u){d();return}if(v){d(),c.call(null,v,...y);return}if(l()||a){d(),c.call(null,v,...y);return}r<64&&(r*=2);let b;s===1?(s=2,b=0):b=(r+Math.random())*1e3,h(b)}let g=!1;function m(v){g||(g=!0,d(),!u&&(i!==null?(v||(s=2),clearTimeout(i),h(0)):v||(s=1)))}return h(0),o=setTimeout(()=>{a=!0,m(!0)},n),m}function WB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t){return t!==void 0}function qB(t){return typeof t=="object"&&!Array.isArray(t)}function ww(t){return typeof t=="string"||t instanceof String}function JE(t){return xw()&&t instanceof Blob}function xw(){return typeof Blob<"u"}function ZE(t,e,n,r){if(r<e)throw a0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw a0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function U2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ta;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ta||(ta={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GB(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e,n,r,i,o,a,s,l,u,c,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ah(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===ta.NO_ERROR,l=o.getStatus();if(!s||GB(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===ta.ABORT;r(!1,new ah(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new ah(u,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());HB(l)?o(l):o()}catch(l){a(l)}else if(s!==null){const l=bw();l.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,l)):a(l)}else if(i.canceled){const l=this.appDelete_?F2():jB();a(l)}else{const l=RB();a(l)}};this.canceled_?n(!1,new ah(!1,null,!0)):this.backoffId_=zB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&WB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ah{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function XB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function YB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function QB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function JB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ZB(t,e,n,r,i,o,a=!0){const s=U2(t.urlParams),l=t.url+s,u=Object.assign({},t.headers);return QB(u,e),XB(u,n),YB(u,o),JB(u,r),new KB(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function t9(...t){const e=e9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(xw())return new Blob(t);throw new ft(ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function n9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(t){if(typeof atob>"u")throw FB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hy{constructor(e,n){this.data=e,this.contentType=n||null}}function i9(t,e){switch(t){case Tr.RAW:return new hy(B2(e));case Tr.BASE64:case Tr.BASE64URL:return new hy(z2(t,e));case Tr.DATA_URL:return new hy(a9(e),s9(e))}throw bw()}function B2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function o9(t){let e;try{e=decodeURIComponent(t)}catch{throw ju(Tr.DATA_URL,"Malformed data URL.")}return B2(e)}function z2(t,e){switch(t){case Tr.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw ju(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Tr.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw ju(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=r9(e)}catch(i){throw i.message.includes("polyfill")?i:ju(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class W2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ju(Tr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=l9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function a9(t){const e=new W2(t);return e.base64?z2(Tr.BASE64,e.rest):o9(e.rest)}function s9(t){return new W2(t).contentType}function l9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){let r=0,i="";JE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(JE(this.data_)){const r=this.data_,i=n9(r,e,n);return i===null?null:new Bi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Bi(r,!0)}}static getBlob(...e){if(xw()){const n=e.map(r=>r instanceof Bi?r.data_:r);return new Bi(t9.apply(null,n))}else{const n=e.map(a=>ww(a)?i9(Tr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let s=0;s<a.length;s++)i[o++]=a[s]}),new Bi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){let e;try{e=JSON.parse(t)}catch{return null}return qB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function c9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function q2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t,e){return e}class cn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||f9}}let sh=null;function h9(t){return!ww(t)||t.length<2?t:q2(t)}function G2(){if(sh)return sh;const t=[];t.push(new cn("bucket")),t.push(new cn("generation")),t.push(new cn("metageneration")),t.push(new cn("name","fullPath",!0));function e(o,a){return h9(a)}const n=new cn("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new cn("size");return i.xform=r,t.push(i),t.push(new cn("timeCreated")),t.push(new cn("updated")),t.push(new cn("md5Hash",null,!0)),t.push(new cn("cacheControl",null,!0)),t.push(new cn("contentDisposition",null,!0)),t.push(new cn("contentEncoding",null,!0)),t.push(new cn("contentLanguage",null,!0)),t.push(new cn("contentType",null,!0)),t.push(new cn("metadata","customMetadata",!0)),sh=t,sh}function d9(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Dn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function p9(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return d9(r,t),r}function K2(t,e,n){const r=H2(e);return r===null?null:p9(t,r,n)}function m9(t,e,n,r){const i=H2(e);if(i===null||!ww(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,h=t.fullPath,d="/b/"+a(c)+"/o/"+a(h),p=Sw(d,n,r),g=U2({alt:"media",token:u});return p+g})[0]}function g9(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class X2{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){if(!t)throw bw()}function y9(t,e){function n(r,i){const o=K2(t,i,e);return Y2(o!==null),o}return n}function v9(t,e){function n(r,i){const o=K2(t,i,e);return Y2(o!==null),m9(o,i,t.host,t._protocol)}return n}function Q2(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=kB():i=CB():n.getStatus()===402?i=OB(t.bucket):n.getStatus()===403?i=NB(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function _9(t){const e=Q2(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=IB(t.path)),o.serverResponse=i.serverResponse,o}return n}function b9(t,e,n){const r=e.fullServerUrl(),i=Sw(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,s=new X2(i,o,v9(t,n),a);return s.errorHandler=_9(e),s}function w9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function x9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=w9(null,e)),r}function S9(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function s(){let b="";for(let I=0;I<2;I++)b=b+Math.random().toString().slice(2);return b}const l=s();a["Content-Type"]="multipart/related; boundary="+l;const u=x9(e,r,i),c=g9(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",p=Bi.getBlob(h,r,d);if(p===null)throw LB();const g={name:u.fullPath},m=Sw(o,t.host,t._protocol),v="POST",y=t.maxUploadRetryTime,w=new X2(m,v,y9(t,n),y);return w.urlParams=g,w.headers=a,w.body=p.uploadData(),w.errorHandler=Q2(e),w}class E9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ta.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ta.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ta.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw eu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw eu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw eu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw eu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw eu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class T9 extends E9{initXhr(){this.xhr_.responseType="text"}}function J2(){return new T9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n){this._service=e,n instanceof Dn?this._location=n:this._location=Dn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ya(e,n)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return q2(this._location.path)}get storage(){return this._service}get parent(){const e=u9(this._location.path);if(e===null)return null;const n=new Dn(this._location.bucket,e);return new ya(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw UB(e)}}function A9(t,e,n){t._throwIfRoot("uploadBytes");const r=S9(t.storage,t._location,G2(),new Bi(e,!0),n);return t.storage.makeRequestWithTokens(r,J2).then(i=>({metadata:i,ref:t}))}function P9(t){t._throwIfRoot("getDownloadURL");const e=b9(t.storage,t._location,G2());return t.storage.makeRequestWithTokens(e,J2).then(n=>{if(n===null)throw VB();return n})}function I9(t,e){const n=c9(t._location.path,e),r=new Dn(t._location.bucket,n);return new ya(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t){return/^[A-Za-z]+:\/\//.test(t)}function C9(t,e){return new ya(t,e)}function Z2(t,e){if(t instanceof Ew){const n=t;if(n._bucket==null)throw $B();const r=new ya(n,n._bucket);return e!=null?Z2(r,e):r}else return e!==void 0?I9(t,e):t}function k9(t,e){if(e&&O9(e)){if(t instanceof Ew)return C9(t,e);throw a0("To use ref(service, url), the first argument must be a Storage instance.")}else return Z2(t,e)}function eT(t,e){const n=e==null?void 0:e[V2];return n==null?null:Dn.makeFromBucketSpec(n,t)}function N9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Rk(i,t.app.options.projectId))}class Ew{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=L2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AB,this._maxUploadRetryTime=PB,this._requests=new Set,i!=null?this._bucket=Dn.makeFromBucketSpec(i,this._host):this._bucket=eT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dn.makeFromBucketSpec(this._url,e):this._bucket=eT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ya(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new BB(F2());{const a=ZB(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const tT="@firebase/storage",nT="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="storage";function tR(t,e,n){return t=pt(t),A9(t,e,n)}function nR(t){return t=pt(t),P9(t)}function rR(t,e){return t=pt(t),k9(t,e)}function R9(t=kb(),e){t=pt(t);const r=Kp(t,eR).getImmediate({identifier:e}),i=Ck("storage");return i&&j9(r,...i),r}function j9(t,e,n,r={}){N9(t,e,n,r)}function D9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ew(n,r,i,e,Aa)}function M9(){fa(new co(eR,D9,"PUBLIC").setMultipleInstances(!0)),Or(tT,nT,""),Or(tT,nT,"esm2017")}M9();const $9={}.VITE_FIREBASE_CONFIG;let iR={};try{iR=JSON.parse($9)}catch(t){console.error("Could not parse Firebase config:",t)}const Tw=Mk(iR),rT=xB(Tw),lh=uU(Tw);R9(Tw);const oR=M.createContext(),L9=({children:t})=>{const[e,n]=M.useState(null),[r,i]=M.useState(null),[o,a]=M.useState(null),[s,l]=M.useState([]),[u,c]=M.useState([]),[h,d]=M.useState([]),[p,g]=M.useState(!0);M.useEffect(()=>{const v=f5(rT,y=>{y?(n(y),i(y.uid),a("v4")):o5(rT).catch(w=>console.error("Anonymous sign-in failed",w))});return()=>v()},[]),M.useEffect(()=>{if(!r||!o)return;const v=zt(lh,"artifacts",o,"users",r,"students"),y=si(v,P=>{const S=P.docs.map(E=>({id:E.id,...E.data()}));l(S),g(!1)}),w=zt(lh,"artifacts",o,"users",r,"groups"),b=si(w,P=>{const S=P.docs.map(E=>({id:E.id,...E.data()}));c(S)}),I=zt(lh,"artifacts",o,"users",r,"transactions"),T=si(I,P=>{const S=P.docs.map(E=>({id:E.id,...E.data()}));d(S)});return()=>{y(),b(),T()}},[r,o]);const m={user:e,userId:r,appId:o,students:s,groups:u,transactions:h,isLoading:p,db:lh,storage:null};return x.jsx(oR.Provider,{value:m,children:t})},_n=()=>M.useContext(oR),St=({path:t,className:e="w-6 h-6"})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:x.jsx("path",{d:t})}),ze={DASHBOARD:"M13 13v8h8v-8h-8zM3 21h8v-8H3v8zM3 3v8h8V3H3zm13.66-1.31L11 7.34 16.66 13l5.66-5.66-5.66-5.65z",STUDENTS:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z",GROUPS:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z",FINANCES:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-.9.6-1.6 1.8-1.6 1.2 0 1.8.6 1.8 1.5H14c0-1.5-1.2-2.7-3.2-2.7-2 0-3.2 1.3-3.2 2.8 0 1.9 1.4 2.6 3.4 3.1.9.2 1.4.5 1.4 1.1 0 .6-.6 1.1-1.5 1.1-1 0-1.5-.5-1.5-1.2H8c0 1.3 1.2 2.4 2.9 2.4 2.1 0 3.1-1.2 3.1-2.5 0-1.7-1.1-2.3-3.2-2.8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",DOCUMENTS:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z",SETTINGS:"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69-.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19-.15-.24-.42.12-.64l2 3.46c.12-.22.39.3.61-.22l2.49 1c.52.4 1.08.73 1.69-.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59-1.69-.98l2.49 1c.23.09.49 0 .61-.22l2 3.46c.12-.22-.07.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z",MENU:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z",DELETE:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z",EDIT:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",ADD:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",CLOSE:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",CALENDAR:"M17 13h-5v5h5v-5zM16 2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-1V2h-2zm3 18H5V9h14v11z",CLOCK:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z",CHEVRON_LEFT:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",CHEVRON_RIGHT:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",REMOVE_CIRCLE:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z",BUILDING:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z",SHOPPING_CART:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z",EYE:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",EYE_OFF:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 9.93 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z",DOWNLOAD:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z",UPLOAD:"M9 16h6v-6h4l-8-8-8 8h4v6zm-4 2h14v2H5v-2z",INFO:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",CAKE:"M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2zm6 3h-5.07c-.09-.24-.19-.48-.29-.71L12 7l-.64 1.29c-.1.23-.2.47-.29.71H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2zm-6 11c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z",LESSON:"M14.5 11L12 9.5 9.5 11l.9-2.7L8 6.5h2.8l.9-2.7.9 2.7H15l-2.4 1.8.9 2.7zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 18H4V4h16v16z",SAVE:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},xo=({isOpen:t,onClose:e,title:n,children:r})=>{const[i,o]=M.useState(!1);return M.useEffect(()=>{t?setTimeout(()=>o(!0),10):o(!1)},[t]),t?x.jsxs("div",{className:`fixed inset-0 z-50 flex items-center justify-center transition-opacity duration-300 ${i?"opacity-100":"opacity-0"}`,onClick:e,children:[x.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/50 to-slate-700/50 backdrop-blur-sm"}),x.jsxs("div",{className:`bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col transform transition-all duration-300 ${i?"scale-100 opacity-100":"scale-95 opacity-0"}`,onClick:a=>a.stopPropagation(),children:[x.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200 sticky top-0 bg-blue-600 text-white z-10 rounded-t-lg",children:[typeof n=="string"?x.jsx("h3",{className:"text-2xl font-bold",children:n}):x.jsx("div",{children:n}),x.jsx("button",{onClick:e,className:"p-2 rounded-full text-white/70 hover:bg-white/20 transition-colors",children:x.jsx(St,{path:ze.CLOSE})})]}),x.jsx("div",{className:"p-6 overflow-y-auto",children:r})]})]}):null},Vt=({label:t,icon:e,...n})=>x.jsxs("div",{children:[t&&x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{...n,className:`block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${e?"pr-10":""}`}),e&&x.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e})]})]}),Aw=({label:t,children:e,...n})=>x.jsxs("div",{children:[t&&x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),x.jsx("select",{...n,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:e})]}),qo=({title:t,children:e})=>x.jsxs("fieldset",{className:"mt-6 border-t border-gray-200 pt-6",children:[x.jsx("legend",{className:"text-lg font-medium text-gray-900",children:t}),x.jsx("div",{className:"mt-4 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:e})]}),aR=(t,e)=>{M.useEffect(()=>{const n=r=>{!t.current||t.current.contains(r.target)||e(r)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[t,e])},Mn=t=>{if(!t||typeof t.toDate!="function")return"N/A";const e=t.toDate(),n=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();return`${n}.${r}.${i}`},na=({label:t,value:e,onChange:n,name:r})=>{const[i,o]=M.useState(!1),a=b=>b&&typeof b.toDate=="function"?b.toDate():b instanceof Date?b:typeof b=="string"&&b?new Date(b.replace(/-/g,"/")):new Date,[s,l]=M.useState(a(e)),u=M.useRef(null);aR(u,()=>o(!1)),M.useEffect(()=>{l(a(e))},[e,i]);const c=["Mo","Tu","We","Th","Fr","Sa","Su"],h=["January","February","March","April","May","June","July","August","September","October","November","December"],p=(b=>(new Date(b.getFullYear(),b.getMonth(),1).getDay()+6)%7)(s),g=new Date(s.getFullYear(),s.getMonth()+1,0).getDate(),m=b=>{l(I=>new Date(I.getFullYear(),I.getMonth()+b,1))},v=b=>{const I=new Date(s.getFullYear(),s.getMonth(),b),T=I.getFullYear(),P=(I.getMonth()+1).toString().padStart(2,"0"),S=I.getDate().toString().padStart(2,"0"),E=`${T}-${P}-${S}`;n({target:{name:r,value:E}}),o(!1)};let y=null;if(e&&typeof e=="string"){const[b,I,T]=e.split("-").map(Number);y=new Date(b,I-1,T)}const w=new Date;return w.setHours(0,0,0,0),x.jsxs("div",{className:"relative",ref:u,children:[x.jsx(Vt,{label:t,value:e?Mn(Oe.fromDate(new Date(e.replace(/-/g,"/")))):"",readOnly:!0,onClick:()=>o(!i),icon:x.jsx(St,{path:ze.CALENDAR,className:"w-5 h-5 text-gray-400"}),className:"cursor-pointer"}),i&&x.jsxs("div",{className:"absolute z-20 mt-1 w-80 bg-white shadow-lg rounded-lg p-4 border border-gray-200",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("button",{type:"button",onClick:()=>m(-1),className:"p-1 rounded-full hover:bg-gray-100",children:x.jsx(St,{path:ze.CHEVRON_LEFT})}),x.jsxs("span",{className:"font-semibold text-gray-800",children:[h[s.getMonth()]," ",s.getFullYear()]}),x.jsx("button",{type:"button",onClick:()=>m(1),className:"p-1 rounded-full hover:bg-gray-100",children:x.jsx(St,{path:ze.CHEVRON_RIGHT})})]}),x.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:[c.map(b=>x.jsx("div",{className:"font-medium text-gray-500",children:b},b)),Array.from({length:p}).map((b,I)=>x.jsx("div",{},`empty-${I}`)),Array.from({length:g}).map((b,I)=>{const T=I+1,P=new Date(s.getFullYear(),s.getMonth(),T),S=y&&P.getTime()===y.getTime(),E=P.getTime()===w.getTime();return x.jsx("div",{onClick:()=>v(T),className:`p-2 rounded-full cursor-pointer 
                                     ${S?"bg-blue-600 text-white":E?"bg-blue-200 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:T},T)})]})]})]})},Vs=({label:t,value:e,onChange:n,name:r,options:i})=>{const[o,a]=M.useState(!1),s=M.useRef(null);aR(s,()=>a(!1));const l=u=>{n({target:{name:r,value:u}}),a(!1)};return x.jsxs("div",{className:"relative",ref:s,children:[x.jsx(Vt,{label:t,value:e,readOnly:!0,onClick:()=>a(!o),icon:x.jsx(St,{path:ze.CLOCK,className:"w-5 h-5 text-gray-400"}),className:"cursor-pointer"}),o&&x.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg rounded-md max-h-60 overflow-auto border border-gray-200",children:x.jsx("ul",{className:"py-1",children:i.map(u=>x.jsx("li",{onClick:()=>l(u),className:"px-3 py-2 text-sm text-gray-700 hover:bg-blue-500 hover:text-white cursor-pointer",children:u},u))})})]})},sR=({isOpen:t,onClose:e,studentToEdit:n})=>{const{db:r,storage:i,userId:o,appId:a,groups:s}=_n(),l=[];for(let k=9;k<=23;k++)l.push(`${k.toString().padStart(2,"0")}:00`),l.push(`${k.toString().padStart(2,"0")}:30`);l.push("00:00");const u=M.useCallback(()=>{const k=C=>C&&typeof C.toDate=="function"?C.toDate().toISOString().split("T")[0]:typeof C=="string"&&C?C:"";return{fullName:(n==null?void 0:n.fullName)||"",studentContact:(n==null?void 0:n.studentContact)||"",parentContact:(n==null?void 0:n.parentContact)||"",enrollmentDate:k(n==null?void 0:n.enrollmentDate)||new Date().toISOString().split("T")[0],birthDate:k(n==null?void 0:n.birthDate)||"",isTutoring:(n==null?void 0:n.isTutoring)||!1,groupId:(n==null?void 0:n.groupId)||null,documents:(n==null?void 0:n.documents)||{nationalIdUrl:"",agreementUrl:""},documentNames:(n==null?void 0:n.documentNames)||{nationalId:"",agreement:""},feeDetails:(n==null?void 0:n.feeDetails)||{totalFee:"12000",numberOfInstallments:"3"},tutoringDetails:(n==null?void 0:n.tutoringDetails)||{hourlyRate:"",endDate:"",schedule:{days:[],startTime:"09:00",endTime:"10:00"}},installments:(n==null?void 0:n.installments)||[]}},[n]),[c,h]=M.useState(u()),[d,p]=M.useState({nationalId:null,agreement:null}),[g,m]=M.useState(!1),[v,y]=M.useState(null);M.useEffect(()=>{t&&(h(u()),p({nationalId:null,agreement:null}),y(null))},[t,u]);const w=k=>{const{name:C,value:R,type:N,checked:V}=k.target;h(F=>({...F,[C]:N==="checkbox"?V:R}))},b=k=>{const{name:C,value:R}=k.target;h(N=>({...N,feeDetails:{...N.feeDetails,[C]:R}}))},I=k=>{const{name:C,value:R}=k.target;h(N=>({...N,tutoringDetails:{...N.tutoringDetails,[C]:R}}))},T=k=>{const{name:C,value:R}=k.target;h(N=>({...N,tutoringDetails:{...N.tutoringDetails,schedule:{...N.tutoringDetails.schedule,[C]:R}}}))},P=k=>{const C=c.tutoringDetails.schedule.days,R=C.includes(k)?C.filter(N=>N!==k):[...C,k];h(N=>({...N,tutoringDetails:{...N.tutoringDetails,schedule:{...N.tutoringDetails.schedule,days:R}}}))},S=k=>{const{name:C,files:R}=k.target;R[0]&&p(N=>({...N,[C]:R[0]}))},E=async(k,C)=>{if(!k)return null;const R=rR(i,C);return await tR(R,k),await nR(R)},O=async k=>{k.preventDefault(),m(!0),y(null);let C={...c};if(C.isTutoring)C.installments=[];else{const R=parseFloat(C.feeDetails.totalFee)||0,N=parseInt(C.feeDetails.numberOfInstallments,10)||1,V=R/N,F=new Date(C.enrollmentDate.replace(/-/g,"/"));C.installments=[];for(let W=0;W<N;W++){const H=new Date(F);H.setMonth(F.getMonth()+W),C.installments.push({number:W+1,amount:V,dueDate:Oe.fromDate(H),status:"Unpaid"})}}try{const R=await E(d.nationalId,`artifacts/${a}/public/data/studentDocuments/${o}/${Date.now()}_nationalId`),N=await E(d.agreement,`artifacts/${a}/public/data/studentDocuments/${o}/${Date.now()}_agreement`);R&&(C.documents.nationalIdUrl=R),N&&(C.documents.agreementUrl=N);const V=F=>{if(!F||typeof F!="string")return null;const[W,H,L]=F.split("-").map(Number);return Oe.fromDate(new Date(W,H-1,L))};if(C.enrollmentDate=V(C.enrollmentDate),C.birthDate=V(C.birthDate),C.tutoringDetails.endDate?C.tutoringDetails.endDate=V(C.tutoringDetails.endDate):C.tutoringDetails.endDate=null,n){const F=Rr(r,"artifacts",a,"users",o,"students",n.id);await fw(F,C,{merge:!0})}else{const F=zt(r,"artifacts",a,"users",o,"students");await mo(F,C)}e()}catch(R){console.error("Error saving student:",R),y({type:"error",text:"Failed to save student. Please check console for details."})}finally{m(!1)}};return x.jsx(xo,{isOpen:t,onClose:e,title:n?"Edit Student":"Enroll New Student",children:x.jsxs("form",{onSubmit:O,children:[x.jsxs(qo,{title:"General Information",children:[x.jsx("div",{className:"sm:col-span-6",children:x.jsx(Vt,{label:"Full Name",name:"fullName",value:c.fullName,onChange:w,required:!0})}),x.jsx("div",{className:"sm:col-span-3",children:x.jsx(Vt,{label:"Student Contact",name:"studentContact",type:"tel",value:c.studentContact,onChange:w,required:!0})}),x.jsx("div",{className:"sm:col-span-3",children:x.jsx(Vt,{label:"Parent Contact (Optional)",name:"parentContact",type:"tel",value:c.parentContact,onChange:w})}),x.jsx("div",{className:"sm:col-span-3",children:x.jsx(na,{label:"Enrollment Date",name:"enrollmentDate",value:c.enrollmentDate,onChange:w})}),x.jsx("div",{className:"sm:col-span-3",children:x.jsx(na,{label:"Birth Date (Optional)",name:"birthDate",value:c.birthDate,onChange:w})}),x.jsx("div",{className:"sm:col-span-6 flex items-center pt-2",children:x.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[x.jsx("input",{type:"checkbox",name:"isTutoring",checked:c.isTutoring,onChange:w,className:"sr-only peer"}),x.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}),x.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:"Is Tutoring Student?"})]})})]}),c.isTutoring?x.jsxs(qo,{title:"Tutoring Details",children:[x.jsx("div",{className:"sm:col-span-3",children:x.jsx(Vt,{label:"Hourly Rate ()",name:"hourlyRate",type:"number",value:c.tutoringDetails.hourlyRate,onChange:I})}),x.jsx("div",{className:"sm:col-span-3",children:x.jsx(na,{label:"End Date",name:"endDate",value:c.tutoringDetails.endDate,onChange:I})}),x.jsxs("div",{className:"sm:col-span-6",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recurring Schedule"}),x.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Mon","Tue","Wed","Thu","Fri","Sat"].map(k=>x.jsx("button",{type:"button",onClick:()=>P(k),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${c.tutoringDetails.schedule.days.includes(k)?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:k},k))}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"flex-1",children:x.jsx(Vs,{label:"Start Time",name:"startTime",value:c.tutoringDetails.schedule.startTime,onChange:T,options:l})}),x.jsx("div",{className:"pt-6 text-gray-500",children:"-"}),x.jsx("div",{className:"flex-1",children:x.jsx(Vs,{label:"End Time",name:"endTime",value:c.tutoringDetails.schedule.endTime,onChange:T,options:l})})]})]})]}):x.jsxs(x.Fragment,{children:[x.jsxs(qo,{title:"Group & Financial Details",children:[x.jsx("div",{className:"sm:col-span-6",children:x.jsxs(Aw,{label:"Assign to Group",name:"groupId",value:c.groupId||"",onChange:w,children:[x.jsx("option",{value:"",children:"Select a group"}),s.map(k=>x.jsx("option",{value:k.id,children:k.groupName},k.id))]})}),x.jsx("div",{className:"sm:col-span-3",children:x.jsx(Vt,{label:"Total Fee ()",name:"totalFee",type:"number",value:c.feeDetails.totalFee,onChange:b})}),x.jsx("div",{className:"sm:col-span-3",children:x.jsx(Vt,{label:"Number of Installments",name:"numberOfInstallments",type:"number",value:c.feeDetails.numberOfInstallments,onChange:b})})]}),x.jsxs(qo,{title:"Document Uploads",children:[x.jsxs("div",{className:"sm:col-span-3",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"National ID"}),x.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:x.jsxs("div",{className:"space-y-1 text-center",children:[x.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:x.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),x.jsxs("div",{className:"flex text-sm text-gray-600",children:[x.jsxs("label",{htmlFor:"nationalId",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none",children:[x.jsx("span",{children:"Upload a file"}),x.jsx("input",{id:"nationalId",name:"nationalId",type:"file",className:"sr-only",onChange:S})]}),x.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),x.jsx("p",{className:"text-xs text-gray-500",children:d.nationalId?d.nationalId.name:"PNG, JPG, PDF up to 10MB"})]})})]}),x.jsxs("div",{className:"sm:col-span-3",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agreement"}),x.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:x.jsxs("div",{className:"space-y-1 text-center",children:[x.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:x.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),x.jsxs("div",{className:"flex text-sm text-gray-600",children:[x.jsxs("label",{htmlFor:"agreement",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none",children:[x.jsx("span",{children:"Upload a file"}),x.jsx("input",{id:"agreement",name:"agreement",type:"file",className:"sr-only",onChange:S})]}),x.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),x.jsx("p",{className:"text-xs text-gray-500",children:d.agreement?d.agreement.name:"PNG, JPG, PDF up to 10MB"})]})})]})]})]}),x.jsxs("div",{className:"flex justify-end pt-8 mt-8 border-t border-gray-200 space-x-4",children:[x.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-lg text-gray-700 bg-gray-200 hover:bg-gray-300",children:"Cancel"}),x.jsx("button",{type:"submit",disabled:g,className:"px-6 py-2 rounded-lg text-white bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed",children:g?"Saving...":"Save Student"})]}),v&&x.jsx("p",{className:`mt-4 text-center text-sm ${v.type==="error"?"text-red-500":"text-green-500"}`,children:v.text})]})})},s0=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?x.jsxs(xo,{isOpen:t,onClose:e,title:r,children:[x.jsx("p",{className:"text-gray-700 mb-6",children:i}),x.jsxs("div",{className:"flex justify-end space-x-4",children:[x.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg text-gray-700 bg-gray-200 hover:bg-gray-300",children:"Cancel"}),x.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg text-white bg-red-600 hover:bg-red-700",children:"Confirm"})]})]}):null,V9=({isOpen:t,onClose:e,student:n})=>{var w;const{db:r,userId:i,appId:o,groups:a}=_n(),[s,l]=M.useState("general"),[u,c]=M.useState([]),[h,d]=M.useState(!0);M.useEffect(()=>{if(!(n!=null&&n.groupId)){d(!1),c([]);return}d(!0);const b=$s(zt(r,"artifacts",o,"users",i,"lessons"),Ls("groupId","==",n.groupId));return si(b,T=>{const P=T.docs.map(S=>({id:S.id,...S.data()}));P.sort((S,E)=>S.lessonDate.toMillis()-E.lessonDate.toMillis()),c(P),d(!1)})},[r,i,o,n==null?void 0:n.groupId]);const p=M.useMemo(()=>{var T;if(n.isTutoring||!n.installments)return null;const b=n.installments.filter(P=>P.status==="Paid").reduce((P,S)=>P+S.amount,0),I=parseFloat((T=n.feeDetails)==null?void 0:T.totalFee)||0;return{totalPaid:b,totalFee:I}},[n]),g=M.useMemo(()=>{if(n.isTutoring||u.length===0)return null;const b=u.filter(T=>{var P;return((P=T.attendance)==null?void 0:P[n.id])==="present"}).length,I=u.length;return{presentCount:b,totalLessons:I}},[u,n.id]),m=n.groupId?(w=a.find(b=>b.id===n.groupId))==null?void 0:w.groupName:"N/A",v=b=>{const I="px-2 py-1 text-xs font-semibold rounded-full";switch(b){case"present":return x.jsx("span",{className:`${I} bg-green-100 text-green-800`,children:"Present"});case"absent":return x.jsx("span",{className:`${I} bg-red-100 text-red-800`,children:"Absent"});case"late":return x.jsx("span",{className:`${I} bg-yellow-100 text-yellow-800`,children:"Late"});default:return x.jsx("span",{className:`${I} bg-gray-100 text-gray-800`,children:"N/A"})}},y=x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold",children:n.fullName}),x.jsx("p",{className:"text-sm text-white/80",children:"Student Details"})]});return x.jsxs(xo,{isOpen:t,onClose:e,title:y,children:[x.jsx("div",{className:"mb-4 border-b border-gray-200",children:x.jsxs("nav",{className:"flex space-x-4","aria-label":"Tabs",children:[x.jsx("button",{onClick:()=>l("general"),className:`-mb-px px-3 py-2 font-medium text-sm border-b-2 ${s==="general"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"General Info"}),x.jsx("button",{onClick:()=>l("payments"),className:`-mb-px px-3 py-2 font-medium text-sm border-b-2 ${s==="payments"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Payments"}),x.jsx("button",{onClick:()=>l("attendance"),className:`-mb-px px-3 py-2 font-medium text-sm border-b-2 ${s==="attendance"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Attendance"})]})}),s==="general"&&x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[x.jsx("div",{className:"font-medium text-gray-500",children:"Student Contact:"}),x.jsx("div",{className:"text-gray-800",children:n.studentContact}),x.jsx("div",{className:"font-medium text-gray-500",children:"Parent Contact:"}),x.jsx("div",{className:"text-gray-800",children:n.parentContact||"N/A"}),x.jsx("div",{className:"font-medium text-gray-500",children:"Enrollment Date:"}),x.jsx("div",{className:"text-gray-800",children:Mn(n.enrollmentDate)}),x.jsx("div",{className:"font-medium text-gray-500",children:"Birth Date:"}),x.jsx("div",{className:"text-gray-800",children:n.birthDate?Mn(n.birthDate):"N/A"}),x.jsx("div",{className:"font-medium text-gray-500",children:"Student Type:"}),x.jsx("div",{className:"text-gray-800",children:n.isTutoring?"Tutoring":"Group"}),!n.isTutoring&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"font-medium text-gray-500",children:"Group:"}),x.jsx("div",{className:"text-gray-800",children:m})]})]}),s==="payments"&&x.jsxs("div",{children:[p&&x.jsx("div",{className:"p-4 bg-blue-50 rounded-lg mb-4 text-center",children:x.jsxs("p",{className:"font-semibold text-blue-800",children:["Total Paid: ",p.totalPaid.toFixed(2)," / ",p.totalFee.toFixed(2)]})}),x.jsxs("ul",{className:"divide-y divide-gray-200",children:[(n.installments||[]).map(b=>x.jsxs("li",{className:"py-3 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"font-medium text-gray-800",children:["Installment #",b.number]}),x.jsxs("p",{className:"text-sm text-gray-500",children:["Due: ",Mn(b.dueDate)]})]}),x.jsxs("div",{className:"text-right",children:[x.jsxs("p",{className:"font-semibold text-gray-800",children:["",b.amount.toFixed(2)]}),b.status==="Paid"?x.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full",children:"Paid"}):x.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-red-800 bg-red-100 rounded-full",children:"Unpaid"})]})]},b.number)),(n.installments||[]).length===0&&x.jsx("p",{className:"text-center text-gray-500 py-4",children:"No payment plan found for this student."})]})]}),s==="attendance"&&x.jsxs("div",{children:[g&&x.jsx("div",{className:"p-4 bg-green-50 rounded-lg mb-4 text-center",children:x.jsxs("p",{className:"font-semibold text-green-800",children:["Attendance: ",g.presentCount," / ",g.totalLessons," lessons present"]})}),h?x.jsx("p",{children:"Loading attendance..."}):x.jsxs("ul",{className:"divide-y divide-gray-200",children:[u.map(b=>{var I;return x.jsxs("li",{className:"py-3 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-gray-800",children:b.topic}),x.jsx("p",{className:"text-sm text-gray-500",children:Mn(b.lessonDate)})]}),v((I=b.attendance)==null?void 0:I[n.id])]},b.id)}),u.length===0&&x.jsx("p",{className:"text-center text-gray-500 py-4",children:"No lessons found for this student's group."})]})]})]})},F9=()=>{const{db:t,userId:e,appId:n,students:r}=_n(),[i,o]=M.useState(!0),[a,s]=M.useState("group"),[l,u]=M.useState(!1),[c,h]=M.useState(null),[d,p]=M.useState(!1),[g,m]=M.useState(null),[v,y]=M.useState(!1),[w,b]=M.useState(null);M.useEffect(()=>{r&&o(!1)},[r]);const I=k=>{m(k),p(!0)},T=async()=>{if(g)try{const k=Rr(t,"artifacts",n,"users",e,"students",g.id);await i2(k)}catch(k){console.error("Error deleting student:",k)}finally{p(!1),m(null)}},P=()=>{h(null),u(!0)},S=k=>{h(k),u(!0)},E=k=>{b(k),y(!0)},O=r.filter(k=>a==="group"?!k.isTutoring:k.isTutoring);return x.jsxs("div",{className:"p-4 md:p-8",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Students"}),x.jsxs("button",{onClick:P,className:"flex items-center px-4 py-2 rounded-lg text-white bg-blue-600 hover:bg-blue-700 shadow",children:[x.jsx(St,{path:ze.ADD,className:"w-5 h-5 mr-2"}),"Add Student"]})]}),x.jsx("div",{className:"mb-4 border-b border-gray-200",children:x.jsxs("nav",{className:"flex space-x-4","aria-label":"Tabs",children:[x.jsx("button",{onClick:()=>s("group"),className:`px-3 py-2 font-medium text-sm rounded-t-lg ${a==="group"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Group Students"}),x.jsx("button",{onClick:()=>s("tutoring"),className:`px-3 py-2 font-medium text-sm rounded-t-lg ${a==="tutoring"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Tutoring Students"})]})}),x.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Full Name"}),x.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Contact"}),x.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Enrollment Date"}),x.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-200",children:i?x.jsx("tr",{children:x.jsx("td",{colSpan:"4",className:"p-4 text-center text-gray-500",children:"Loading students..."})}):O.length>0?O.map(k=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"p-4 text-gray-800",children:k.fullName}),x.jsx("td",{className:"p-4 text-gray-600",children:k.studentContact}),x.jsx("td",{className:"p-4 text-gray-600",children:Mn(k.enrollmentDate)}),x.jsx("td",{className:"p-4",children:x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{onClick:()=>E(k),className:"p-2 text-gray-600 hover:text-blue-800 rounded-full hover:bg-gray-200",children:x.jsx(St,{path:ze.INFO,className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>S(k),className:"p-2 text-blue-600 hover:text-blue-800 rounded-full hover:bg-gray-200",children:x.jsx(St,{path:ze.EDIT,className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>I(k),className:"p-2 text-red-600 hover:text-red-800 rounded-full hover:bg-gray-200",children:x.jsx(St,{path:ze.DELETE,className:"w-5 h-5"})})]})})]},k.id)):x.jsx("tr",{children:x.jsx("td",{colSpan:"4",className:"p-4 text-center text-gray-500",children:"No students found in this category."})})})]})})}),x.jsx(sR,{isOpen:l,onClose:()=>u(!1),studentToEdit:c}),x.jsx(s0,{isOpen:d,onClose:()=>p(!1),onConfirm:T,title:"Delete Student",message:`Are you sure you want to delete ${g==null?void 0:g.fullName}? This action cannot be undone.`}),w&&x.jsx(V9,{isOpen:v,onClose:()=>y(!1),student:w})]})},U9=({isOpen:t,onClose:e,groupToEdit:n})=>{const{db:r,userId:i,appId:o}=_n(),a=[];for(let v=9;v<=23;v++)a.push(`${v.toString().padStart(2,"0")}:00`),a.push(`${v.toString().padStart(2,"0")}:30`);a.push("00:00");const s=M.useCallback(()=>({groupName:(n==null?void 0:n.groupName)||"",schedule:(n==null?void 0:n.schedule)||{days:[],startTime:"10:00",endTime:"12:00"}}),[n]),[l,u]=M.useState(s()),[c,h]=M.useState(!1);M.useEffect(()=>{t&&u(s())},[t,s]);const d=v=>{u(y=>({...y,groupName:v.target.value}))},p=v=>{const{name:y,value:w}=v.target;u(b=>({...b,schedule:{...b.schedule,[y]:w}}))},g=v=>{const y=l.schedule.days,w=y.includes(v)?y.filter(b=>b!==v):[...y,v];u(b=>({...b,schedule:{...b.schedule,days:w}}))},m=async v=>{v.preventDefault(),h(!0);try{if(n){const y=Rr(r,"artifacts",o,"users",i,"groups",n.id);await fw(y,l,{merge:!0})}else{const y=zt(r,"artifacts",o,"users",i,"groups");await mo(y,l)}e()}catch(y){console.error("Error saving group:",y)}finally{h(!1)}};return x.jsx(xo,{isOpen:t,onClose:e,title:n?"Edit Group":"Add New Group",children:x.jsxs("form",{onSubmit:m,children:[x.jsxs("div",{className:"space-y-6",children:[x.jsx(Vt,{label:"Group Name",name:"groupName",value:l.groupName,onChange:d,required:!0}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule"}),x.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Mon","Tue","Wed","Thu","Fri","Sat"].map(v=>x.jsx("button",{type:"button",onClick:()=>g(v),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${l.schedule.days.includes(v)?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:v},v))}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"flex-1",children:x.jsx(Vs,{label:"Start Time",name:"startTime",value:l.schedule.startTime,onChange:p,options:a})}),x.jsx("div",{className:"pt-6 text-gray-500",children:"-"}),x.jsx("div",{className:"flex-1",children:x.jsx(Vs,{label:"End Time",name:"endTime",value:l.schedule.endTime,onChange:p,options:a})})]})]})]}),x.jsxs("div",{className:"flex justify-end pt-8 mt-8 border-t border-gray-200 space-x-4",children:[x.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-lg text-gray-700 bg-gray-200 hover:bg-gray-300",children:"Cancel"}),x.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2 rounded-lg text-white bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed",children:c?"Saving...":"Save Group"})]})]})})},B9=({isOpen:t,onClose:e,lesson:n,students:r})=>{const{db:i,userId:o,appId:a}=_n(),[s,l]=M.useState(n.attendance||{}),u=async(h,d)=>{const p={...s,[h]:d};l(p);const g=Rr(i,"artifacts",a,"users",o,"lessons",n.id);await Pd(g,{attendance:p})},c=h=>{switch(h){case"present":return"bg-green-500 text-white";case"absent":return"bg-red-500 text-white";case"late":return"bg-yellow-500 text-white";default:return"bg-gray-200"}};return x.jsx(xo,{isOpen:t,onClose:e,title:`Attendance for ${n.topic} on ${Mn(n.lessonDate)}`,children:x.jsx("ul",{className:"divide-y divide-gray-200",children:r.map(h=>x.jsxs("li",{className:"py-4 flex items-center justify-between",children:[x.jsx("span",{className:"font-medium text-gray-800",children:h.fullName}),x.jsx("div",{className:"flex space-x-2",children:["present","absent","late"].map(d=>x.jsx("button",{onClick:()=>u(h.id,d),className:`px-3 py-1 text-sm rounded-full capitalize transition-colors ${s[h.id]===d?c(d):"bg-gray-200 hover:bg-gray-300"}`,children:d},d))})]},h.id))})})},z9=({isOpen:t,onClose:e,group:n,students:r})=>{const{db:i,userId:o,appId:a}=_n(),[s,l]=M.useState(null),[u,c]=M.useState([]),[h,d]=M.useState({date:"",topic:""}),[p,g]=M.useState(null),[m,v]=M.useState(null),[y,w]=M.useState(!1),[b,I]=M.useState(null);M.useEffect(()=>{if(!(n!=null&&n.id))return;const C=$s(zt(i,"artifacts",a,"users",o,"lessons"),Ls("groupId","==",n.id));return si(C,N=>{const V=N.docs.map(F=>({id:F.id,...F.data()}));V.sort((F,W)=>F.lessonDate.toMillis()-W.lessonDate.toMillis()),c(V)})},[i,o,a,n==null?void 0:n.id]),M.useEffect(()=>{d(p?{date:p.lessonDate.toDate().toISOString().split("T")[0],topic:p.topic}:{date:"",topic:""})},[p]);const T=C=>{l(C)},P=async()=>{if(!s)return;const C=Rr(i,"artifacts",a,"users",o,"students",s.id);try{await Pd(C,{groupId:null}),l(null)}catch(R){console.error("Error removing student from group: ",R)}},S=async C=>{if(C.preventDefault(),!h.date||!h.topic)return;const R={topic:h.topic,groupId:n.id,lessonDate:Oe.fromDate(new Date(h.date.replace(/-/g,"/")))};try{if(p){const N=Rr(i,"artifacts",a,"users",o,"lessons",p.id);await Pd(N,R)}else{const N=zt(i,"artifacts",a,"users",o,"lessons");await mo(N,{...R,attendance:{}})}d({date:"",topic:""}),g(null)}catch(N){console.error("Error saving lesson: ",N)}},E=async()=>{if(m)try{const C=Rr(i,"artifacts",a,"users",o,"lessons",m.id);await i2(C),v(null)}catch(C){console.error("Error deleting lesson: ",C)}},O=C=>{I(C),w(!0)},k=x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold",children:n.groupName}),x.jsx("p",{className:"text-sm text-white/80",children:"Group Details"})]});return x.jsxs(x.Fragment,{children:[x.jsx(xo,{isOpen:t,onClose:e,title:k,children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs(qo,{title:"Lessons",children:[x.jsxs("form",{onSubmit:S,className:"sm:col-span-6 grid grid-cols-1 sm:grid-cols-6 gap-4 items-end",children:[x.jsx("div",{className:"sm:col-span-2",children:x.jsx(na,{name:"date",value:h.date,onChange:C=>d({...h,date:C.target.value})})}),x.jsx("div",{className:"sm:col-span-3",children:x.jsx(Vt,{placeholder:"Lesson topic",name:"topic",value:h.topic,onChange:C=>d({...h,topic:C.target.value})})}),x.jsx("div",{className:"sm:col-span-1",children:x.jsx("button",{type:"submit",className:"w-full px-4 py-2 rounded-lg text-white bg-blue-600 hover:bg-blue-700",children:p?"Update":"Add"})}),p&&x.jsx("div",{className:"sm:col-span-6",children:x.jsx("button",{type:"button",onClick:()=>g(null),className:"text-sm text-gray-500 hover:underline",children:"Cancel Edit"})})]}),x.jsx("div",{className:"sm:col-span-6 mt-4",children:u.length>0?x.jsx("ul",{className:"divide-y divide-gray-200",children:u.map(C=>x.jsxs("li",{className:"py-3 flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-gray-800",children:C.topic}),x.jsx("p",{className:"text-sm text-gray-500",children:Mn(C.lessonDate)})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("button",{onClick:()=>O(C),className:"text-sm text-gray-500 hover:text-gray-700",children:"Attendance"}),x.jsx("button",{onClick:()=>g(C),className:"p-2 text-gray-500 hover:text-blue-600 rounded-full hover:bg-gray-200",children:x.jsx(St,{path:ze.EDIT,className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>v(C),className:"p-2 text-gray-500 hover:text-red-600 rounded-full hover:bg-gray-200",children:x.jsx(St,{path:ze.DELETE,className:"w-4 h-4"})})]})]},C.id))}):x.jsx("p",{className:"text-center text-gray-500 py-4",children:"No lessons scheduled for this group yet."})})]}),x.jsx(qo,{title:"Students in this Group",children:x.jsx("div",{className:"sm:col-span-6",children:r.length>0?x.jsx("ul",{className:"divide-y divide-gray-200",children:r.map(C=>x.jsxs("li",{className:"py-3 flex items-center justify-between",children:[x.jsx("span",{className:"text-gray-800",children:C.fullName}),x.jsx("button",{onClick:()=>T(C),className:"text-sm text-red-600 hover:text-red-800",children:"Remove"})]},C.id))}):x.jsx("p",{className:"text-gray-500",children:"No students assigned to this group yet."})})})]})}),s&&x.jsx(s0,{isOpen:!!s,onClose:()=>l(null),onConfirm:P,title:"Remove Student",message:`Are you sure you want to remove ${s.fullName} from this group?`}),m&&x.jsx(s0,{isOpen:!!m,onClose:()=>v(null),onConfirm:E,title:"Delete Lesson",message:`Are you sure you want to delete the lesson "${m.topic}"?`}),b&&x.jsx(B9,{isOpen:y,onClose:()=>w(!1),lesson:b,students:r})]})},W9=()=>{const{groups:t,students:e,isLoading:n}=_n(),[r,i]=M.useState(!1),[o,a]=M.useState(null),[s,l]=M.useState(!1),[u,c]=M.useState(null),h=()=>{a(null),i(!0)},d=m=>{a(m),i(!0)},p=m=>{c(m),l(!0)},g=m=>e.filter(v=>v.groupId===m).length;return x.jsxs("div",{className:"p-4 md:p-8",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Groups"}),x.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 rounded-lg text-white bg-blue-600 hover:bg-blue-700 shadow",children:[x.jsx(St,{path:ze.ADD,className:"w-5 h-5 mr-2"}),"Add Group"]})]}),n?x.jsx("p",{className:"text-center text-gray-500",children:"Loading groups..."}):x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(m=>x.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 flex flex-col",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:m.groupName}),x.jsx("div",{className:"text-gray-600 mb-4",children:m.schedule&&m.schedule.days&&m.schedule.days.length>0&&x.jsxs("div",{children:[m.schedule.days.join(", "),": ",m.schedule.startTime," - ",m.schedule.endTime]})}),x.jsx("div",{className:"flex-grow"}),x.jsxs("div",{className:"flex justify-between items-center mt-4",children:[x.jsxs("span",{className:"text-sm text-gray-500",children:[g(m.id)," Students"]}),x.jsxs("div",{className:"flex items-center",children:[x.jsx("button",{onClick:()=>p(m),className:"text-sm font-medium text-blue-600 hover:underline mr-4",children:"Details"}),x.jsx("button",{onClick:()=>d(m),className:"p-2 text-gray-500 hover:text-blue-600 rounded-full hover:bg-gray-200",children:x.jsx(St,{path:ze.EDIT,className:"w-5 h-5"})})]})]})]},m.id))}),x.jsx(U9,{isOpen:r,onClose:()=>i(!1),groupToEdit:o}),u&&x.jsx(z9,{isOpen:s,onClose:()=>l(!1),group:u,students:e.filter(m=>m.groupId===u.id)})]})},H9=({isOpen:t,onClose:e,student:n})=>{var m,v;const{db:r,userId:i,appId:o,transactions:a}=_n(),[s,l]=M.useState(1),[u,c]=M.useState(!1);if(!n)return null;const h=M.useMemo(()=>a.filter(y=>y.type==="income-tutoring"&&y.studentId===n.id).sort((y,w)=>w.date.toMillis()-y.date.toMillis()),[a,n.id]),d=async y=>{const w=Rr(r,"artifacts",o,"users",i,"students",n.id),b=n.installments.map(T=>T.number===y?{...T,status:"Paid"}:T),I=n.installments.find(T=>T.number===y);try{await Pd(w,{installments:b});const T=zt(r,"artifacts",o,"users",i,"transactions");await mo(T,{studentId:n.id,studentName:n.fullName,amount:I.amount,date:Oe.now(),type:"income-group",description:`Installment #${y} for ${n.fullName}`})}catch(T){console.error("Error logging payment: ",T)}},p=async()=>{var I;c(!0);const y=parseFloat((I=n.tutoringDetails)==null?void 0:I.hourlyRate)||0,w=parseInt(s,10)||0;if(y<=0||w<=0){alert("Please enter a valid hourly rate and number of hours."),c(!1);return}const b=y*w;try{const T=zt(r,"artifacts",o,"users",i,"transactions");await mo(T,{studentId:n.id,studentName:n.fullName,amount:b,date:Oe.now(),type:"income-tutoring",description:`Tutoring payment for ${w} hour(s).`}),l(1)}catch(T){console.error("Error logging tutoring payment: ",T)}finally{c(!1)}},g=x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold",children:n.fullName}),x.jsx("p",{className:"text-sm text-white/80",children:"Payment Details"})]});return x.jsx(xo,{isOpen:t,onClose:e,title:g,children:n.isTutoring?x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Log New Tutoring Payment"}),x.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-4",children:[x.jsxs("p",{children:[x.jsx("span",{className:"font-medium",children:"Hourly Rate:"})," ",((m=n.tutoringDetails)==null?void 0:m.hourlyRate)||"N/A"]}),x.jsxs("div",{className:"flex items-end gap-4",children:[x.jsx(Vt,{label:"Number of Hours/Sessions",type:"number",value:s,onChange:y=>l(y.target.value),min:"1"}),x.jsx("button",{onClick:p,disabled:u,className:"px-4 py-2 h-10 rounded-lg text-white bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400",children:u?"Logging...":"Log Payment"})]}),x.jsxs("p",{className:"text-lg font-bold",children:["Total: ",((((v=n.tutoringDetails)==null?void 0:v.hourlyRate)||0)*(s||0)).toFixed(2)]})]})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Payment History"}),h.length>0?x.jsx("ul",{className:"divide-y divide-gray-200 border-t border-b",children:h.map(y=>x.jsxs("li",{className:"py-3 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-gray-800",children:y.description}),x.jsx("p",{className:"text-sm text-gray-500",children:Mn(y.date)})]}),x.jsxs("p",{className:"font-semibold text-green-600",children:["",y.amount.toFixed(2)]})]},y.id))}):x.jsx("p",{className:"text-center text-gray-500 py-4",children:"No tutoring payments logged yet."})]})]}):x.jsxs("div",{className:"space-y-4",children:[x.jsx("h4",{className:"font-semibold",children:"Installment Plan"}),x.jsx("ul",{className:"divide-y divide-gray-200",children:(n.installments||[]).map(y=>x.jsxs("li",{className:"py-3 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"font-medium text-gray-800",children:["Installment #",y.number]}),x.jsxs("p",{className:"text-sm text-gray-500",children:["Due: ",Mn(y.dueDate)]})]}),x.jsxs("div",{className:"text-right flex items-center space-x-4",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"font-semibold text-gray-800",children:["",y.amount.toFixed(2)]}),y.status==="Paid"?x.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full",children:"Paid"}):x.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-red-800 bg-red-100 rounded-full",children:"Unpaid"})]}),y.status==="Unpaid"&&x.jsx("button",{onClick:()=>d(y.number),className:"px-3 py-1 text-sm rounded-lg text-white bg-blue-600 hover:bg-blue-700",children:"Log Payment"})]})]},y.number))})]})})},q9=({onStudentSelect:t})=>{const{students:e}=_n(),[n,r]=M.useState("group"),i=e.filter(s=>!s.isTutoring),o=e.filter(s=>s.isTutoring),a=n==="group"?i:o;return x.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[x.jsx("div",{className:"p-4 border-b border-gray-200",children:x.jsx("h3",{className:"font-semibold text-xl text-gray-800",children:"Manage Student Payments"})}),x.jsx("div",{className:"px-4 border-b border-gray-200",children:x.jsxs("nav",{className:"flex space-x-4","aria-label":"Tabs",children:[x.jsx("button",{onClick:()=>r("group"),className:`-mb-px px-3 py-2 font-medium text-sm border-b-2 ${n==="group"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Group Students"}),x.jsx("button",{onClick:()=>r("tutoring"),className:`-mb-px px-3 py-2 font-medium text-sm border-b-2 ${n==="tutoring"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Tutoring Students"})]})}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Full Name"}),x.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Payment Status"}),x.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Next Due Date"}),x.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-200",children:a.length>0?a.map(s=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"p-4 text-gray-800",children:s.fullName}),x.jsx("td",{className:"p-4 text-gray-600",children:x.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full",children:"Paid"})}),x.jsx("td",{className:"p-4 text-gray-600",children:"N/A"}),x.jsx("td",{className:"p-4",children:x.jsx("button",{onClick:()=>t(s),className:"text-sm font-medium text-blue-600 hover:underline",children:"View Details"})})]},s.id)):x.jsx("tr",{children:x.jsx("td",{colSpan:"4",className:"p-4 text-center text-gray-500",children:"No students found in this category."})})})]})})]})},G9=({})=>{const{db:t,storage:e,userId:n,appId:r}=_n(),[i,o]=M.useState({category:"Rent",amount:"",expenseDate:new Date().toISOString().split("T")[0],description:""}),[a,s]=M.useState(null),[l,u]=M.useState(!1),[c,h]=M.useState(""),[d,p]=M.useState([]);M.useEffect(()=>{if(!n||!r)return;const y=$s(zt(t,"artifacts",r,"users",n,"transactions"),Ls("type","==","expense-business")),w=si(y,b=>{const I=b.docs.map(T=>({id:T.id,...T.data()}));I.sort((T,P)=>P.date.toMillis()-T.date.toMillis()),p(I)});return()=>w()},[t,n,r]);const g=y=>{const{name:w,value:b}=y.target;o(I=>({...I,[w]:b}))},m=y=>{y.target.files[0]&&s(y.target.files[0])},v=async y=>{y.preventDefault(),u(!0),h("");let w="";try{if(a){const I=rR(e,`artifacts/${r}/public/data/invoices/${Date.now()}_${a.name}`);await tR(I,a),w=await nR(I)}const b=zt(t,"artifacts",r,"users",n,"transactions");await mo(b,{type:"expense-business",category:i.category,amount:parseFloat(i.amount),date:Oe.fromDate(new Date(i.expenseDate.replace(/-/g,"/"))),description:i.description,invoiceUrl:w}),o({category:"Rent",amount:"",expenseDate:new Date().toISOString().split("T")[0],description:""}),s(null),document.getElementById("invoice").value="",h("Success!"),setTimeout(()=>h(""),2e3)}catch(b){console.error("Error logging expense: ",b),h("Error!")}finally{u(!1)}};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[x.jsx("h3",{className:"font-semibold text-xl mb-4 text-gray-800",children:"Log Business Expense"}),x.jsxs("form",{onSubmit:v,className:"space-y-4",children:[x.jsxs(Aw,{label:"Category",name:"category",value:i.category,onChange:g,children:[x.jsx("option",{children:"Rent"}),x.jsx("option",{children:"Bills"}),x.jsx("option",{children:"Materials"}),x.jsx("option",{children:"Other"})]}),x.jsx(Vt,{label:"Amount ()",name:"amount",type:"number",placeholder:"e.g., 500.00",value:i.amount,onChange:g,required:!0}),x.jsx(na,{label:"Expense Date",name:"expenseDate",value:i.expenseDate,onChange:g}),x.jsx(Vt,{label:"Description",name:"description",placeholder:"e.g., Office supplies",value:i.description,onChange:g,required:!0}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice (Optional)"}),x.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:x.jsxs("div",{className:"space-y-1 text-center",children:[x.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:x.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),x.jsxs("div",{className:"flex text-sm text-gray-600",children:[x.jsxs("label",{htmlFor:"invoice",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none",children:[x.jsx("span",{children:"Upload a file"}),x.jsx("input",{id:"invoice",name:"invoice",type:"file",className:"sr-only",onChange:m})]}),x.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),x.jsx("p",{className:"text-xs text-gray-500",children:a?a.name:"PNG, JPG, PDF up to 10MB"})]})})]}),x.jsx("div",{className:"pt-4",children:x.jsx("button",{type:"submit",disabled:l,className:"w-full px-4 py-2 rounded-lg text-white bg-green-600 hover:bg-green-700 disabled:bg-green-400 transition-colors",children:l?"Logging...":c||"Log Expense"})})]})]}),x.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[x.jsx("h3",{className:"font-semibold text-xl p-6 border-b border-gray-200",children:"Logged Expenses"}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Date"}),x.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Category"}),x.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Description"}),x.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase text-right",children:"Amount"}),x.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Invoice"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-200",children:d.length>0?d.map(y=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"p-4 text-gray-600",children:Mn(y.date)}),x.jsx("td",{className:"p-4 text-gray-800",children:y.category}),x.jsx("td",{className:"p-4 text-gray-800",children:y.description}),x.jsxs("td",{className:"p-4 text-gray-800 font-semibold text-right",children:["",y.amount.toFixed(2)]}),x.jsx("td",{className:"p-4",children:y.invoiceUrl?x.jsx("a",{href:y.invoiceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-blue-600 hover:underline",children:"View"}):"N/A"})]},y.id)):x.jsx("tr",{children:x.jsx("td",{colSpan:"5",className:"p-4 text-center text-gray-500",children:"No business expenses logged yet."})})})]})})]})]})},K9=()=>{const{db:t,userId:e,appId:n}=_n(),[r,i]=M.useState({category:"Food",amount:"",expenseDate:new Date().toISOString().split("T")[0],description:""}),[o,a]=M.useState(!1),[s,l]=M.useState(""),[u,c]=M.useState([]);M.useEffect(()=>{if(!e||!n)return;const p=$s(zt(t,"artifacts",n,"users",e,"transactions"),Ls("type","==","expense-personal")),g=si(p,m=>{const v=m.docs.map(y=>({id:y.id,...y.data()}));v.sort((y,w)=>w.date.toMillis()-y.date.toMillis()),c(v)});return()=>g()},[t,e,n]);const h=p=>{const{name:g,value:m}=p.target;i(v=>({...v,[g]:m}))},d=async p=>{p.preventDefault(),a(!0),l("");try{const g=zt(t,"artifacts",n,"users",e,"transactions");await mo(g,{type:"expense-personal",category:r.category,amount:parseFloat(r.amount),date:Oe.fromDate(new Date(r.expenseDate.replace(/-/g,"/"))),description:r.description}),i({category:"Food",amount:"",expenseDate:new Date().toISOString().split("T")[0],description:""}),l("Success!"),setTimeout(()=>l(""),2e3)}catch(g){console.error("Error logging expense: ",g),l("Error!")}finally{a(!1)}};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[x.jsx("h3",{className:"font-semibold text-xl mb-4 text-gray-800",children:"Log Personal Expense"}),x.jsxs("form",{onSubmit:d,className:"space-y-4",children:[x.jsxs(Aw,{label:"Category",name:"category",value:r.category,onChange:h,children:[x.jsx("option",{children:"Food"}),x.jsx("option",{children:"Clothing"}),x.jsx("option",{children:"Subscriptions"}),x.jsx("option",{children:"Other"})]}),x.jsx(Vt,{label:"Amount ()",name:"amount",type:"number",placeholder:"e.g., 150.00",value:r.amount,onChange:h,required:!0}),x.jsx(na,{label:"Expense Date",name:"expenseDate",value:r.expenseDate,onChange:h}),x.jsx(Vt,{label:"Description",name:"description",placeholder:"e.g., Weekly groceries",value:r.description,onChange:h,required:!0}),x.jsx("div",{className:"pt-4",children:x.jsx("button",{type:"submit",disabled:o,className:"w-full px-4 py-2 rounded-lg text-white bg-yellow-500 hover:bg-yellow-600 disabled:bg-yellow-300 transition-colors",children:o?"Logging...":s||"Log Expense"})})]})]}),x.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[x.jsx("h3",{className:"font-semibold text-xl p-6 border-b border-gray-200",children:"Logged Expenses"}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Date"}),x.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Category"}),x.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Description"}),x.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase text-right",children:"Amount"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-200",children:u.length>0?u.map(p=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"p-4 text-gray-600",children:Mn(p.date)}),x.jsx("td",{className:"p-4 text-gray-800",children:p.category}),x.jsx("td",{className:"p-4 text-gray-800",children:p.description}),x.jsxs("td",{className:"p-4 text-gray-800 font-semibold text-right",children:["",p.amount.toFixed(2)]})]},p.id)):x.jsx("tr",{children:x.jsx("td",{colSpan:"4",className:"p-4 text-center text-gray-500",children:"No personal expenses logged yet."})})})]})})]})]})};function lR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=lR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ye(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=lR(t))&&(r&&(r+=" "),r+=e);return r}var X9=Array.isArray,Pn=X9,Y9=typeof $f=="object"&&$f&&$f.Object===Object&&$f,uR=Y9,Q9=uR,J9=typeof self=="object"&&self&&self.Object===Object&&self,Z9=Q9||J9||Function("return this")(),Br=Z9,e8=Br,t8=e8.Symbol,df=t8,iT=df,cR=Object.prototype,n8=cR.hasOwnProperty,r8=cR.toString,tu=iT?iT.toStringTag:void 0;function i8(t){var e=n8.call(t,tu),n=t[tu];try{t[tu]=void 0;var r=!0}catch{}var i=r8.call(t);return r&&(e?t[tu]=n:delete t[tu]),i}var o8=i8,a8=Object.prototype,s8=a8.toString;function l8(t){return s8.call(t)}var u8=l8,oT=df,c8=o8,f8=u8,h8="[object Null]",d8="[object Undefined]",aT=oT?oT.toStringTag:void 0;function p8(t){return t==null?t===void 0?d8:h8:aT&&aT in Object(t)?c8(t):f8(t)}var Ei=p8;function m8(t){return t!=null&&typeof t=="object"}var Ti=m8,g8=Ei,y8=Ti,v8="[object Symbol]";function _8(t){return typeof t=="symbol"||y8(t)&&g8(t)==v8}var _l=_8,b8=Pn,w8=_l,x8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S8=/^\w*$/;function E8(t,e){if(b8(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||w8(t)?!0:S8.test(t)||!x8.test(t)||e!=null&&t in Object(e)}var Pw=E8;function T8(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var So=T8;const bl=De(So);var A8=Ei,P8=So,I8="[object AsyncFunction]",O8="[object Function]",C8="[object GeneratorFunction]",k8="[object Proxy]";function N8(t){if(!P8(t))return!1;var e=A8(t);return e==O8||e==C8||e==I8||e==k8}var Iw=N8;const fe=De(Iw);var R8=Br,j8=R8["__core-js_shared__"],D8=j8,dy=D8,sT=function(){var t=/[^.]+$/.exec(dy&&dy.keys&&dy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function M8(t){return!!sT&&sT in t}var $8=M8,L8=Function.prototype,V8=L8.toString;function F8(t){if(t!=null){try{return V8.call(t)}catch{}try{return t+""}catch{}}return""}var fR=F8,U8=Iw,B8=$8,z8=So,W8=fR,H8=/[\\^$.*+?()[\]{}|]/g,q8=/^\[object .+?Constructor\]$/,G8=Function.prototype,K8=Object.prototype,X8=G8.toString,Y8=K8.hasOwnProperty,Q8=RegExp("^"+X8.call(Y8).replace(H8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function J8(t){if(!z8(t)||B8(t))return!1;var e=U8(t)?Q8:q8;return e.test(W8(t))}var Z8=J8;function ez(t,e){return t==null?void 0:t[e]}var tz=ez,nz=Z8,rz=tz;function iz(t,e){var n=rz(t,e);return nz(n)?n:void 0}var Oa=iz,oz=Oa,az=oz(Object,"create"),mm=az,lT=mm;function sz(){this.__data__=lT?lT(null):{},this.size=0}var lz=sz;function uz(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cz=uz,fz=mm,hz="__lodash_hash_undefined__",dz=Object.prototype,pz=dz.hasOwnProperty;function mz(t){var e=this.__data__;if(fz){var n=e[t];return n===hz?void 0:n}return pz.call(e,t)?e[t]:void 0}var gz=mz,yz=mm,vz=Object.prototype,_z=vz.hasOwnProperty;function bz(t){var e=this.__data__;return yz?e[t]!==void 0:_z.call(e,t)}var wz=bz,xz=mm,Sz="__lodash_hash_undefined__";function Ez(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=xz&&e===void 0?Sz:e,this}var Tz=Ez,Az=lz,Pz=cz,Iz=gz,Oz=wz,Cz=Tz;function wl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wl.prototype.clear=Az;wl.prototype.delete=Pz;wl.prototype.get=Iz;wl.prototype.has=Oz;wl.prototype.set=Cz;var kz=wl;function Nz(){this.__data__=[],this.size=0}var Rz=Nz;function jz(t,e){return t===e||t!==t&&e!==e}var Ow=jz,Dz=Ow;function Mz(t,e){for(var n=t.length;n--;)if(Dz(t[n][0],e))return n;return-1}var gm=Mz,$z=gm,Lz=Array.prototype,Vz=Lz.splice;function Fz(t){var e=this.__data__,n=$z(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Vz.call(e,n,1),--this.size,!0}var Uz=Fz,Bz=gm;function zz(t){var e=this.__data__,n=Bz(e,t);return n<0?void 0:e[n][1]}var Wz=zz,Hz=gm;function qz(t){return Hz(this.__data__,t)>-1}var Gz=qz,Kz=gm;function Xz(t,e){var n=this.__data__,r=Kz(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Yz=Xz,Qz=Rz,Jz=Uz,Zz=Wz,e7=Gz,t7=Yz;function xl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xl.prototype.clear=Qz;xl.prototype.delete=Jz;xl.prototype.get=Zz;xl.prototype.has=e7;xl.prototype.set=t7;var ym=xl,n7=Oa,r7=Br,i7=n7(r7,"Map"),Cw=i7,uT=kz,o7=ym,a7=Cw;function s7(){this.size=0,this.__data__={hash:new uT,map:new(a7||o7),string:new uT}}var l7=s7;function u7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var c7=u7,f7=c7;function h7(t,e){var n=t.__data__;return f7(e)?n[typeof e=="string"?"string":"hash"]:n.map}var vm=h7,d7=vm;function p7(t){var e=d7(this,t).delete(t);return this.size-=e?1:0,e}var m7=p7,g7=vm;function y7(t){return g7(this,t).get(t)}var v7=y7,_7=vm;function b7(t){return _7(this,t).has(t)}var w7=b7,x7=vm;function S7(t,e){var n=x7(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var E7=S7,T7=l7,A7=m7,P7=v7,I7=w7,O7=E7;function Sl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Sl.prototype.clear=T7;Sl.prototype.delete=A7;Sl.prototype.get=P7;Sl.prototype.has=I7;Sl.prototype.set=O7;var kw=Sl,hR=kw,C7="Expected a function";function Nw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(C7);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Nw.Cache||hR),n}Nw.Cache=hR;var dR=Nw;const k7=De(dR);var N7=dR,R7=500;function j7(t){var e=N7(t,function(r){return n.size===R7&&n.clear(),r}),n=e.cache;return e}var D7=j7,M7=D7,$7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,L7=/\\(\\)?/g,V7=M7(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($7,function(n,r,i,o){e.push(i?o.replace(L7,"$1"):r||n)}),e}),F7=V7;function U7(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Rw=U7,cT=df,B7=Rw,z7=Pn,W7=_l,H7=1/0,fT=cT?cT.prototype:void 0,hT=fT?fT.toString:void 0;function pR(t){if(typeof t=="string")return t;if(z7(t))return B7(t,pR)+"";if(W7(t))return hT?hT.call(t):"";var e=t+"";return e=="0"&&1/t==-H7?"-0":e}var q7=pR,G7=q7;function K7(t){return t==null?"":G7(t)}var mR=K7,X7=Pn,Y7=Pw,Q7=F7,J7=mR;function Z7(t,e){return X7(t)?t:Y7(t,e)?[t]:Q7(J7(t))}var gR=Z7,eW=_l,tW=1/0;function nW(t){if(typeof t=="string"||eW(t))return t;var e=t+"";return e=="0"&&1/t==-tW?"-0":e}var _m=nW,rW=gR,iW=_m;function oW(t,e){e=rW(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[iW(e[n++])];return n&&n==r?t:void 0}var jw=oW,aW=jw;function sW(t,e,n){var r=t==null?void 0:aW(t,e);return r===void 0?n:r}var yR=sW;const Ln=De(yR);function lW(t){return t==null}var uW=lW;const ve=De(uW);var cW=Ei,fW=Pn,hW=Ti,dW="[object String]";function pW(t){return typeof t=="string"||!fW(t)&&hW(t)&&cW(t)==dW}var mW=pW;const va=De(mW);var vR={exports:{}},Me={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw=Symbol.for("react.element"),Mw=Symbol.for("react.portal"),bm=Symbol.for("react.fragment"),wm=Symbol.for("react.strict_mode"),xm=Symbol.for("react.profiler"),Sm=Symbol.for("react.provider"),Em=Symbol.for("react.context"),gW=Symbol.for("react.server_context"),Tm=Symbol.for("react.forward_ref"),Am=Symbol.for("react.suspense"),Pm=Symbol.for("react.suspense_list"),Im=Symbol.for("react.memo"),Om=Symbol.for("react.lazy"),yW=Symbol.for("react.offscreen"),_R;_R=Symbol.for("react.module.reference");function rr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Dw:switch(t=t.type,t){case bm:case xm:case wm:case Am:case Pm:return t;default:switch(t=t&&t.$$typeof,t){case gW:case Em:case Tm:case Om:case Im:case Sm:return t;default:return e}}case Mw:return e}}}Me.ContextConsumer=Em;Me.ContextProvider=Sm;Me.Element=Dw;Me.ForwardRef=Tm;Me.Fragment=bm;Me.Lazy=Om;Me.Memo=Im;Me.Portal=Mw;Me.Profiler=xm;Me.StrictMode=wm;Me.Suspense=Am;Me.SuspenseList=Pm;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(t){return rr(t)===Em};Me.isContextProvider=function(t){return rr(t)===Sm};Me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dw};Me.isForwardRef=function(t){return rr(t)===Tm};Me.isFragment=function(t){return rr(t)===bm};Me.isLazy=function(t){return rr(t)===Om};Me.isMemo=function(t){return rr(t)===Im};Me.isPortal=function(t){return rr(t)===Mw};Me.isProfiler=function(t){return rr(t)===xm};Me.isStrictMode=function(t){return rr(t)===wm};Me.isSuspense=function(t){return rr(t)===Am};Me.isSuspenseList=function(t){return rr(t)===Pm};Me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===bm||t===xm||t===wm||t===Am||t===Pm||t===yW||typeof t=="object"&&t!==null&&(t.$$typeof===Om||t.$$typeof===Im||t.$$typeof===Sm||t.$$typeof===Em||t.$$typeof===Tm||t.$$typeof===_R||t.getModuleId!==void 0)};Me.typeOf=rr;vR.exports=Me;var vW=vR.exports,_W=Ei,bW=Ti,wW="[object Number]";function xW(t){return typeof t=="number"||bW(t)&&_W(t)==wW}var bR=xW;const SW=De(bR);var EW=bR;function TW(t){return EW(t)&&t!=+t}var AW=TW;const pf=De(AW);var hn=function(e){return e===0?0:e>0?1:-1},Go=function(e){return va(e)&&e.indexOf("%")===e.length-1},J=function(e){return SW(e)&&!pf(e)},PW=function(e){return ve(e)},Tt=function(e){return J(e)||va(e)},IW=0,mf=function(e){var n=++IW;return"".concat(e||"").concat(n)},dn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!J(e)&&!va(e))return r;var o;if(Go(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return pf(o)&&(o=r),i&&o>n&&(o=n),o},zi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},OW=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ji=function(e,n){return J(e)&&J(n)?function(r){return e+r*(n-e)}:function(){return n}};function l0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ln(r,e))===n})}var CW=function(e,n){return J(e)&&J(n)?e-n:va(e)&&va(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function bs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function u0(t){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u0(t)}var kW=["viewBox","children"],NW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dT=["points","pathLength"],py={svg:kW,polygon:dT,polyline:dT},$w=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Rd=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.isValidElement(e)&&(r=e.props),!bl(r))return null;var i={};return Object.keys(r).forEach(function(o){$w.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},RW=function(e,n,r){return function(i){return e(n,r,i),null}},_a=function(e,n,r){if(!bl(e)||u0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];$w.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=RW(a,n,r))}),i},jW=["children"],DW=["children"];function pT(t,e){if(t==null)return{};var n=MW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},li=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},gT=null,my=null,Lw=function t(e){if(e===gT&&Array.isArray(my))return my;var n=[];return M.Children.forEach(e,function(r){ve(r)||(vW.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),my=n,gT=e,n};function Zn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return li(i)}):r=[li(e)],Lw(t).forEach(function(i){var o=Ln(i,"type.displayName")||Ln(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function kn(t,e){var n=Zn(t,e);return n&&n[0]}var yT=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!J(r)||r<=0||!J(i)||i<=0)},$W=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],LW=function(e){return e&&e.type&&va(e.type)&&$W.indexOf(e.type)>=0},VW=function(e,n,r,i){var o,a=(o=py==null?void 0:py[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!fe(e)&&(i&&a.includes(n)||NW.includes(n))||r&&$w.includes(n)},ue=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!bl(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;VW((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},c0=function t(e,n){if(e===n)return!0;var r=M.Children.count(e);if(r!==M.Children.count(n))return!1;if(r===0)return!0;if(r===1)return vT(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!vT(o,a))return!1}return!0},vT=function(e,n){if(ve(e)&&ve(n))return!0;if(!ve(e)&&!ve(n)){var r=e.props||{},i=r.children,o=pT(r,jW),a=n.props||{},s=a.children,l=pT(a,DW);return i&&s?bs(o,l)&&c0(i,s):!i&&!s?bs(o,l):!1}return!1},_T=function(e,n){var r=[],i={};return Lw(e).forEach(function(o,a){if(LW(o))r.push(o);else if(o){var s=li(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var h=u(o,s,a);r.push(h),i[s]=!0}}}),r},FW=function(e){var n=e&&e.type;return n&&mT[n]?mT[n]:null},UW=function(e,n){return Lw(n).indexOf(e)},BW=["children","width","height","viewBox","className","style","title","desc"];function f0(){return f0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f0.apply(this,arguments)}function zW(t,e){if(t==null)return{};var n=WW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function h0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=zW(t,BW),c=i||{width:n,height:r,x:0,y:0},h=ye("recharts-surface",o);return D.createElement("svg",f0({},ue(u,!0,"svg"),{className:h,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),D.createElement("title",null,s),D.createElement("desc",null,l),e)}var HW=["children","className"];function d0(){return d0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d0.apply(this,arguments)}function qW(t,e){if(t==null)return{};var n=GW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ne=D.forwardRef(function(t,e){var n=t.children,r=t.className,i=qW(t,HW),o=ye("recharts-layer",r);return D.createElement("g",d0({className:o},ue(i,!0),{ref:e}),n)}),gr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function KW(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var XW=KW,YW=XW;function QW(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:YW(t,e,n)}var JW=QW,ZW="\\ud800-\\udfff",eH="\\u0300-\\u036f",tH="\\ufe20-\\ufe2f",nH="\\u20d0-\\u20ff",rH=eH+tH+nH,iH="\\ufe0e\\ufe0f",oH="\\u200d",aH=RegExp("["+oH+ZW+rH+iH+"]");function sH(t){return aH.test(t)}var wR=sH;function lH(t){return t.split("")}var uH=lH,xR="\\ud800-\\udfff",cH="\\u0300-\\u036f",fH="\\ufe20-\\ufe2f",hH="\\u20d0-\\u20ff",dH=cH+fH+hH,pH="\\ufe0e\\ufe0f",mH="["+xR+"]",p0="["+dH+"]",m0="\\ud83c[\\udffb-\\udfff]",gH="(?:"+p0+"|"+m0+")",SR="[^"+xR+"]",ER="(?:\\ud83c[\\udde6-\\uddff]){2}",TR="[\\ud800-\\udbff][\\udc00-\\udfff]",yH="\\u200d",AR=gH+"?",PR="["+pH+"]?",vH="(?:"+yH+"(?:"+[SR,ER,TR].join("|")+")"+PR+AR+")*",_H=PR+AR+vH,bH="(?:"+[SR+p0+"?",p0,ER,TR,mH].join("|")+")",wH=RegExp(m0+"(?="+m0+")|"+bH+_H,"g");function xH(t){return t.match(wH)||[]}var SH=xH,EH=uH,TH=wR,AH=SH;function PH(t){return TH(t)?AH(t):EH(t)}var IH=PH,OH=JW,CH=wR,kH=IH,NH=mR;function RH(t){return function(e){e=NH(e);var n=CH(e)?kH(e):void 0,r=n?n[0]:e.charAt(0),i=n?OH(n,1).join(""):e.slice(1);return r[t]()+i}}var jH=RH,DH=jH,MH=DH("toUpperCase"),$H=MH;const Cm=De($H);function Be(t){return function(){return t}}const IR=Math.cos,jd=Math.sin,_r=Math.sqrt,Dd=Math.PI,km=2*Dd,g0=Math.PI,y0=2*g0,Lo=1e-6,LH=y0-Lo;function OR(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function VH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return OR;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class FH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?OR:VH(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,h=s-n,d=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Lo)if(!(Math.abs(h*l-u*c)>Lo)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,g=i-s,m=l*l+u*u,v=p*p+g*g,y=Math.sqrt(m),w=Math.sqrt(d),b=o*Math.tan((g0-Math.acos((m+d-v)/(2*y*w)))/2),I=b/w,T=b/y;Math.abs(I-1)>Lo&&this._append`L${e+I*c},${n+I*h}`,this._append`A${o},${o},0,0,${+(h*p>c*g)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,h=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Lo||Math.abs(this._y1-c)>Lo)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%y0+y0),d>LH?this._append`A${r},${r},0,1,${h},${e-s},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:d>Lo&&this._append`A${r},${r},0,${+(d>=g0)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Vw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new FH(e)}function Fw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function CR(t){this._context=t}CR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Nm(t){return new CR(t)}function kR(t){return t[0]}function NR(t){return t[1]}function RR(t,e){var n=Be(!0),r=null,i=Nm,o=null,a=Vw(s);t=typeof t=="function"?t:t===void 0?kR:Be(t),e=typeof e=="function"?e:e===void 0?NR:Be(e);function s(l){var u,c=(l=Fw(l)).length,h,d=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(h=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(h,u,l),+e(h,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Be(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Be(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Be(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function uh(t,e,n){var r=null,i=Be(!0),o=null,a=Nm,s=null,l=Vw(u);t=typeof t=="function"?t:t===void 0?kR:Be(+t),e=typeof e=="function"?e:Be(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?NR:Be(+n);function u(h){var d,p,g,m=(h=Fw(h)).length,v,y=!1,w,b=new Array(m),I=new Array(m);for(o==null&&(s=a(w=l())),d=0;d<=m;++d){if(!(d<m&&i(v=h[d],d,h))===y)if(y=!y)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=d-1;g>=p;--g)s.point(b[g],I[g]);s.lineEnd(),s.areaEnd()}y&&(b[d]=+t(v,d,h),I[d]=+e(v,d,h),s.point(r?+r(v,d,h):b[d],n?+n(v,d,h):I[d]))}if(w)return s=null,w+""||null}function c(){return RR().defined(i).curve(a).context(o)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Be(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Be(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Be(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Be(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Be(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Be(+h),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Be(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,o!=null&&(s=a(o)),u):a},u.context=function(h){return arguments.length?(h==null?o=s=null:s=a(o=h),u):o},u}class jR{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function UH(t){return new jR(t,!0)}function BH(t){return new jR(t,!1)}const Uw={draw(t,e){const n=_r(e/Dd);t.moveTo(n,0),t.arc(0,0,n,0,km)}},zH={draw(t,e){const n=_r(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},DR=_r(1/3),WH=DR*2,HH={draw(t,e){const n=_r(e/WH),r=n*DR;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},qH={draw(t,e){const n=_r(e),r=-n/2;t.rect(r,r,n,n)}},GH=.8908130915292852,MR=jd(Dd/10)/jd(7*Dd/10),KH=jd(km/10)*MR,XH=-IR(km/10)*MR,YH={draw(t,e){const n=_r(e*GH),r=KH*n,i=XH*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=km*o/5,s=IR(a),l=jd(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},gy=_r(3),QH={draw(t,e){const n=-_r(e/(gy*3));t.moveTo(0,n*2),t.lineTo(-gy*n,-n),t.lineTo(gy*n,-n),t.closePath()}},Bn=-.5,zn=_r(3)/2,v0=1/_r(12),JH=(v0/2+1)*3,ZH={draw(t,e){const n=_r(e/JH),r=n/2,i=n*v0,o=r,a=n*v0+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Bn*r-zn*i,zn*r+Bn*i),t.lineTo(Bn*o-zn*a,zn*o+Bn*a),t.lineTo(Bn*s-zn*l,zn*s+Bn*l),t.lineTo(Bn*r+zn*i,Bn*i-zn*r),t.lineTo(Bn*o+zn*a,Bn*a-zn*o),t.lineTo(Bn*s+zn*l,Bn*l-zn*s),t.closePath()}};function eq(t,e){let n=null,r=Vw(i);t=typeof t=="function"?t:Be(t||Uw),e=typeof e=="function"?e:Be(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Be(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Be(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Md(){}function $d(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function $R(t){this._context=t}$R.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$d(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$d(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tq(t){return new $R(t)}function LR(t){this._context=t}LR.prototype={areaStart:Md,areaEnd:Md,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$d(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nq(t){return new LR(t)}function VR(t){this._context=t}VR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$d(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rq(t){return new VR(t)}function FR(t){this._context=t}FR.prototype={areaStart:Md,areaEnd:Md,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function iq(t){return new FR(t)}function bT(t){return t<0?-1:1}function wT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(bT(o)+bT(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function xT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function yy(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Ld(t){this._context=t}Ld.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yy(this,this._t0,xT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yy(this,xT(this,n=wT(this,t,e)),n);break;default:yy(this,this._t0,n=wT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function UR(t){this._context=new BR(t)}(UR.prototype=Object.create(Ld.prototype)).point=function(t,e){Ld.prototype.point.call(this,e,t)};function BR(t){this._context=t}BR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function oq(t){return new Ld(t)}function aq(t){return new UR(t)}function zR(t){this._context=t}zR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=ST(t),i=ST(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ST(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function sq(t){return new zR(t)}function Rm(t,e){this._context=t,this._t=e}Rm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function lq(t){return new Rm(t,.5)}function uq(t){return new Rm(t,0)}function cq(t){return new Rm(t,1)}function Fs(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function _0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function fq(t,e){return t[e]}function hq(t){const e=[];return e.key=t,e}function dq(){var t=Be([]),e=_0,n=Fs,r=fq;function i(o){var a=Array.from(t.apply(this,arguments),hq),s,l=a.length,u=-1,c;for(const h of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(h,a[s].key,u,o)]).data=h;for(s=0,c=Fw(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Be(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Be(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?_0:typeof o=="function"?o:Be(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Fs,i):n},i}function pq(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Fs(t,e)}}function mq(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Fs(t,e)}}function gq(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],h=c[r][1]||0,d=c[r-1][1]||0,p=(h-d)/2,g=0;g<s;++g){var m=t[e[g]],v=m[r][1]||0,y=m[r-1][1]||0;p+=v-y}l+=h,u+=p*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Fs(t,e)}}function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}var yq=["type","size","sizeType"];function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b0.apply(this,arguments)}function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(r){vq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vq(t,e,n){return e=_q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _q(t){var e=bq(t,"string");return hc(e)=="symbol"?e:e+""}function bq(t,e){if(hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wq(t,e){if(t==null)return{};var n=xq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var WR={symbolCircle:Uw,symbolCross:zH,symbolDiamond:HH,symbolSquare:qH,symbolStar:YH,symbolTriangle:QH,symbolWye:ZH},Sq=Math.PI/180,Eq=function(e){var n="symbol".concat(Cm(e));return WR[n]||Uw},Tq=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Sq;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Aq=function(e,n){WR["symbol".concat(Cm(e))]=n},Bw=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=wq(e,yq),u=TT(TT({},l),{},{type:r,size:o,sizeType:s}),c=function(){var v=Eq(r),y=eq().type(v).size(Tq(o,s,r));return y()},h=u.className,d=u.cx,p=u.cy,g=ue(u,!0);return d===+d&&p===+p&&o===+o?D.createElement("path",b0({},g,{className:ye("recharts-symbols",h),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};Bw.registerSymbol=Aq;function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function w0(){return w0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w0.apply(this,arguments)}function AT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AT(Object(n),!0).forEach(function(r){dc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qR(r.key),r)}}function Oq(t,e,n){return e&&PT(t.prototype,e),n&&PT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cq(t,e,n){return e=Vd(e),kq(t,HR()?Reflect.construct(e,n||[],Vd(t).constructor):e.apply(t,n))}function kq(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nq(t)}function Nq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HR=function(){return!!t})()}function Vd(t){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vd(t)}function Rq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x0(t,e)}function x0(t,e){return x0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x0(t,e)}function dc(t,e,n){return e=qR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qR(t){var e=jq(t,"string");return Us(e)=="symbol"?e:e+""}function jq(t,e){if(Us(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wn=32,zw=function(t){function e(){return Iq(this,e),Cq(this,e,arguments)}return Rq(e,t),Oq(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Wn/2,a=Wn/6,s=Wn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Wn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Wn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Wn/8,"h").concat(Wn,"v").concat(Wn*3/4,"h").concat(-Wn,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=Pq({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(Bw,{fill:l,cx:o,cy:o,size:Wn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Wn,height:Wn},h={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,g){var m=p.formatter||l,v=ye(dc(dc({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=fe(p.value)?null:p.value;gr(!fe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return D.createElement("li",w0({className:v,style:h,key:"legend-item-".concat(g)},_a(r.props,p,g)),D.createElement(h0,{width:a,height:a,viewBox:c,style:d},r.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(y,p,g):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(M.PureComponent);dc(zw,"displayName","Legend");dc(zw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Dq=ym;function Mq(){this.__data__=new Dq,this.size=0}var $q=Mq;function Lq(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Vq=Lq;function Fq(t){return this.__data__.get(t)}var Uq=Fq;function Bq(t){return this.__data__.has(t)}var zq=Bq,Wq=ym,Hq=Cw,qq=kw,Gq=200;function Kq(t,e){var n=this.__data__;if(n instanceof Wq){var r=n.__data__;if(!Hq||r.length<Gq-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new qq(r)}return n.set(t,e),this.size=n.size,this}var Xq=Kq,Yq=ym,Qq=$q,Jq=Vq,Zq=Uq,eG=zq,tG=Xq;function El(t){var e=this.__data__=new Yq(t);this.size=e.size}El.prototype.clear=Qq;El.prototype.delete=Jq;El.prototype.get=Zq;El.prototype.has=eG;El.prototype.set=tG;var GR=El,nG="__lodash_hash_undefined__";function rG(t){return this.__data__.set(t,nG),this}var iG=rG;function oG(t){return this.__data__.has(t)}var aG=oG,sG=kw,lG=iG,uG=aG;function Fd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new sG;++e<n;)this.add(t[e])}Fd.prototype.add=Fd.prototype.push=lG;Fd.prototype.has=uG;var KR=Fd;function cG(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var XR=cG;function fG(t,e){return t.has(e)}var YR=fG,hG=KR,dG=XR,pG=YR,mG=1,gG=2;function yG(t,e,n,r,i,o){var a=n&mG,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,p=n&gG?new hG:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var g=t[h],m=e[h];if(r)var v=a?r(m,g,h,e,t,o):r(g,m,h,t,e,o);if(v!==void 0){if(v)continue;d=!1;break}if(p){if(!dG(e,function(y,w){if(!pG(p,w)&&(g===y||i(g,y,n,r,o)))return p.push(w)})){d=!1;break}}else if(!(g===m||i(g,m,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var QR=yG,vG=Br,_G=vG.Uint8Array,bG=_G;function wG(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var xG=wG;function SG(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Ww=SG,IT=df,OT=bG,EG=Ow,TG=QR,AG=xG,PG=Ww,IG=1,OG=2,CG="[object Boolean]",kG="[object Date]",NG="[object Error]",RG="[object Map]",jG="[object Number]",DG="[object RegExp]",MG="[object Set]",$G="[object String]",LG="[object Symbol]",VG="[object ArrayBuffer]",FG="[object DataView]",CT=IT?IT.prototype:void 0,vy=CT?CT.valueOf:void 0;function UG(t,e,n,r,i,o,a){switch(n){case FG:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case VG:return!(t.byteLength!=e.byteLength||!o(new OT(t),new OT(e)));case CG:case kG:case jG:return EG(+t,+e);case NG:return t.name==e.name&&t.message==e.message;case DG:case $G:return t==e+"";case RG:var s=AG;case MG:var l=r&IG;if(s||(s=PG),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=OG,a.set(t,e);var c=TG(s(t),s(e),r,i,o,a);return a.delete(t),c;case LG:if(vy)return vy.call(t)==vy.call(e)}return!1}var BG=UG;function zG(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var JR=zG,WG=JR,HG=Pn;function qG(t,e,n){var r=e(t);return HG(t)?r:WG(r,n(t))}var GG=qG;function KG(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var XG=KG;function YG(){return[]}var QG=YG,JG=XG,ZG=QG,eK=Object.prototype,tK=eK.propertyIsEnumerable,kT=Object.getOwnPropertySymbols,nK=kT?function(t){return t==null?[]:(t=Object(t),JG(kT(t),function(e){return tK.call(t,e)}))}:ZG,rK=nK;function iK(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var oK=iK,aK=Ei,sK=Ti,lK="[object Arguments]";function uK(t){return sK(t)&&aK(t)==lK}var cK=uK,NT=cK,fK=Ti,ZR=Object.prototype,hK=ZR.hasOwnProperty,dK=ZR.propertyIsEnumerable,pK=NT(function(){return arguments}())?NT:function(t){return fK(t)&&hK.call(t,"callee")&&!dK.call(t,"callee")},Hw=pK,Ud={exports:{}};function mK(){return!1}var gK=mK;Ud.exports;(function(t,e){var n=Br,r=gK,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Ud,Ud.exports);var ej=Ud.exports,yK=9007199254740991,vK=/^(?:0|[1-9]\d*)$/;function _K(t,e){var n=typeof t;return e=e??yK,!!e&&(n=="number"||n!="symbol"&&vK.test(t))&&t>-1&&t%1==0&&t<e}var qw=_K,bK=9007199254740991;function wK(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=bK}var Gw=wK,xK=Ei,SK=Gw,EK=Ti,TK="[object Arguments]",AK="[object Array]",PK="[object Boolean]",IK="[object Date]",OK="[object Error]",CK="[object Function]",kK="[object Map]",NK="[object Number]",RK="[object Object]",jK="[object RegExp]",DK="[object Set]",MK="[object String]",$K="[object WeakMap]",LK="[object ArrayBuffer]",VK="[object DataView]",FK="[object Float32Array]",UK="[object Float64Array]",BK="[object Int8Array]",zK="[object Int16Array]",WK="[object Int32Array]",HK="[object Uint8Array]",qK="[object Uint8ClampedArray]",GK="[object Uint16Array]",KK="[object Uint32Array]",Ke={};Ke[FK]=Ke[UK]=Ke[BK]=Ke[zK]=Ke[WK]=Ke[HK]=Ke[qK]=Ke[GK]=Ke[KK]=!0;Ke[TK]=Ke[AK]=Ke[LK]=Ke[PK]=Ke[VK]=Ke[IK]=Ke[OK]=Ke[CK]=Ke[kK]=Ke[NK]=Ke[RK]=Ke[jK]=Ke[DK]=Ke[MK]=Ke[$K]=!1;function XK(t){return EK(t)&&SK(t.length)&&!!Ke[xK(t)]}var YK=XK;function QK(t){return function(e){return t(e)}}var tj=QK,Bd={exports:{}};Bd.exports;(function(t,e){var n=uR,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Bd,Bd.exports);var JK=Bd.exports,ZK=YK,eX=tj,RT=JK,jT=RT&&RT.isTypedArray,tX=jT?eX(jT):ZK,nj=tX,nX=oK,rX=Hw,iX=Pn,oX=ej,aX=qw,sX=nj,lX=Object.prototype,uX=lX.hasOwnProperty;function cX(t,e){var n=iX(t),r=!n&&rX(t),i=!n&&!r&&oX(t),o=!n&&!r&&!i&&sX(t),a=n||r||i||o,s=a?nX(t.length,String):[],l=s.length;for(var u in t)(e||uX.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||aX(u,l)))&&s.push(u);return s}var fX=cX,hX=Object.prototype;function dX(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||hX;return t===n}var pX=dX;function mX(t,e){return function(n){return t(e(n))}}var rj=mX,gX=rj,yX=gX(Object.keys,Object),vX=yX,_X=pX,bX=vX,wX=Object.prototype,xX=wX.hasOwnProperty;function SX(t){if(!_X(t))return bX(t);var e=[];for(var n in Object(t))xX.call(t,n)&&n!="constructor"&&e.push(n);return e}var EX=SX,TX=Iw,AX=Gw;function PX(t){return t!=null&&AX(t.length)&&!TX(t)}var gf=PX,IX=fX,OX=EX,CX=gf;function kX(t){return CX(t)?IX(t):OX(t)}var jm=kX,NX=GG,RX=rK,jX=jm;function DX(t){return NX(t,jX,RX)}var MX=DX,DT=MX,$X=1,LX=Object.prototype,VX=LX.hasOwnProperty;function FX(t,e,n,r,i,o){var a=n&$X,s=DT(t),l=s.length,u=DT(e),c=u.length;if(l!=c&&!a)return!1;for(var h=l;h--;){var d=s[h];if(!(a?d in e:VX.call(e,d)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var m=!0;o.set(t,e),o.set(e,t);for(var v=a;++h<l;){d=s[h];var y=t[d],w=e[d];if(r)var b=a?r(w,y,d,e,t,o):r(y,w,d,t,e,o);if(!(b===void 0?y===w||i(y,w,n,r,o):b)){m=!1;break}v||(v=d=="constructor")}if(m&&!v){var I=t.constructor,T=e.constructor;I!=T&&"constructor"in t&&"constructor"in e&&!(typeof I=="function"&&I instanceof I&&typeof T=="function"&&T instanceof T)&&(m=!1)}return o.delete(t),o.delete(e),m}var UX=FX,BX=Oa,zX=Br,WX=BX(zX,"DataView"),HX=WX,qX=Oa,GX=Br,KX=qX(GX,"Promise"),XX=KX,YX=Oa,QX=Br,JX=YX(QX,"Set"),ij=JX,ZX=Oa,eY=Br,tY=ZX(eY,"WeakMap"),nY=tY,S0=HX,E0=Cw,T0=XX,A0=ij,P0=nY,oj=Ei,Tl=fR,MT="[object Map]",rY="[object Object]",$T="[object Promise]",LT="[object Set]",VT="[object WeakMap]",FT="[object DataView]",iY=Tl(S0),oY=Tl(E0),aY=Tl(T0),sY=Tl(A0),lY=Tl(P0),Vo=oj;(S0&&Vo(new S0(new ArrayBuffer(1)))!=FT||E0&&Vo(new E0)!=MT||T0&&Vo(T0.resolve())!=$T||A0&&Vo(new A0)!=LT||P0&&Vo(new P0)!=VT)&&(Vo=function(t){var e=oj(t),n=e==rY?t.constructor:void 0,r=n?Tl(n):"";if(r)switch(r){case iY:return FT;case oY:return MT;case aY:return $T;case sY:return LT;case lY:return VT}return e});var uY=Vo,_y=GR,cY=QR,fY=BG,hY=UX,UT=uY,BT=Pn,zT=ej,dY=nj,pY=1,WT="[object Arguments]",HT="[object Array]",ch="[object Object]",mY=Object.prototype,qT=mY.hasOwnProperty;function gY(t,e,n,r,i,o){var a=BT(t),s=BT(e),l=a?HT:UT(t),u=s?HT:UT(e);l=l==WT?ch:l,u=u==WT?ch:u;var c=l==ch,h=u==ch,d=l==u;if(d&&zT(t)){if(!zT(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new _y),a||dY(t)?cY(t,e,n,r,i,o):fY(t,e,l,n,r,i,o);if(!(n&pY)){var p=c&&qT.call(t,"__wrapped__"),g=h&&qT.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,v=g?e.value():e;return o||(o=new _y),i(m,v,n,r,o)}}return d?(o||(o=new _y),hY(t,e,n,r,i,o)):!1}var yY=gY,vY=yY,GT=Ti;function aj(t,e,n,r,i){return t===e?!0:t==null||e==null||!GT(t)&&!GT(e)?t!==t&&e!==e:vY(t,e,n,r,aj,i)}var Kw=aj,_Y=GR,bY=Kw,wY=1,xY=2;function SY(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var h=new _Y;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?bY(c,u,wY|xY,r,h):d))return!1}}return!0}var EY=SY,TY=So;function AY(t){return t===t&&!TY(t)}var sj=AY,PY=sj,IY=jm;function OY(t){for(var e=IY(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,PY(i)]}return e}var CY=OY;function kY(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var lj=kY,NY=EY,RY=CY,jY=lj;function DY(t){var e=RY(t);return e.length==1&&e[0][2]?jY(e[0][0],e[0][1]):function(n){return n===t||NY(n,t,e)}}var MY=DY;function $Y(t,e){return t!=null&&e in Object(t)}var LY=$Y,VY=gR,FY=Hw,UY=Pn,BY=qw,zY=Gw,WY=_m;function HY(t,e,n){e=VY(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=WY(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&zY(i)&&BY(a,i)&&(UY(t)||FY(t)))}var qY=HY,GY=LY,KY=qY;function XY(t,e){return t!=null&&KY(t,e,GY)}var YY=XY,QY=Kw,JY=yR,ZY=YY,eQ=Pw,tQ=sj,nQ=lj,rQ=_m,iQ=1,oQ=2;function aQ(t,e){return eQ(t)&&tQ(e)?nQ(rQ(t),e):function(n){var r=JY(n,t);return r===void 0&&r===e?ZY(n,t):QY(e,r,iQ|oQ)}}var sQ=aQ;function lQ(t){return t}var Al=lQ;function uQ(t){return function(e){return e==null?void 0:e[t]}}var cQ=uQ,fQ=jw;function hQ(t){return function(e){return fQ(e,t)}}var dQ=hQ,pQ=cQ,mQ=dQ,gQ=Pw,yQ=_m;function vQ(t){return gQ(t)?pQ(yQ(t)):mQ(t)}var _Q=vQ,bQ=MY,wQ=sQ,xQ=Al,SQ=Pn,EQ=_Q;function TQ(t){return typeof t=="function"?t:t==null?xQ:typeof t=="object"?SQ(t)?wQ(t[0],t[1]):bQ(t):EQ(t)}var zr=TQ;function AQ(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var uj=AQ;function PQ(t){return t!==t}var IQ=PQ;function OQ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var CQ=OQ,kQ=uj,NQ=IQ,RQ=CQ;function jQ(t,e,n){return e===e?RQ(t,e,n):kQ(t,NQ,n)}var DQ=jQ,MQ=DQ;function $Q(t,e){var n=t==null?0:t.length;return!!n&&MQ(t,e,0)>-1}var LQ=$Q;function VQ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var FQ=VQ;function UQ(){}var BQ=UQ,by=ij,zQ=BQ,WQ=Ww,HQ=1/0,qQ=by&&1/WQ(new by([,-0]))[1]==HQ?function(t){return new by(t)}:zQ,GQ=qQ,KQ=KR,XQ=LQ,YQ=FQ,QQ=YR,JQ=GQ,ZQ=Ww,eJ=200;function tJ(t,e,n){var r=-1,i=XQ,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=YQ;else if(o>=eJ){var u=e?null:JQ(t);if(u)return ZQ(u);a=!1,i=QQ,l=new KQ}else l=e?[]:s;e:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||c!==0?c:0,a&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;e&&l.push(h),s.push(c)}else i(l,h,n)||(l!==s&&l.push(h),s.push(c))}return s}var nJ=tJ,rJ=zr,iJ=nJ;function oJ(t,e){return t&&t.length?iJ(t,rJ(e)):[]}var aJ=oJ;const KT=De(aJ);function cj(t,e,n){return e===!0?KT(t,n):fe(e)?KT(t,e):t}function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}var sJ=["ref"];function XT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(n),!0).forEach(function(r){Dm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hj(r.key),r)}}function uJ(t,e,n){return e&&YT(t.prototype,e),n&&YT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cJ(t,e,n){return e=zd(e),fJ(t,fj()?Reflect.construct(e,n||[],zd(t).constructor):e.apply(t,n))}function fJ(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hJ(t)}function hJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fj=function(){return!!t})()}function zd(t){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zd(t)}function dJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I0(t,e)}function I0(t,e){return I0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I0(t,e)}function Dm(t,e,n){return e=hj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hj(t){var e=pJ(t,"string");return Bs(e)=="symbol"?e:e+""}function pJ(t,e){if(Bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mJ(t,e){if(t==null)return{};var n=gJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yJ(t){return t.value}function vJ(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var n=mJ(e,sJ);return D.createElement(zw,n)}var QT=1,ra=function(t){function e(){var n;lJ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=cJ(this,e,[].concat(i)),Dm(n,"lastBoundingBox",{width:-1,height:-1}),n}return dJ(e,t),uJ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>QT||Math.abs(i.height-this.lastBoundingBox.height)>QT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Gr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,h,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();d={top:((c||0)-g.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Gr(Gr({},h),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,h=Gr(Gr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){r.wrapperNode=p}},vJ(o,Gr(Gr({},this.props),{},{payload:cj(c,u,yJ)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Gr(Gr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&J(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(M.PureComponent);Dm(ra,"displayName","Legend");Dm(ra,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var JT=df,_J=Hw,bJ=Pn,ZT=JT?JT.isConcatSpreadable:void 0;function wJ(t){return bJ(t)||_J(t)||!!(ZT&&t&&t[ZT])}var xJ=wJ,SJ=JR,EJ=xJ;function dj(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=EJ),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?dj(s,e-1,n,r,i):SJ(i,s):r||(i[i.length]=s)}return i}var pj=dj;function TJ(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var AJ=TJ,PJ=AJ,IJ=PJ(),OJ=IJ,CJ=OJ,kJ=jm;function NJ(t,e){return t&&CJ(t,e,kJ)}var mj=NJ,RJ=gf;function jJ(t,e){return function(n,r){if(n==null)return n;if(!RJ(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var DJ=jJ,MJ=mj,$J=DJ,LJ=$J(MJ),Xw=LJ,VJ=Xw,FJ=gf;function UJ(t,e){var n=-1,r=FJ(t)?Array(t.length):[];return VJ(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var gj=UJ;function BJ(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var zJ=BJ,eA=_l;function WJ(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=eA(t),a=e!==void 0,s=e===null,l=e===e,u=eA(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var HJ=WJ,qJ=HJ;function GJ(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=qJ(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var KJ=GJ,wy=Rw,XJ=jw,YJ=zr,QJ=gj,JJ=zJ,ZJ=tj,eZ=KJ,tZ=Al,nZ=Pn;function rZ(t,e,n){e.length?e=wy(e,function(o){return nZ(o)?function(a){return XJ(a,o.length===1?o[0]:o)}:o}):e=[tZ];var r=-1;e=wy(e,ZJ(YJ));var i=QJ(t,function(o,a,s){var l=wy(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return JJ(i,function(o,a){return eZ(o,a,n)})}var iZ=rZ;function oZ(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var aZ=oZ,sZ=aZ,tA=Math.max;function lZ(t,e,n){return e=tA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=tA(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),sZ(t,this,s)}}var uZ=lZ;function cZ(t){return function(){return t}}var fZ=cZ,hZ=Oa,dZ=function(){try{var t=hZ(Object,"defineProperty");return t({},"",{}),t}catch{}}(),yj=dZ,pZ=fZ,nA=yj,mZ=Al,gZ=nA?function(t,e){return nA(t,"toString",{configurable:!0,enumerable:!1,value:pZ(e),writable:!0})}:mZ,yZ=gZ,vZ=800,_Z=16,bZ=Date.now;function wZ(t){var e=0,n=0;return function(){var r=bZ(),i=_Z-(r-n);if(n=r,i>0){if(++e>=vZ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var xZ=wZ,SZ=yZ,EZ=xZ,TZ=EZ(SZ),AZ=TZ,PZ=Al,IZ=uZ,OZ=AZ;function CZ(t,e){return OZ(IZ(t,e,PZ),t+"")}var kZ=CZ,NZ=Ow,RZ=gf,jZ=qw,DZ=So;function MZ(t,e,n){if(!DZ(n))return!1;var r=typeof e;return(r=="number"?RZ(n)&&jZ(e,n.length):r=="string"&&e in n)?NZ(n[e],t):!1}var Mm=MZ,$Z=pj,LZ=iZ,VZ=kZ,rA=Mm,FZ=VZ(function(t,e){if(t==null)return[];var n=e.length;return n>1&&rA(t,e[0],e[1])?e=[]:n>2&&rA(e[0],e[1],e[2])&&(e=[e[0]]),LZ(t,$Z(e,1),[])}),UZ=FZ;const Yw=De(UZ);function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(this,arguments)}function BZ(t,e){return qZ(t)||HZ(t,e)||WZ(t,e)||zZ()}function zZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WZ(t,e){if(t){if(typeof t=="string")return iA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iA(t,e)}}function iA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function qZ(t){if(Array.isArray(t))return t}function oA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(n),!0).forEach(function(r){GZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GZ(t,e,n){return e=KZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KZ(t){var e=XZ(t,"string");return pc(e)=="symbol"?e:e+""}function XZ(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YZ(t){return Array.isArray(t)&&Tt(t[0])&&Tt(t[1])?t.join(" ~ "):t}var QZ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,h=e.formatter,d=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,m=e.label,v=e.labelFormatter,y=e.accessibilityLayer,w=y===void 0?!1:y,b=function(){if(c&&c.length){var R={padding:0,margin:0},N=(d?Yw(c,d):c).map(function(V,F){if(V.type==="none")return null;var W=xy({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},s),H=V.formatter||h||YZ,L=V.value,z=V.name,X=L,ee=z;if(H&&X!=null&&ee!=null){var Y=H(L,z,V,F,c);if(Array.isArray(Y)){var ne=BZ(Y,2);X=ne[0],ee=ne[1]}else X=Y}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:W},Tt(ee)?D.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Tt(ee)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},X),D.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:R},N)}return null},I=xy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=xy({margin:0},u),P=!ve(m),S=P?m:"",E=ye("recharts-default-tooltip",p),O=ye("recharts-tooltip-label",g);P&&v&&c!==void 0&&c!==null&&(S=v(m,c));var k=w?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",O0({className:E,style:I},k),D.createElement("p",{className:O,style:T},D.isValidElement(S)?S:"".concat(S)),b())};function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function fh(t,e,n){return e=JZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JZ(t){var e=ZZ(t,"string");return mc(e)=="symbol"?e:e+""}function ZZ(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nu="recharts-tooltip-wrapper",eee={visibility:"hidden"};function tee(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ye(nu,fh(fh(fh(fh({},"".concat(nu,"-right"),J(n)&&e&&J(e.x)&&n>=e.x),"".concat(nu,"-left"),J(n)&&e&&J(e.x)&&n<e.x),"".concat(nu,"-bottom"),J(r)&&e&&J(e.y)&&r>=e.y),"".concat(nu,"-top"),J(r)&&e&&J(e.y)&&r<e.y))}function aA(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&J(o[r]))return o[r];var c=n[r]-s-i,h=n[r]+i;if(e[r])return a[r]?c:h;if(a[r]){var d=c,p=l[r];return d<p?Math.max(h,l[r]):Math.max(c,l[r])}var g=h+s,m=l[r]+u;return g>m?Math.max(c,l[r]):Math.max(h,l[r])}function nee(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function ree(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,h;return a.height>0&&a.width>0&&n?(c=aA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=aA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=nee({translateX:c,translateY:h,useTranslate3d:s})):u=eee,{cssProperties:u,cssClasses:tee({translateX:c,translateY:h,coordinate:n})}}function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function sA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(n),!0).forEach(function(r){k0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_j(r.key),r)}}function oee(t,e,n){return e&&uA(t.prototype,e),n&&uA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aee(t,e,n){return e=Wd(e),see(t,vj()?Reflect.construct(e,n||[],Wd(t).constructor):e.apply(t,n))}function see(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lee(t)}function lee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vj=function(){return!!t})()}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wd(t)}function uee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C0(t,e)}function C0(t,e){return C0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C0(t,e)}function k0(t,e,n){return e=_j(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _j(t){var e=cee(t,"string");return zs(e)=="symbol"?e:e+""}function cee(t,e){if(zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cA=1,fee=function(t){function e(){var n;iee(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=aee(this,e,[].concat(i)),k0(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),k0(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return uee(e,t),oee(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>cA||Math.abs(r.height-this.state.lastBoundingBox.height)>cA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,h=i.hasPayload,d=i.isAnimationActive,p=i.offset,g=i.position,m=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,w=i.wrapperStyle,b=ree({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),I=b.cssClasses,T=b.cssProperties,P=lA(lA({transition:d&&o?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},w);return D.createElement("div",{tabIndex:-1,className:I,style:P,ref:function(E){r.wrapperNode=E}},u)}}])}(M.PureComponent),hee=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ui={isSsr:hee(),get:function(e){return ui[e]},set:function(e,n){if(typeof e=="string")ui[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){ui[i]=e[i]})}}};function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function fA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(n),!0).forEach(function(r){Qw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wj(r.key),r)}}function pee(t,e,n){return e&&dA(t.prototype,e),n&&dA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mee(t,e,n){return e=Hd(e),gee(t,bj()?Reflect.construct(e,n||[],Hd(t).constructor):e.apply(t,n))}function gee(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yee(t)}function yee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bj=function(){return!!t})()}function Hd(t){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hd(t)}function vee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N0(t,e)}function N0(t,e){return N0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N0(t,e)}function Qw(t,e,n){return e=wj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wj(t){var e=_ee(t,"string");return Ws(e)=="symbol"?e:e+""}function _ee(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bee(t){return t.dataKey}function wee(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(QZ,e)}var Hn=function(t){function e(){return dee(this,e),mee(this,e,arguments)}return vee(e,t),pee(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,h=i.filterNull,d=i.isAnimationActive,p=i.offset,g=i.payload,m=i.payloadUniqBy,v=i.position,y=i.reverseDirection,w=i.useTranslate3d,b=i.viewBox,I=i.wrapperStyle,T=g??[];h&&T.length&&(T=cj(g.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),m,bee));var P=T.length>0;return D.createElement(fee,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:o,coordinate:c,hasPayload:P,offset:p,position:v,reverseDirection:y,useTranslate3d:w,viewBox:b,wrapperStyle:I},wee(u,hA(hA({},this.props),{},{payload:T})))}}])}(M.PureComponent);Qw(Hn,"displayName","Tooltip");Qw(Hn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ui.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var xee=Br,See=function(){return xee.Date.now()},Eee=See,Tee=/\s/;function Aee(t){for(var e=t.length;e--&&Tee.test(t.charAt(e)););return e}var Pee=Aee,Iee=Pee,Oee=/^\s+/;function Cee(t){return t&&t.slice(0,Iee(t)+1).replace(Oee,"")}var kee=Cee,Nee=kee,pA=So,Ree=_l,mA=0/0,jee=/^[-+]0x[0-9a-f]+$/i,Dee=/^0b[01]+$/i,Mee=/^0o[0-7]+$/i,$ee=parseInt;function Lee(t){if(typeof t=="number")return t;if(Ree(t))return mA;if(pA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=pA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Nee(t);var n=Dee.test(t);return n||Mee.test(t)?$ee(t.slice(2),n?2:8):jee.test(t)?mA:+t}var xj=Lee,Vee=So,Sy=Eee,gA=xj,Fee="Expected a function",Uee=Math.max,Bee=Math.min;function zee(t,e,n){var r,i,o,a,s,l,u=0,c=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(Fee);e=gA(e)||0,Vee(n)&&(c=!!n.leading,h="maxWait"in n,o=h?Uee(gA(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(P){var S=r,E=i;return r=i=void 0,u=P,a=t.apply(E,S),a}function g(P){return u=P,s=setTimeout(y,e),c?p(P):a}function m(P){var S=P-l,E=P-u,O=e-S;return h?Bee(O,o-E):O}function v(P){var S=P-l,E=P-u;return l===void 0||S>=e||S<0||h&&E>=o}function y(){var P=Sy();if(v(P))return w(P);s=setTimeout(y,m(P))}function w(P){return s=void 0,d&&r?p(P):(r=i=void 0,a)}function b(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function I(){return s===void 0?a:w(Sy())}function T(){var P=Sy(),S=v(P);if(r=arguments,i=this,l=P,S){if(s===void 0)return g(l);if(h)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),a}return T.cancel=b,T.flush=I,T}var Wee=zee,Hee=Wee,qee=So,Gee="Expected a function";function Kee(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Gee);return qee(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Hee(t,e,{leading:r,maxWait:e,trailing:i})}var Xee=Kee;const Sj=De(Xee);function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function yA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(n),!0).forEach(function(r){Yee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yee(t,e,n){return e=Qee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qee(t){var e=Jee(t,"string");return gc(e)=="symbol"?e:e+""}function Jee(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zee(t,e){return rte(t)||nte(t,e)||tte(t,e)||ete()}function ete(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tte(t,e){if(t){if(typeof t=="string")return vA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vA(t,e)}}function vA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function rte(t){if(Array.isArray(t))return t}var Ey=M.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,h=t.minHeight,d=t.maxHeight,p=t.children,g=t.debounce,m=g===void 0?0:g,v=t.id,y=t.className,w=t.onResize,b=t.style,I=b===void 0?{}:b,T=M.useRef(null),P=M.useRef();P.current=w,M.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var S=M.useState({containerWidth:i.width,containerHeight:i.height}),E=Zee(S,2),O=E[0],k=E[1],C=M.useCallback(function(N,V){k(function(F){var W=Math.round(N),H=Math.round(V);return F.containerWidth===W&&F.containerHeight===H?F:{containerWidth:W,containerHeight:H}})},[]);M.useEffect(function(){var N=function(z){var X,ee=z[0].contentRect,Y=ee.width,ne=ee.height;C(Y,ne),(X=P.current)===null||X===void 0||X.call(P,Y,ne)};m>0&&(N=Sj(N,m,{trailing:!0,leading:!1}));var V=new ResizeObserver(N),F=T.current.getBoundingClientRect(),W=F.width,H=F.height;return C(W,H),V.observe(T.current),function(){V.disconnect()}},[C,m]);var R=M.useMemo(function(){var N=O.containerWidth,V=O.containerHeight;if(N<0||V<0)return null;gr(Go(a)||Go(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),gr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Go(a)?N:a,W=Go(l)?V:l;n&&n>0&&(F?W=F/n:W&&(F=W*n),d&&W>d&&(W=d)),gr(F>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,W,a,l,c,h,n);var H=!Array.isArray(p)&&li(p.type).endsWith("Chart");return D.Children.map(p,function(L){return D.isValidElement(L)?M.cloneElement(L,hh({width:F,height:W},H?{style:hh({height:"100%",width:"100%",maxHeight:W,maxWidth:F},L.props.style)}:{})):L})},[n,p,l,d,h,c,O,a]);return D.createElement("div",{id:v?"".concat(v):void 0,className:ye("recharts-responsive-container",y),style:hh(hh({},I),{},{width:a,height:l,minWidth:c,minHeight:h,maxHeight:d}),ref:T},R)}),yc=function(e){return null};yc.displayName="Cell";function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function _A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_A(Object(n),!0).forEach(function(r){ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ite(t,e,n){return e=ote(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ote(t){var e=ate(t,"string");return vc(e)=="symbol"?e:e+""}function ate(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fa={widthCache:{},cacheCount:0},ste=2e3,lte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bA="recharts_measurement_span";function ute(t){var e=R0({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Du=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ui.isSsr)return{width:0,height:0};var r=ute(n),i=JSON.stringify({text:e,copyStyle:r});if(Fa.widthCache[i])return Fa.widthCache[i];try{var o=document.getElementById(bA);o||(o=document.createElement("span"),o.setAttribute("id",bA),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=R0(R0({},lte),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Fa.widthCache[i]=l,++Fa.cacheCount>ste&&(Fa.cacheCount=0,Fa.widthCache={}),l}catch{return{width:0,height:0}}},cte=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function qd(t,e){return pte(t)||dte(t,e)||hte(t,e)||fte()}function fte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hte(t,e){if(t){if(typeof t=="string")return wA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wA(t,e)}}function wA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function pte(t){if(Array.isArray(t))return t}function mte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yte(r.key),r)}}function gte(t,e,n){return e&&xA(t.prototype,e),n&&xA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yte(t){var e=vte(t,"string");return _c(e)=="symbol"?e:e+""}function vte(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_te=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Ej={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wte=Object.keys(Ej),os="NaN";function xte(t,e){return t*Ej[e]}var dh=function(){function t(e,n){mte(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!_te.test(n)&&(this.num=NaN,this.unit=""),wte.includes(n)&&(this.num=xte(e,n),this.unit="px")}return gte(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=bte.exec(n))!==null&&r!==void 0?r:[],o=qd(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function Tj(t){if(t.includes(os))return os;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=SA.exec(e))!==null&&n!==void 0?n:[],i=qd(r,4),o=i[1],a=i[2],s=i[3],l=dh.parse(o??""),u=dh.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return os;e=e.replace(SA,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,d=(h=EA.exec(e))!==null&&h!==void 0?h:[],p=qd(d,4),g=p[1],m=p[2],v=p[3],y=dh.parse(g??""),w=dh.parse(v??""),b=m==="+"?y.add(w):y.subtract(w);if(b.isNaN())return os;e=e.replace(EA,b.toString())}return e}var TA=/\(([^()]*)\)/;function Ste(t){for(var e=t;e.includes("(");){var n=TA.exec(e),r=qd(n,2),i=r[1];e=e.replace(TA,Tj(i))}return e}function Ete(t){var e=t.replace(/\s+/g,"");return e=Ste(e),e=Tj(e),e}function Tte(t){try{return Ete(t)}catch{return os}}function Ty(t){var e=Tte(t.slice(5,-1));return e===os?"":e}var Ate=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Pte=["dx","dy","angle","className","breakAll"];function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j0.apply(this,arguments)}function AA(t,e){if(t==null)return{};var n=Ite(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ite(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PA(t,e){return Nte(t)||kte(t,e)||Cte(t,e)||Ote()}function Ote(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cte(t,e){if(t){if(typeof t=="string")return IA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IA(t,e)}}function IA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Nte(t){if(Array.isArray(t))return t}var Aj=/[ \f\n\r\t\v\u2028\u2029]+/,Pj=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ve(n)||(r?o=n.toString().split(""):o=n.toString().split(Aj));var a=o.map(function(l){return{word:l,width:Du(l,i).width}}),s=r?0:Du("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Rte=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=J(a),h=s,d=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(W,H){var L=H.word,z=H.width,X=W[W.length-1];if(X&&(i==null||o||X.width+z+r<Number(i)))X.words.push(L),X.width+=z+r;else{var ee={words:[L],width:z};W.push(ee)}return W},[])},p=d(n),g=function(F){return F.reduce(function(W,H){return W.width>H.width?W:H})};if(!c)return p;for(var m="",v=function(F){var W=h.slice(0,F),H=Pj({breakAll:u,style:l,children:W+m}).wordsWithComputedWidth,L=d(H),z=L.length>a||g(L).width>Number(i);return[z,L]},y=0,w=h.length-1,b=0,I;y<=w&&b<=h.length-1;){var T=Math.floor((y+w)/2),P=T-1,S=v(P),E=PA(S,2),O=E[0],k=E[1],C=v(T),R=PA(C,1),N=R[0];if(!O&&!N&&(y=T+1),O&&N&&(w=T-1),!O&&N){I=k;break}b++}return I||p},OA=function(e){var n=ve(e)?[]:e.toString().split(Aj);return[{words:n}]},jte=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!ui.isSsr){var l,u,c=Pj({breakAll:a,children:i,style:o});if(c){var h=c.wordsWithComputedWidth,d=c.spaceWidth;l=h,u=d}else return OA(i);return Rte({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return OA(i)},CA="#808080",ba=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,h=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,g=e.verticalAnchor,m=g===void 0?"end":g,v=e.fill,y=v===void 0?CA:v,w=AA(e,Ate),b=M.useMemo(function(){return jte({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),I=w.dx,T=w.dy,P=w.angle,S=w.className,E=w.breakAll,O=AA(w,Pte);if(!Tt(r)||!Tt(o))return null;var k=r+(J(I)?I:0),C=o+(J(T)?T:0),R;switch(m){case"start":R=Ty("calc(".concat(u,")"));break;case"middle":R=Ty("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=Ty("calc(".concat(b.length-1," * -").concat(s,")"));break}var N=[];if(h){var V=b[0].width,F=w.width;N.push("scale(".concat((J(F)?F/V:1)/V,")"))}return P&&N.push("rotate(".concat(P,", ").concat(k,", ").concat(C,")")),N.length&&(O.transform=N.join(" ")),D.createElement("text",j0({},ue(O,!0),{x:k,y:C,className:ye("recharts-text",S),textAnchor:p,fill:y.includes("url")?CA:y}),b.map(function(W,H){var L=W.words.join(E?"":" ");return D.createElement("tspan",{x:k,dy:H===0?R:s,key:"".concat(L,"-").concat(H)},L)}))};function ao(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Dte(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Jw(t){let e,n,r;t.length!==2?(e=ao,n=(s,l)=>ao(t(s),l),r=(s,l)=>t(s)-l):(e=t===ao||t===Dte?t:Mte,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<0?u=h+1:c=h}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function a(s,l,u=0,c=s.length){const h=i(s,l,u,c-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:a,right:o}}function Mte(){return 0}function Ij(t){return t===null?NaN:+t}function*$te(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const Lte=Jw(ao),Vte=Lte.right;Jw(Ij).center;const yf=Vte;class kA extends Map{constructor(e,n=Bte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(NA(this,e))}has(e){return super.has(NA(this,e))}set(e,n){return super.set(Fte(this,e),n)}delete(e){return super.delete(Ute(this,e))}}function NA({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Fte({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Ute({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Bte(t){return t!==null&&typeof t=="object"?t.valueOf():t}function zte(t=ao){if(t===ao)return Oj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Oj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Wte=Math.sqrt(50),Hte=Math.sqrt(10),qte=Math.sqrt(2);function Gd(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Wte?10:o>=Hte?5:o>=qte?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Gd(t,e,n*2):[s,l,u]}function D0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Gd(e,t,n):Gd(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function M0(t,e,n){return e=+e,t=+t,n=+n,Gd(t,e,n)[2]}function $0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?M0(e,t,n):M0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function RA(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function jA(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Cj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Oj:zte(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*h/l+d)),g=Math.min(r,Math.floor(e+(l-u)*h/l+d));Cj(t,e,p,g,i)}const o=t[e];let a=n,s=r;for(ru(t,n,e),i(t[r],o)>0&&ru(t,n,r);a<s;){for(ru(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?ru(t,n,s):(++s,ru(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function ru(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Gte(t,e,n){if(t=Float64Array.from($te(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return jA(t);if(e>=1)return RA(t);var r,i=(r-1)*e,o=Math.floor(i),a=RA(Cj(t,o).subarray(0,o+1)),s=jA(t.subarray(o+1));return a+(s-a)*(i-o)}}function Kte(t,e,n=Ij){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Xte(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ir(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ai(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const L0=Symbol("implicit");function Zw(){var t=new kA,e=[],n=[],r=L0;function i(o){let a=t.get(o);if(a===void 0){if(r!==L0)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new kA;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Zw(e,n).unknown(r)},ir.apply(i,arguments),i}function bc(){var t=Zw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var d=e().length,p=i<r,g=p?i:r,m=p?r:i;o=(m-g)/Math.max(1,d-l+u*2),s&&(o=Math.floor(o)),g+=(m-g-o*(d-l))*c,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var v=Xte(d).map(function(y){return g+o*y});return n(p?v.reverse():v)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,h()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),h()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),h()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,h()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),h()):c},t.copy=function(){return bc(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},ir.apply(h(),arguments)}function kj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return kj(e())},t}function Mu(){return kj(bc.apply(null,arguments).paddingInner(1))}function e1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Nj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function vf(){}var wc=.7,Kd=1/wc,ws="\\s*([+-]?\\d+)\\s*",xc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yte=/^#([0-9a-f]{3,8})$/,Qte=new RegExp(`^rgb\\(${ws},${ws},${ws}\\)$`),Jte=new RegExp(`^rgb\\(${Mr},${Mr},${Mr}\\)$`),Zte=new RegExp(`^rgba\\(${ws},${ws},${ws},${xc}\\)$`),ene=new RegExp(`^rgba\\(${Mr},${Mr},${Mr},${xc}\\)$`),tne=new RegExp(`^hsl\\(${xc},${Mr},${Mr}\\)$`),nne=new RegExp(`^hsla\\(${xc},${Mr},${Mr},${xc}\\)$`),DA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e1(vf,Sc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:MA,formatHex:MA,formatHex8:rne,formatHsl:ine,formatRgb:$A,toString:$A});function MA(){return this.rgb().formatHex()}function rne(){return this.rgb().formatHex8()}function ine(){return Rj(this).formatHsl()}function $A(){return this.rgb().formatRgb()}function Sc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Yte.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?LA(e):n===3?new Sn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ph(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ph(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Qte.exec(t))?new Sn(e[1],e[2],e[3],1):(e=Jte.exec(t))?new Sn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Zte.exec(t))?ph(e[1],e[2],e[3],e[4]):(e=ene.exec(t))?ph(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=tne.exec(t))?UA(e[1],e[2]/100,e[3]/100,1):(e=nne.exec(t))?UA(e[1],e[2]/100,e[3]/100,e[4]):DA.hasOwnProperty(t)?LA(DA[t]):t==="transparent"?new Sn(NaN,NaN,NaN,0):null}function LA(t){return new Sn(t>>16&255,t>>8&255,t&255,1)}function ph(t,e,n,r){return r<=0&&(t=e=n=NaN),new Sn(t,e,n,r)}function one(t){return t instanceof vf||(t=Sc(t)),t?(t=t.rgb(),new Sn(t.r,t.g,t.b,t.opacity)):new Sn}function V0(t,e,n,r){return arguments.length===1?one(t):new Sn(t,e,n,r??1)}function Sn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}e1(Sn,V0,Nj(vf,{brighter(t){return t=t==null?Kd:Math.pow(Kd,t),new Sn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wc:Math.pow(wc,t),new Sn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Sn(ia(this.r),ia(this.g),ia(this.b),Xd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VA,formatHex:VA,formatHex8:ane,formatRgb:FA,toString:FA}));function VA(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}`}function ane(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}${Ko((isNaN(this.opacity)?1:this.opacity)*255)}`}function FA(){const t=Xd(this.opacity);return`${t===1?"rgb(":"rgba("}${ia(this.r)}, ${ia(this.g)}, ${ia(this.b)}${t===1?")":`, ${t})`}`}function Xd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ia(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ko(t){return t=ia(t),(t<16?"0":"")+t.toString(16)}function UA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new dr(t,e,n,r)}function Rj(t){if(t instanceof dr)return new dr(t.h,t.s,t.l,t.opacity);if(t instanceof vf||(t=Sc(t)),!t)return new dr;if(t instanceof dr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new dr(a,s,l,t.opacity)}function sne(t,e,n,r){return arguments.length===1?Rj(t):new dr(t,e,n,r??1)}function dr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}e1(dr,sne,Nj(vf,{brighter(t){return t=t==null?Kd:Math.pow(Kd,t),new dr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wc:Math.pow(wc,t),new dr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Sn(Ay(t>=240?t-240:t+120,i,r),Ay(t,i,r),Ay(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new dr(BA(this.h),mh(this.s),mh(this.l),Xd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xd(this.opacity);return`${t===1?"hsl(":"hsla("}${BA(this.h)}, ${mh(this.s)*100}%, ${mh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function BA(t){return t=(t||0)%360,t<0?t+360:t}function mh(t){return Math.max(0,Math.min(1,t||0))}function Ay(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const t1=t=>()=>t;function lne(t,e){return function(n){return t+n*e}}function une(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function cne(t){return(t=+t)==1?jj:function(e,n){return n-e?une(e,n,t):t1(isNaN(e)?n:e)}}function jj(t,e){var n=e-t;return n?lne(t,n):t1(isNaN(t)?e:t)}const zA=function t(e){var n=cne(e);function r(i,o){var a=n((i=V0(i)).r,(o=V0(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=jj(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function fne(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function hne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dne(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Pl(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function pne(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Yd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function mne(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Pl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var F0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Py=new RegExp(F0.source,"g");function gne(t){return function(){return t}}function yne(t){return function(e){return t(e)+""}}function vne(t,e){var n=F0.lastIndex=Py.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=F0.exec(t))&&(i=Py.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Yd(r,i)})),n=Py.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?yne(l[0].x):gne(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}function Pl(t,e){var n=typeof e,r;return e==null||n==="boolean"?t1(e):(n==="number"?Yd:n==="string"?(r=Sc(e))?(e=r,zA):vne:e instanceof Sc?zA:e instanceof Date?pne:hne(e)?fne:Array.isArray(e)?dne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?mne:Yd)(t,e)}function n1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function _ne(t,e){e===void 0&&(e=t,t=Pl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function bne(t){return function(){return t}}function Qd(t){return+t}var WA=[0,1];function pn(t){return t}function U0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:bne(isNaN(e)?NaN:.5)}function wne(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function xne(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=U0(i,r),o=n(a,o)):(r=U0(r,i),o=n(o,a)),function(s){return o(r(s))}}function Sne(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=U0(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=yf(t,s,1,r)-1;return o[l](i[l](s))}}function _f(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $m(){var t=WA,e=WA,n=Pl,r,i,o,a=pn,s,l,u;function c(){var d=Math.min(t.length,e.length);return a!==pn&&(a=wne(t[0],t[d-1])),s=d>2?Sne:xne,l=u=null,h}function h(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return h.invert=function(d){return a(i((u||(u=s(e,t.map(r),Yd)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,Qd),c()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=n1,c()},h.clamp=function(d){return arguments.length?(a=d?!0:pn,c()):a!==pn},h.interpolate=function(d){return arguments.length?(n=d,c()):n},h.unknown=function(d){return arguments.length?(o=d,h):o},function(d,p){return r=d,i=p,c()}}function r1(){return $m()(pn,pn)}function Ene(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jd(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Hs(t){return t=Jd(Math.abs(t)),t?t[1]:NaN}function Tne(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Ane(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Pne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ec(t){if(!(e=Pne.exec(t)))throw new Error("invalid format: "+t);var e;return new i1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ec.prototype=i1.prototype;function i1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}i1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ine(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Dj;function One(t,e){var n=Jd(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Dj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Jd(t,Math.max(0,e+o-1))[0]}function HA(t,e){var n=Jd(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const qA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ene,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>HA(t*100,e),r:HA,s:One,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function GA(t){return t}var KA=Array.prototype.map,XA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Cne(t){var e=t.grouping===void 0||t.thousands===void 0?GA:Tne(KA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?GA:Ane(KA.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Ec(h);var d=h.fill,p=h.align,g=h.sign,m=h.symbol,v=h.zero,y=h.width,w=h.comma,b=h.precision,I=h.trim,T=h.type;T==="n"?(w=!0,T="g"):qA[T]||(b===void 0&&(b=12),I=!0,T="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var P=m==="$"?n:m==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",S=m==="$"?r:/[%p]/.test(T)?a:"",E=qA[T],O=/[defgprs%]/.test(T);b=b===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(C){var R=P,N=S,V,F,W;if(T==="c")N=E(C)+N,C="";else{C=+C;var H=C<0||1/C<0;if(C=isNaN(C)?l:E(Math.abs(C),b),I&&(C=Ine(C)),H&&+C==0&&g!=="+"&&(H=!1),R=(H?g==="("?g:s:g==="-"||g==="("?"":g)+R,N=(T==="s"?XA[8+Dj/3]:"")+N+(H&&g==="("?")":""),O){for(V=-1,F=C.length;++V<F;)if(W=C.charCodeAt(V),48>W||W>57){N=(W===46?i+C.slice(V+1):C.slice(V))+N,C=C.slice(0,V);break}}}w&&!v&&(C=e(C,1/0));var L=R.length+C.length+N.length,z=L<y?new Array(y-L+1).join(d):"";switch(w&&v&&(C=e(z+C,z.length?y-N.length:1/0),z=""),p){case"<":C=R+C+N+z;break;case"=":C=R+z+C+N;break;case"^":C=z.slice(0,L=z.length>>1)+R+C+N+z.slice(L);break;default:C=z+R+C+N;break}return o(C)}return k.toString=function(){return h+""},k}function c(h,d){var p=u((h=Ec(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(Hs(d)/3)))*3,m=Math.pow(10,-g),v=XA[8+g/3];return function(y){return p(m*y)+v}}return{format:u,formatPrefix:c}}var gh,o1,Mj;kne({thousands:",",grouping:[3],currency:["$",""]});function kne(t){return gh=Cne(t),o1=gh.format,Mj=gh.formatPrefix,gh}function Nne(t){return Math.max(0,-Hs(Math.abs(t)))}function Rne(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hs(e)/3)))*3-Hs(Math.abs(t)))}function jne(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Hs(e)-Hs(t))+1}function $j(t,e,n,r){var i=$0(t,e,n),o;switch(r=Ec(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Rne(i,a))&&(r.precision=o),Mj(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=jne(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Nne(i))&&(r.precision=o-(r.type==="%")*2);break}}return o1(r)}function Eo(t){var e=t.domain;return t.ticks=function(n){var r=e();return D0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return $j(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=M0(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Zd(){var t=r1();return t.copy=function(){return _f(t,Zd())},ir.apply(t,arguments),Eo(t)}function Lj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Qd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Lj(t).unknown(e)},t=arguments.length?Array.from(t,Qd):[0,1],Eo(n)}function Vj(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function YA(t){return Math.log(t)}function QA(t){return Math.exp(t)}function Dne(t){return-Math.log(-t)}function Mne(t){return-Math.exp(-t)}function $ne(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Lne(t){return t===10?$ne:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Vne(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function JA(t){return(e,n)=>-t(-e,n)}function a1(t){const e=t(YA,QA),n=e.domain;let r=10,i,o;function a(){return i=Vne(r),o=Lne(r),n()[0]<0?(i=JA(i),o=JA(o),t(Dne,Mne)):t(YA,QA),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let d=i(u),p=i(c),g,m;const v=s==null?10:+s;let y=[];if(!(r%1)&&p-d<v){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(g=1;g<r;++g)if(m=d<0?g/o(-d):g*o(d),!(m<u)){if(m>c)break;y.push(m)}}else for(;d<=p;++d)for(g=r-1;g>=1;--g)if(m=d>0?g/o(-d):g*o(d),!(m<u)){if(m>c)break;y.push(m)}y.length*2<v&&(y=D0(u,c,v))}else y=D0(d,p,Math.min(p-d,v)).map(o);return h?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ec(l)).precision==null&&(l.trim=!0),l=o1(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let h=c/o(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=u?l(c):""}},e.nice=()=>n(Vj(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function Fj(){const t=a1($m()).domain([1,10]);return t.copy=()=>_f(t,Fj()).base(t.base()),ir.apply(t,arguments),t}function ZA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function eP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function s1(t){var e=1,n=t(ZA(e),eP(e));return n.constant=function(r){return arguments.length?t(ZA(e=+r),eP(e)):e},Eo(n)}function Uj(){var t=s1($m());return t.copy=function(){return _f(t,Uj()).constant(t.constant())},ir.apply(t,arguments)}function tP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Fne(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Une(t){return t<0?-t*t:t*t}function l1(t){var e=t(pn,pn),n=1;function r(){return n===1?t(pn,pn):n===.5?t(Fne,Une):t(tP(n),tP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Eo(e)}function u1(){var t=l1($m());return t.copy=function(){return _f(t,u1()).exponent(t.exponent())},ir.apply(t,arguments),t}function Bne(){return u1.apply(null,arguments).exponent(.5)}function nP(t){return Math.sign(t)*t*t}function zne(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Bj(){var t=r1(),e=[0,1],n=!1,r;function i(o){var a=zne(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(nP(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Qd)).map(nP)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Bj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ir.apply(i,arguments),Eo(i)}function zj(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Kte(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[yf(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ao),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return zj().domain(t).range(e).unknown(r)},ir.apply(o,arguments)}function Wj(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[yf(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Wj().domain([t,e]).range(i).unknown(o)},ir.apply(Eo(a),arguments)}function Hj(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[yf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Hj().domain(t).range(e).unknown(n)},ir.apply(i,arguments)}const Iy=new Date,Oy=new Date;function At(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>At(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Iy.setTime(+o),Oy.setTime(+a),t(Iy),t(Oy),Math.floor(n(Iy,Oy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const ep=At(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ep.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?At(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ep);ep.range;const ri=1e3,Yn=ri*60,ii=Yn*60,bi=ii*24,c1=bi*7,rP=bi*30,Cy=bi*365,Xo=At(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ri)},(t,e)=>(e-t)/ri,t=>t.getUTCSeconds());Xo.range;const f1=At(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ri)},(t,e)=>{t.setTime(+t+e*Yn)},(t,e)=>(e-t)/Yn,t=>t.getMinutes());f1.range;const h1=At(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Yn)},(t,e)=>(e-t)/Yn,t=>t.getUTCMinutes());h1.range;const d1=At(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ri-t.getMinutes()*Yn)},(t,e)=>{t.setTime(+t+e*ii)},(t,e)=>(e-t)/ii,t=>t.getHours());d1.range;const p1=At(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ii)},(t,e)=>(e-t)/ii,t=>t.getUTCHours());p1.range;const bf=At(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Yn)/bi,t=>t.getDate()-1);bf.range;const Lm=At(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bi,t=>t.getUTCDate()-1);Lm.range;const qj=At(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bi,t=>Math.floor(t/bi));qj.range;function Ca(t){return At(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Yn)/c1)}const Vm=Ca(0),tp=Ca(1),Wne=Ca(2),Hne=Ca(3),qs=Ca(4),qne=Ca(5),Gne=Ca(6);Vm.range;tp.range;Wne.range;Hne.range;qs.range;qne.range;Gne.range;function ka(t){return At(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/c1)}const Fm=ka(0),np=ka(1),Kne=ka(2),Xne=ka(3),Gs=ka(4),Yne=ka(5),Qne=ka(6);Fm.range;np.range;Kne.range;Xne.range;Gs.range;Yne.range;Qne.range;const m1=At(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());m1.range;const g1=At(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());g1.range;const wi=At(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());wi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:At(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});wi.range;const xi=At(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:At(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});xi.range;function Gj(t,e,n,r,i,o){const a=[[Xo,1,ri],[Xo,5,5*ri],[Xo,15,15*ri],[Xo,30,30*ri],[o,1,Yn],[o,5,5*Yn],[o,15,15*Yn],[o,30,30*Yn],[i,1,ii],[i,3,3*ii],[i,6,6*ii],[i,12,12*ii],[r,1,bi],[r,2,2*bi],[n,1,c1],[e,1,rP],[e,3,3*rP],[t,1,Cy]];function s(u,c,h){const d=c<u;d&&([u,c]=[c,u]);const p=h&&typeof h.range=="function"?h:l(u,c,h),g=p?p.range(u,+c+1):[];return d?g.reverse():g}function l(u,c,h){const d=Math.abs(c-u)/h,p=Jw(([,,v])=>v).right(a,d);if(p===a.length)return t.every($0(u/Cy,c/Cy,h));if(p===0)return ep.every(Math.max($0(u,c,h),1));const[g,m]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return g.every(m)}return[s,l]}const[Jne,Zne]=Gj(xi,g1,Fm,qj,p1,h1),[ere,tre]=Gj(wi,m1,Vm,bf,d1,f1);function ky(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ny(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function iu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function nre(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=ou(i),c=au(i),h=ou(o),d=au(o),p=ou(a),g=au(a),m=ou(s),v=au(s),y=ou(l),w=au(l),b={a:H,A:L,b:z,B:X,c:null,d:uP,e:uP,f:Tre,g:Dre,G:$re,H:xre,I:Sre,j:Ere,L:Kj,m:Are,M:Pre,p:ee,q:Y,Q:hP,s:dP,S:Ire,u:Ore,U:Cre,V:kre,w:Nre,W:Rre,x:null,X:null,y:jre,Y:Mre,Z:Lre,"%":fP},I={a:ne,A:xe,b:Ce,B:et,c:null,d:cP,e:cP,f:Bre,g:Jre,G:eie,H:Vre,I:Fre,j:Ure,L:Yj,m:zre,M:Wre,p:Pt,q:qt,Q:hP,s:dP,S:Hre,u:qre,U:Gre,V:Kre,w:Xre,W:Yre,x:null,X:null,y:Qre,Y:Zre,Z:tie,"%":fP},T={a:k,A:C,b:R,B:N,c:V,d:sP,e:sP,f:vre,g:aP,G:oP,H:lP,I:lP,j:pre,L:yre,m:dre,M:mre,p:O,q:hre,Q:bre,s:wre,S:gre,u:sre,U:lre,V:ure,w:are,W:cre,x:F,X:W,y:aP,Y:oP,Z:fre,"%":_re};b.x=P(n,b),b.X=P(r,b),b.c=P(e,b),I.x=P(n,I),I.X=P(r,I),I.c=P(e,I);function P(te,ce){return function(pe){var G=[],Fe=-1,_e=0,tt=te.length,at,jt,br;for(pe instanceof Date||(pe=new Date(+pe));++Fe<tt;)te.charCodeAt(Fe)===37&&(G.push(te.slice(_e,Fe)),(jt=iP[at=te.charAt(++Fe)])!=null?at=te.charAt(++Fe):jt=at==="e"?" ":"0",(br=ce[at])&&(at=br(pe,jt)),G.push(at),_e=Fe+1);return G.push(te.slice(_e,Fe)),G.join("")}}function S(te,ce){return function(pe){var G=iu(1900,void 0,1),Fe=E(G,te,pe+="",0),_e,tt;if(Fe!=pe.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(ce&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(_e=Ny(iu(G.y,0,1)),tt=_e.getUTCDay(),_e=tt>4||tt===0?np.ceil(_e):np(_e),_e=Lm.offset(_e,(G.V-1)*7),G.y=_e.getUTCFullYear(),G.m=_e.getUTCMonth(),G.d=_e.getUTCDate()+(G.w+6)%7):(_e=ky(iu(G.y,0,1)),tt=_e.getDay(),_e=tt>4||tt===0?tp.ceil(_e):tp(_e),_e=bf.offset(_e,(G.V-1)*7),G.y=_e.getFullYear(),G.m=_e.getMonth(),G.d=_e.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),tt="Z"in G?Ny(iu(G.y,0,1)).getUTCDay():ky(iu(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(tt+5)%7:G.w+G.U*7-(tt+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,Ny(G)):ky(G)}}function E(te,ce,pe,G){for(var Fe=0,_e=ce.length,tt=pe.length,at,jt;Fe<_e;){if(G>=tt)return-1;if(at=ce.charCodeAt(Fe++),at===37){if(at=ce.charAt(Fe++),jt=T[at in iP?ce.charAt(Fe++):at],!jt||(G=jt(te,pe,G))<0)return-1}else if(at!=pe.charCodeAt(G++))return-1}return G}function O(te,ce,pe){var G=u.exec(ce.slice(pe));return G?(te.p=c.get(G[0].toLowerCase()),pe+G[0].length):-1}function k(te,ce,pe){var G=p.exec(ce.slice(pe));return G?(te.w=g.get(G[0].toLowerCase()),pe+G[0].length):-1}function C(te,ce,pe){var G=h.exec(ce.slice(pe));return G?(te.w=d.get(G[0].toLowerCase()),pe+G[0].length):-1}function R(te,ce,pe){var G=y.exec(ce.slice(pe));return G?(te.m=w.get(G[0].toLowerCase()),pe+G[0].length):-1}function N(te,ce,pe){var G=m.exec(ce.slice(pe));return G?(te.m=v.get(G[0].toLowerCase()),pe+G[0].length):-1}function V(te,ce,pe){return E(te,e,ce,pe)}function F(te,ce,pe){return E(te,n,ce,pe)}function W(te,ce,pe){return E(te,r,ce,pe)}function H(te){return a[te.getDay()]}function L(te){return o[te.getDay()]}function z(te){return l[te.getMonth()]}function X(te){return s[te.getMonth()]}function ee(te){return i[+(te.getHours()>=12)]}function Y(te){return 1+~~(te.getMonth()/3)}function ne(te){return a[te.getUTCDay()]}function xe(te){return o[te.getUTCDay()]}function Ce(te){return l[te.getUTCMonth()]}function et(te){return s[te.getUTCMonth()]}function Pt(te){return i[+(te.getUTCHours()>=12)]}function qt(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var ce=P(te+="",b);return ce.toString=function(){return te},ce},parse:function(te){var ce=S(te+="",!1);return ce.toString=function(){return te},ce},utcFormat:function(te){var ce=P(te+="",I);return ce.toString=function(){return te},ce},utcParse:function(te){var ce=S(te+="",!0);return ce.toString=function(){return te},ce}}}var iP={"-":"",_:" ",0:"0"},Rt=/^\s*\d+/,rre=/^%/,ire=/[\\^$*+?|[\]().{}]/g;function Ie(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ore(t){return t.replace(ire,"\\$&")}function ou(t){return new RegExp("^(?:"+t.map(ore).join("|")+")","i")}function au(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function are(t,e,n){var r=Rt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function sre(t,e,n){var r=Rt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function lre(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ure(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function cre(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function oP(t,e,n){var r=Rt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function aP(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fre(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hre(t,e,n){var r=Rt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function dre(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function sP(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function pre(t,e,n){var r=Rt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function lP(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function mre(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gre(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function yre(t,e,n){var r=Rt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vre(t,e,n){var r=Rt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _re(t,e,n){var r=rre.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bre(t,e,n){var r=Rt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function wre(t,e,n){var r=Rt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function uP(t,e){return Ie(t.getDate(),e,2)}function xre(t,e){return Ie(t.getHours(),e,2)}function Sre(t,e){return Ie(t.getHours()%12||12,e,2)}function Ere(t,e){return Ie(1+bf.count(wi(t),t),e,3)}function Kj(t,e){return Ie(t.getMilliseconds(),e,3)}function Tre(t,e){return Kj(t,e)+"000"}function Are(t,e){return Ie(t.getMonth()+1,e,2)}function Pre(t,e){return Ie(t.getMinutes(),e,2)}function Ire(t,e){return Ie(t.getSeconds(),e,2)}function Ore(t){var e=t.getDay();return e===0?7:e}function Cre(t,e){return Ie(Vm.count(wi(t)-1,t),e,2)}function Xj(t){var e=t.getDay();return e>=4||e===0?qs(t):qs.ceil(t)}function kre(t,e){return t=Xj(t),Ie(qs.count(wi(t),t)+(wi(t).getDay()===4),e,2)}function Nre(t){return t.getDay()}function Rre(t,e){return Ie(tp.count(wi(t)-1,t),e,2)}function jre(t,e){return Ie(t.getFullYear()%100,e,2)}function Dre(t,e){return t=Xj(t),Ie(t.getFullYear()%100,e,2)}function Mre(t,e){return Ie(t.getFullYear()%1e4,e,4)}function $re(t,e){var n=t.getDay();return t=n>=4||n===0?qs(t):qs.ceil(t),Ie(t.getFullYear()%1e4,e,4)}function Lre(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ie(e/60|0,"0",2)+Ie(e%60,"0",2)}function cP(t,e){return Ie(t.getUTCDate(),e,2)}function Vre(t,e){return Ie(t.getUTCHours(),e,2)}function Fre(t,e){return Ie(t.getUTCHours()%12||12,e,2)}function Ure(t,e){return Ie(1+Lm.count(xi(t),t),e,3)}function Yj(t,e){return Ie(t.getUTCMilliseconds(),e,3)}function Bre(t,e){return Yj(t,e)+"000"}function zre(t,e){return Ie(t.getUTCMonth()+1,e,2)}function Wre(t,e){return Ie(t.getUTCMinutes(),e,2)}function Hre(t,e){return Ie(t.getUTCSeconds(),e,2)}function qre(t){var e=t.getUTCDay();return e===0?7:e}function Gre(t,e){return Ie(Fm.count(xi(t)-1,t),e,2)}function Qj(t){var e=t.getUTCDay();return e>=4||e===0?Gs(t):Gs.ceil(t)}function Kre(t,e){return t=Qj(t),Ie(Gs.count(xi(t),t)+(xi(t).getUTCDay()===4),e,2)}function Xre(t){return t.getUTCDay()}function Yre(t,e){return Ie(np.count(xi(t)-1,t),e,2)}function Qre(t,e){return Ie(t.getUTCFullYear()%100,e,2)}function Jre(t,e){return t=Qj(t),Ie(t.getUTCFullYear()%100,e,2)}function Zre(t,e){return Ie(t.getUTCFullYear()%1e4,e,4)}function eie(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Gs(t):Gs.ceil(t),Ie(t.getUTCFullYear()%1e4,e,4)}function tie(){return"+0000"}function fP(){return"%"}function hP(t){return+t}function dP(t){return Math.floor(+t/1e3)}var Ua,Jj,Zj;nie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nie(t){return Ua=nre(t),Jj=Ua.format,Ua.parse,Zj=Ua.utcFormat,Ua.utcParse,Ua}function rie(t){return new Date(t)}function iie(t){return t instanceof Date?+t:+new Date(+t)}function y1(t,e,n,r,i,o,a,s,l,u){var c=r1(),h=c.invert,d=c.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),w=u("%b %d"),b=u("%B"),I=u("%Y");function T(P){return(l(P)<P?p:s(P)<P?g:a(P)<P?m:o(P)<P?v:r(P)<P?i(P)<P?y:w:n(P)<P?b:I)(P)}return c.invert=function(P){return new Date(h(P))},c.domain=function(P){return arguments.length?d(Array.from(P,iie)):d().map(rie)},c.ticks=function(P){var S=d();return t(S[0],S[S.length-1],P??10)},c.tickFormat=function(P,S){return S==null?T:u(S)},c.nice=function(P){var S=d();return(!P||typeof P.range!="function")&&(P=e(S[0],S[S.length-1],P??10)),P?d(Vj(S,P)):c},c.copy=function(){return _f(c,y1(t,e,n,r,i,o,a,s,l,u))},c}function oie(){return ir.apply(y1(ere,tre,wi,m1,Vm,bf,d1,f1,Xo,Jj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aie(){return ir.apply(y1(Jne,Zne,xi,g1,Fm,Lm,p1,h1,Xo,Zj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Um(){var t=0,e=1,n,r,i,o,a=pn,s=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(o(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(s=!!h,u):s},u.interpolator=function(h){return arguments.length?(a=h,u):a};function c(h){return function(d){var p,g;return arguments.length?([p,g]=d,a=h(p,g),u):[a(0),a(1)]}}return u.range=c(Pl),u.rangeRound=c(n1),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function To(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function eD(){var t=Eo(Um()(pn));return t.copy=function(){return To(t,eD())},Ai.apply(t,arguments)}function tD(){var t=a1(Um()).domain([1,10]);return t.copy=function(){return To(t,tD()).base(t.base())},Ai.apply(t,arguments)}function nD(){var t=s1(Um());return t.copy=function(){return To(t,nD()).constant(t.constant())},Ai.apply(t,arguments)}function v1(){var t=l1(Um());return t.copy=function(){return To(t,v1()).exponent(t.exponent())},Ai.apply(t,arguments)}function sie(){return v1.apply(null,arguments).exponent(.5)}function rD(){var t=[],e=pn;function n(r){if(r!=null&&!isNaN(r=+r))return e((yf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ao),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Gte(t,o/r))},n.copy=function(){return rD(e).domain(t)},Ai.apply(n,arguments)}function Bm(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=pn,c,h=!1,d;function p(m){return isNaN(m=+m)?d:(m=.5+((m=+c(m))-o)*(r*m<r*o?s:l),u(h?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,n]=m,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(m){return arguments.length?(h=!!m,p):h},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var y,w,b;return arguments.length?([y,w,b]=v,u=_ne(m,[y,w,b]),p):[u(0),u(.5),u(1)]}}return p.range=g(Pl),p.rangeRound=g(n1),p.unknown=function(m){return arguments.length?(d=m,p):d},function(m){return c=m,i=m(t),o=m(e),a=m(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function iD(){var t=Eo(Bm()(pn));return t.copy=function(){return To(t,iD())},Ai.apply(t,arguments)}function oD(){var t=a1(Bm()).domain([.1,1,10]);return t.copy=function(){return To(t,oD()).base(t.base())},Ai.apply(t,arguments)}function aD(){var t=s1(Bm());return t.copy=function(){return To(t,aD()).constant(t.constant())},Ai.apply(t,arguments)}function _1(){var t=l1(Bm());return t.copy=function(){return To(t,_1()).exponent(t.exponent())},Ai.apply(t,arguments)}function lie(){return _1.apply(null,arguments).exponent(.5)}const pP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bc,scaleDiverging:iD,scaleDivergingLog:oD,scaleDivergingPow:_1,scaleDivergingSqrt:lie,scaleDivergingSymlog:aD,scaleIdentity:Lj,scaleImplicit:L0,scaleLinear:Zd,scaleLog:Fj,scaleOrdinal:Zw,scalePoint:Mu,scalePow:u1,scaleQuantile:zj,scaleQuantize:Wj,scaleRadial:Bj,scaleSequential:eD,scaleSequentialLog:tD,scaleSequentialPow:v1,scaleSequentialQuantile:rD,scaleSequentialSqrt:sie,scaleSequentialSymlog:nD,scaleSqrt:Bne,scaleSymlog:Uj,scaleThreshold:Hj,scaleTime:oie,scaleUtc:aie,tickFormat:$j},Symbol.toStringTag,{value:"Module"}));var uie=_l;function cie(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!uie(a):n(a,s)))var s=a,l=o}return l}var zm=cie;function fie(t,e){return t>e}var sD=fie,hie=zm,die=sD,pie=Al;function mie(t){return t&&t.length?hie(t,pie,die):void 0}var gie=mie;const Wm=De(gie);function yie(t,e){return t<e}var lD=yie,vie=zm,_ie=lD,bie=Al;function wie(t){return t&&t.length?vie(t,bie,_ie):void 0}var xie=wie;const Hm=De(xie);var Sie=Rw,Eie=zr,Tie=gj,Aie=Pn;function Pie(t,e){var n=Aie(t)?Sie:Tie;return n(t,Eie(e))}var Iie=Pie,Oie=pj,Cie=Iie;function kie(t,e){return Oie(Cie(t,e),1)}var Nie=kie;const Rie=De(Nie);var jie=Kw;function Die(t,e){return jie(t,e)}var Mie=Die;const qm=De(Mie);var Il=1e9,$ie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},w1,Ze=!0,nr="[DecimalError] ",oa=nr+"Invalid argument: ",b1=nr+"Exponent out of range: ",Ol=Math.floor,Fo=Math.pow,Lie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nn,Ot=1e7,Xe=7,uD=9007199254740991,rp=Ol(uD/Xe),ie={};ie.absoluteValue=ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ie.comparedTo=ie.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Xe;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ie.dividedBy=ie.div=function(t){return ci(this,new this.constructor(t))};ie.dividedToIntegerBy=ie.idiv=function(t){var e=this,n=e.constructor;return Ve(ci(e,new n(t),0,1),n.precision)};ie.equals=ie.eq=function(t){return!this.cmp(t)};ie.exponent=function(){return _t(this)};ie.greaterThan=ie.gt=function(t){return this.cmp(t)>0};ie.greaterThanOrEqualTo=ie.gte=function(t){return this.cmp(t)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(t){return this.cmp(t)<0};ie.lessThanOrEqualTo=ie.lte=function(t){return this.cmp(t)<1};ie.logarithm=ie.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Nn))throw Error(nr+"NaN");if(n.s<1)throw Error(nr+(n.s?"NaN":"-Infinity"));return n.eq(Nn)?new r(0):(Ze=!1,e=ci(Tc(n,o),Tc(t,o),o),Ze=!0,Ve(e,i))};ie.minus=ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hD(e,t):cD(e,(t.s=-t.s,t))};ie.modulo=ie.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(nr+"NaN");return n.s?(Ze=!1,e=ci(n,t,0,1).times(t),Ze=!0,n.minus(e)):Ve(new r(n),i)};ie.naturalExponential=ie.exp=function(){return fD(this)};ie.naturalLogarithm=ie.ln=function(){return Tc(this)};ie.negated=ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ie.plus=ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cD(e,t):hD(e,(t.s=-t.s,t))};ie.precision=ie.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(oa+t);if(e=_t(i)+1,r=i.d.length-1,n=r*Xe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ie.squareRoot=ie.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(nr+"NaN")}for(t=_t(s),Ze=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Ar(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ol((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(ci(s,o,a+2)).times(.5),Ar(o.d).slice(0,a)===(e=Ar(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ve(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Ze=!0,Ve(r,n)};ie.times=ie.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,h=c.constructor,d=c.d,p=(t=new h(t)).d;if(!c.s||!t.s)return new h(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*d[i-r-1]+e,o[i--]=s%Ot|0,e=s/Ot|0;o[i]=(o[i]+e)%Ot|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ze?Ve(t,h.precision):t};ie.toDecimalPlaces=ie.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Vr(t,0,Il),e===void 0?e=r.rounding:Vr(e,0,8),Ve(n,t+_t(n)+1,e))};ie.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=wa(r,!0):(Vr(t,0,Il),e===void 0?e=i.rounding:Vr(e,0,8),r=Ve(new i(r),t+1,e),n=wa(r,!0,t+1)),n};ie.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?wa(i):(Vr(t,0,Il),e===void 0?e=o.rounding:Vr(e,0,8),r=Ve(new o(i),t+_t(i)+1,e),n=wa(r.abs(),!1,t+_t(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ie.toInteger=ie.toint=function(){var t=this,e=t.constructor;return Ve(new e(t),_t(t)+1,e.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Nn);if(s=new l(s),!s.s){if(t.s<1)throw Error(nr+"Infinity");return s}if(s.eq(Nn))return s;if(r=l.precision,t.eq(Nn))return Ve(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=uD){for(i=new l(Nn),e=Math.ceil(r/Xe+4),Ze=!1;n%2&&(i=i.times(s),gP(i.d,e)),n=Ol(n/2),n!==0;)s=s.times(s),gP(s.d,e);return Ze=!0,t.s<0?new l(Nn).div(i):Ve(i,r)}}else if(o<0)throw Error(nr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Ze=!1,i=t.times(Tc(s,r+u)),Ze=!0,i=fD(i),i.s=o,i};ie.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=_t(i),r=wa(i,n<=o.toExpNeg||n>=o.toExpPos)):(Vr(t,1,Il),e===void 0?e=o.rounding:Vr(e,0,8),i=Ve(new o(i),t,e),n=_t(i),r=wa(i,t<=n||n<=o.toExpNeg,t)),r};ie.toSignificantDigits=ie.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Vr(t,1,Il),e===void 0?e=r.rounding:Vr(e,0,8)),Ve(new r(n),t,e)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=_t(t),n=t.constructor;return wa(t,e<=n.toExpNeg||e>=n.toExpPos)};function cD(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,h=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Ze?Ve(e,h):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(h/Xe),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Ot|0,l[o]%=Ot;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Ze?Ve(e,h):e}function Vr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(oa+t)}function Ar(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Xe-r.length,n&&(o+=Di(n)),o+=r;a=t[e],r=a+"",n=Xe-r.length,n&&(o+=Di(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var ci=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Ot|0,a=o/Ot|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Ot+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,h,d,p,g,m,v,y,w,b,I,T,P,S,E,O=r.constructor,k=r.s==i.s?1:-1,C=r.d,R=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(nr+"Division by zero");for(l=r.e-i.e,S=R.length,T=C.length,p=new O(k),g=p.d=[],u=0;R[u]==(C[u]||0);)++u;if(R[u]>(C[u]||0)&&--l,o==null?w=o=O.precision:a?w=o+(_t(r)-_t(i))+1:w=o,w<0)return new O(0);if(w=w/Xe+2|0,u=0,S==1)for(c=0,R=R[0],w++;(u<T||c)&&w--;u++)b=c*Ot+(C[u]||0),g[u]=b/R|0,c=b%R|0;else{for(c=Ot/(R[0]+1)|0,c>1&&(R=t(R,c),C=t(C,c),S=R.length,T=C.length),I=S,m=C.slice(0,S),v=m.length;v<S;)m[v++]=0;E=R.slice(),E.unshift(0),P=R[0],R[1]>=Ot/2&&++P;do c=0,s=e(R,m,S,v),s<0?(y=m[0],S!=v&&(y=y*Ot+(m[1]||0)),c=y/P|0,c>1?(c>=Ot&&(c=Ot-1),h=t(R,c),d=h.length,v=m.length,s=e(h,m,d,v),s==1&&(c--,n(h,S<d?E:R,d))):(c==0&&(s=c=1),h=R.slice()),d=h.length,d<v&&h.unshift(0),n(m,h,v),s==-1&&(v=m.length,s=e(R,m,S,v),s<1&&(c++,n(m,S<v?E:R,v))),v=m.length):s===0&&(c++,m=[0]),g[u++]=c,s&&m[0]?m[v++]=C[I]||0:(m=[C[I]],v=1);while((I++<T||m[0]!==void 0)&&w--)}return g[0]||g.shift(),p.e=l,Ve(p,a?o+_t(p)+1:o)}}();function fD(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,h=c.precision;if(_t(t)>16)throw Error(b1+_t(t));if(!t.s)return new c(Nn);for(e==null?(Ze=!1,s=h):s=e,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Fo(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Nn),c.precision=s;;){if(i=Ve(i.times(t),s),n=n.times(++l),a=o.plus(ci(i,n,s)),Ar(a.d).slice(0,s)===Ar(o.d).slice(0,s)){for(;u--;)o=Ve(o.times(o),s);return c.precision=h,e==null?(Ze=!0,Ve(o,h)):o}o=a}}function _t(t){for(var e=t.e*Xe,n=t.d[0];n>=10;n/=10)e++;return e}function Ry(t,e,n){if(e>t.LN10.sd())throw Ze=!0,n&&(t.precision=n),Error(nr+"LN10 precision limit exceeded");return Ve(new t(t.LN10),e)}function Di(t){for(var e="";t--;)e+="0";return e}function Tc(t,e){var n,r,i,o,a,s,l,u,c,h=1,d=10,p=t,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(nr+(p.s?"NaN":"-Infinity"));if(p.eq(Nn))return new m(0);if(e==null?(Ze=!1,u=v):u=e,p.eq(10))return e==null&&(Ze=!0),Ry(m,u);if(u+=d,m.precision=u,n=Ar(g),r=n.charAt(0),o=_t(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Ar(p.d),r=n.charAt(0),h++;o=_t(p),r>1?(p=new m("0."+n),o++):p=new m(r+"."+n.slice(1))}else return l=Ry(m,u+2,v).times(o+""),p=Tc(new m(r+"."+n.slice(1)),u-d).plus(l),m.precision=v,e==null?(Ze=!0,Ve(p,v)):p;for(s=a=p=ci(p.minus(Nn),p.plus(Nn),u),c=Ve(p.times(p),u),i=3;;){if(a=Ve(a.times(c),u),l=s.plus(ci(a,new m(i),u)),Ar(l.d).slice(0,u)===Ar(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Ry(m,u+2,v).times(o+""))),s=ci(s,new m(h),u),m.precision=v,e==null?(Ze=!0,Ve(s,v)):s;s=l,i+=2}}function mP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ol(n/Xe),t.d=[],r=(n+1)%Xe,n<0&&(r+=Xe),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Xe;r<i;)t.d.push(+e.slice(r,r+=Xe));e=e.slice(r),r=Xe-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ze&&(t.e>rp||t.e<-rp))throw Error(b1+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ve(t,e,n){var r,i,o,a,s,l,u,c,h=t.d;for(a=1,o=h[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Xe,i=e,u=h[c=0];else{if(c=Math.ceil((r+1)/Xe),o=h.length,c>=o)return t;for(u=o=h[c],a=1;o>=10;o/=10)a++;r%=Xe,i=r-Xe+a}if(n!==void 0&&(o=Fo(10,a-i-1),s=u/o%10|0,l=e<0||h[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Fo(10,a-i):0:h[c-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(o=_t(t),h.length=1,e=e-o-1,h[0]=Fo(10,(Xe-e%Xe)%Xe),t.e=Ol(-e/Xe)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=c,o=1,c--):(h.length=c+1,o=Fo(10,Xe-r),h[c]=i>0?(u/Fo(10,a-i)%Fo(10,i)|0)*o:0),l)for(;;)if(c==0){(h[0]+=o)==Ot&&(h[0]=1,++t.e);break}else{if(h[c]+=o,h[c]!=Ot)break;h[c--]=0,o=1}for(r=h.length;h[--r]===0;)h.pop();if(Ze&&(t.e>rp||t.e<-rp))throw Error(b1+_t(t));return t}function hD(t,e){var n,r,i,o,a,s,l,u,c,h,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),Ze?Ve(e,p):e;if(l=t.d,h=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=h.length):(n=h,r=u,s=l.length),i=Math.max(Math.ceil(p/Xe),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=h.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=h[i]){c=l[i]<h[i];break}a=0}for(c&&(n=l,l=h,h=n,e.s=-e.s),s=l.length,i=h.length-s;i>0;--i)l[s++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(o=i;o&&l[--o]===0;)l[o]=Ot-1;--l[o],l[i]+=Ot}l[i]-=h[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ze?Ve(e,p):e):new d(0)}function wa(t,e,n){var r,i=_t(t),o=Ar(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Di(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Di(-i-1)+o,n&&(r=n-a)>0&&(o+=Di(r))):i>=a?(o+=Di(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Di(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Di(r))),t.s<0?"-"+o:o}function gP(t,e){if(t.length>e)return t.length=e,!0}function dD(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(oa+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return mP(a,o.toString())}else if(typeof o!="string")throw Error(oa+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Lie.test(o))mP(a,o);else throw Error(oa+o)}if(i.prototype=ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=dD,i.config=i.set=Vie,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Vie(t){if(!t||typeof t!="object")throw Error(nr+"Object expected");var e,n,r,i=["precision",1,Il,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ol(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(oa+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(oa+n+": "+r);return this}var w1=dD($ie);Nn=new w1(1);const $e=w1;function Fie(t){return Wie(t)||zie(t)||Bie(t)||Uie()}function Uie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bie(t,e){if(t){if(typeof t=="string")return B0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B0(t,e)}}function zie(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Wie(t){if(Array.isArray(t))return B0(t)}function B0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hie=function(e){return e},pD={"@@functional/placeholder":!0},mD=function(e){return e===pD},yP=function(e){return function n(){return arguments.length===0||arguments.length===1&&mD(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},qie=function t(e,n){return e===1?n:yP(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==pD}).length;return a>=e?n.apply(void 0,i):t(e-a,yP(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(h){return mD(h)?l.shift():h});return n.apply(void 0,Fie(c).concat(l))}))})},Gm=function(e){return qie(e.length,e)},z0=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Gie=Gm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Kie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Hie;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},W0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},gD=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Xie(t){var e;return t===0?e=1:e=Math.floor(new $e(t).abs().log(10).toNumber())+1,e}function Yie(t,e,n){for(var r=new $e(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Qie=Gm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Jie=Gm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Zie=Gm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Km={rangeStep:Yie,getDigitCount:Xie,interpolateNumber:Qie,uninterpolateNumber:Jie,uninterpolateTruncation:Zie};function H0(t){return noe(t)||toe(t)||yD(t)||eoe()}function eoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function toe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function noe(t){if(Array.isArray(t))return q0(t)}function Ac(t,e){return ooe(t)||ioe(t,e)||yD(t,e)||roe()}function roe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yD(t,e){if(t){if(typeof t=="string")return q0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q0(t,e)}}function q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ioe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function ooe(t){if(Array.isArray(t))return t}function vD(t){var e=Ac(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function _D(t,e,n){if(t.lte(0))return new $e(0);var r=Km.getDigitCount(t.toNumber()),i=new $e(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new $e(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new $e(Math.ceil(l))}function aoe(t,e,n){var r=1,i=new $e(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new $e(10).pow(Km.getDigitCount(t)-1),i=new $e(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new $e(Math.floor(t)))}else t===0?i=new $e(Math.floor((e-1)/2)):n||(i=new $e(Math.floor(t)));var a=Math.floor((e-1)/2),s=Kie(Gie(function(l){return i.add(new $e(l-a).mul(r)).toNumber()}),z0);return s(0,e)}function bD(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new $e(0),tickMin:new $e(0),tickMax:new $e(0)};var o=_D(new $e(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new $e(0):(a=new $e(t).add(e).div(2),a=a.sub(new $e(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new $e(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?bD(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new $e(s).mul(o)),tickMax:a.add(new $e(l).mul(o))})}function soe(t){var e=Ac(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=vD([n,r]),l=Ac(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var h=c===1/0?[u].concat(H0(z0(0,i-1).map(function(){return 1/0}))):[].concat(H0(z0(0,i-1).map(function(){return-1/0})),[c]);return n>r?W0(h):h}if(u===c)return aoe(u,i,o);var d=bD(u,c,a,o),p=d.step,g=d.tickMin,m=d.tickMax,v=Km.rangeStep(g,m.add(new $e(.1).mul(p)),p);return n>r?W0(v):v}function loe(t,e){var n=Ac(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=vD([r,i]),s=Ac(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),h=_D(new $e(u).sub(l).div(c-1),o,0),d=[].concat(H0(Km.rangeStep(new $e(l),new $e(u).sub(new $e(.99).mul(h)),h)),[u]);return r>i?W0(d):d}var uoe=gD(soe),coe=gD(loe),foe=!0,jy="Invariant failed";function xa(t,e){if(!t){if(foe)throw new Error(jy);var n=typeof e=="function"?e():e,r=n?"".concat(jy,": ").concat(n):jy;throw new Error(r)}}var hoe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function ip(){return ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ip.apply(this,arguments)}function doe(t,e){return yoe(t)||goe(t,e)||moe(t,e)||poe()}function poe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function moe(t,e){if(t){if(typeof t=="string")return vP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vP(t,e)}}function vP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function goe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function yoe(t){if(Array.isArray(t))return t}function voe(t,e){if(t==null)return{};var n=_oe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _oe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function boe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SD(r.key),r)}}function woe(t,e,n){return e&&_P(t.prototype,e),n&&_P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xoe(t,e,n){return e=op(e),Soe(t,wD()?Reflect.construct(e,n||[],op(t).constructor):e.apply(t,n))}function Soe(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eoe(t)}function Eoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wD=function(){return!!t})()}function op(t){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},op(t)}function Toe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G0(t,e)}function G0(t,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G0(t,e)}function xD(t,e,n){return e=SD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SD(t){var e=Aoe(t,"string");return Ks(e)=="symbol"?e:e+""}function Aoe(t,e){if(Ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xm=function(t){function e(){return boe(this,e),xoe(this,e,arguments)}return Toe(e,t),woe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,h=r.yAxis,d=voe(r,hoe),p=ue(d,!1);this.props.direction==="x"&&c.type!=="number"&&xa(!1);var g=l.map(function(m){var v=u(m,s),y=v.x,w=v.y,b=v.value,I=v.errorVal;if(!I)return null;var T=[],P,S;if(Array.isArray(I)){var E=doe(I,2);P=E[0],S=E[1]}else P=S=I;if(o==="vertical"){var O=c.scale,k=w+i,C=k+a,R=k-a,N=O(b-P),V=O(b+S);T.push({x1:V,y1:C,x2:V,y2:R}),T.push({x1:N,y1:k,x2:V,y2:k}),T.push({x1:N,y1:C,x2:N,y2:R})}else if(o==="horizontal"){var F=h.scale,W=y+i,H=W-a,L=W+a,z=F(b-P),X=F(b+S);T.push({x1:H,y1:X,x2:L,y2:X}),T.push({x1:W,y1:z,x2:W,y2:X}),T.push({x1:H,y1:z,x2:L,y2:z})}return D.createElement(Ne,ip({className:"recharts-errorBar",key:"bar-".concat(T.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),T.map(function(ee){return D.createElement("line",ip({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return D.createElement(Ne,{className:"recharts-errorBars"},g)}}])}(D.Component);xD(Xm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});xD(Xm,"displayName","ErrorBar");function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function No(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){Poe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Poe(t,e,n){return e=Ioe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ioe(t){var e=Ooe(t,"string");return Pc(e)=="symbol"?e:e+""}function Ooe(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ED=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=kn(n,ra);if(!a)return null;var s=ra.defaultProps,l=s!==void 0?No(No({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,h){var d=h.item,p=h.props,g=p.sectors||p.data||[];return c.concat(g.map(function(m){return{type:a.props.iconType||d.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(r||[]).map(function(c){var h=c.item,d=h.type.defaultProps,p=d!==void 0?No(No({},d),h.props):{},g=p.dataKey,m=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:x1(h),value:m||g,payload:p}}),No(No(No({},l),ra.getWithHeight(a,i)),{},{payload:u,item:a})};function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function wP(t){return Roe(t)||Noe(t)||koe(t)||Coe()}function Coe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function koe(t,e){if(t){if(typeof t=="string")return K0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K0(t,e)}}function Noe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Roe(t){if(Array.isArray(t))return K0(t)}function K0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(n),!0).forEach(function(r){xs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xs(t,e,n){return e=joe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function joe(t){var e=Doe(t,"string");return Ic(e)=="symbol"?e:e+""}function Doe(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function on(t,e,n){return ve(t)||ve(e)?n:Tt(e)?Ln(t,e,n):fe(e)?e(t):n}function $u(t,e,n,r){var i=Rie(t,function(s){return on(s,e)});if(n==="number"){var o=i.filter(function(s){return J(s)||parseFloat(s)});return o.length?[Hm(o),Wm(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!ve(s)}):i;return a.map(function(s){return Tt(s)||s instanceof Date?s:""})}var Moe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,h=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(hn(h-c)!==hn(d-h)){var g=[];if(hn(d-h)===hn(l[1]-l[0])){p=d;var m=h+l[1]-l[0];g[0]=Math.min(m,(m+c)/2),g[1]=Math.max(m,(m+c)/2)}else{p=c;var v=d+l[1]-l[0];g[0]=Math.min(h,(v+h)/2),g[1]=Math.max(h,(v+h)/2)}var y=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>y[0]&&e<=y[1]||e>=g[0]&&e<=g[1]){a=i[u].index;break}}else{var w=Math.min(c,d),b=Math.max(c,d);if(e>(w+h)/2&&e<=(b+h)/2){a=i[u].index;break}}}else for(var I=0;I<s;I++)if(I===0&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I>0&&I<s-1&&e>(r[I].coordinate+r[I-1].coordinate)/2&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I===s-1&&e>(r[I].coordinate+r[I-1].coordinate)/2){a=r[I].index;break}return a},x1=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ut(ut({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},$oe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,h=Object.keys(c),d=0,p=h.length;d<p;d++){var g=c[h[d]],m=g.items,v=g.cateAxisId,y=m.filter(function(S){return li(S.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,b=w!==void 0?ut(ut({},w),y[0].props):y[0].props,I=b.barSize,T=b[v];a[T]||(a[T]=[]);var P=ve(I)?n:I;a[T].push({item:y[0],stackList:y.slice(1),barSize:ve(P)?void 0:dn(P,r,0)})}}return a},Loe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=dn(n,i,0,!0),c,h=[];if(a[0].barSize===+a[0].barSize){var d=!1,p=i/l,g=a.reduce(function(I,T){return I+T.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&p>0&&(d=!0,p*=.9,g=l*p);var m=(i-g)/2>>0,v={offset:m-u,size:0};c=a.reduce(function(I,T){var P={item:T.item,position:{offset:v.offset+v.size+u,size:d?p:T.barSize}},S=[].concat(wP(I),[P]);return v=S[S.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:v})}),S},h)}else{var y=dn(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var w=(i-2*y-(l-1)*u)/l;w>1&&(w>>=0);var b=s===+s?Math.min(w,s):w;c=a.reduce(function(I,T,P){var S=[].concat(wP(I),[{item:T.item,position:{offset:y+(w+u)*P+(w-b)/2,size:b}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:S[S.length-1].position})}),S},h)}return c},Voe=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=ED({children:o,legendWidth:l});if(u){var c=i||{},h=c.width,d=c.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&J(e[p]))return ut(ut({},e),{},xs({},p,e[p]+(h||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&J(e[g]))return ut(ut({},e),{},xs({},g,e[g]+(d||0)))}return e},Foe=function(e,n,r){return ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},TD=function(e,n,r,i,o){var a=n.props.children,s=Zn(a,Xm).filter(function(u){return Foe(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var h=on(c,r);if(ve(h))return u;var d=Array.isArray(h)?[Hm(h),Wm(h)]:[h,h],p=l.reduce(function(g,m){var v=on(c,m,0),y=d[0]-Math.abs(Array.isArray(v)?v[0]:v),w=d[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Uoe=function(e,n,r,i,o){var a=n.map(function(s){return TD(e,s,r,o,i)}).filter(function(s){return!ve(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},AD=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&TD(e,l,u,i)||$u(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,h=u.length;c<h;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},PD=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},ID=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},oi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?hn(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(h){var d=o?o.indexOf(h):h;return{coordinate:i(d)+u,value:h,offset:u}});return c.filter(function(h){return!pf(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,d){return{coordinate:i(h)+u,value:h,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,d){return{coordinate:i(h)+u,value:o?o[h]:h,index:d,offset:u}})},Dy=new WeakMap,yh=function(e,n){if(typeof n!="function")return e;Dy.has(e)||Dy.set(e,new WeakMap);var r=Dy.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},OD=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:bc(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Zd(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Mu(),realScaleType:"point"}:o==="category"?{scale:bc(),realScaleType:"band"}:{scale:Zd(),realScaleType:"linear"};if(va(i)){var l="scale".concat(Cm(i));return{scale:(pP[l]||Mu)(),realScaleType:pP[l]?l:"point"}}return fe(i)?{scale:i}:{scale:Mu(),realScaleType:"point"}},SP=1e-4,CD=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-SP,a=Math.max(i[0],i[1])+SP,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Boe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},zoe=function(e,n){if(!n||n.length!==2||!J(n[0])||!J(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!J(e[0])||e[0]<r)&&(o[0]=r),(!J(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Woe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=pf(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},Hoe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=pf(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},qoe={sign:Woe,expand:pq,none:Fs,silhouette:mq,wiggle:gq,positive:Hoe},Goe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=qoe[r],a=dq().keys(i).value(function(s,l){return+on(s,l,0)}).order(_0).offset(o);return a(e)},Koe=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(h,d){var p,g=(p=d.type)!==null&&p!==void 0&&p.defaultProps?ut(ut({},d.type.defaultProps),d.props):d.props,m=g.stackId,v=g.hide;if(v)return h;var y=g[r],w=h[y]||{hasStack:!1,stackGroups:{}};if(Tt(m)){var b=w.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(d),w.hasStack=!0,w.stackGroups[m]=b}else w.stackGroups[mf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return ut(ut({},h),{},xs({},y,w))},l),c={};return Object.keys(u).reduce(function(h,d){var p=u[d];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var y=p.stackGroups[v];return ut(ut({},m),{},xs({},v,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:Goe(e,y.items,o)}))},g)}return ut(ut({},h),{},xs({},d,p))},c)},kD=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=uoe(u,o,s);return e.domain([Hm(c),Wm(c)]),{niceTicks:c}}if(o&&i==="number"){var h=e.domain(),d=coe(h,o,s);return{niceTicks:d}}return null},EP=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=on(a,n.dataKey,n.domain[s]);return ve(l)?null:n.scale(l)-o/2+i},Xoe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Yoe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ut(ut({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Tt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},Qoe=function(e){return e.reduce(function(n,r){return[Hm(r.concat([n[0]]).filter(J)),Wm(r.concat([n[1]]).filter(J))]},[1/0,-1/0])},ND=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var h=Qoe(c.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},TP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,X0=function(e,n,r){if(fe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(J(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(TP.test(e[0])){var o=+TP.exec(e[0])[1];i[0]=n[0]-o}else fe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(J(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(AP.test(e[1])){var a=+AP.exec(e[1])[1];i[1]=n[1]+a}else fe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},ap=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=Yw(n,function(h){return h.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},PP=function(e,n,r){return!e||!e.length||qm(e,Ln(r,"type.defaultProps.domain"))?n:e},RD=function(e,n){var r=e.type.defaultProps?ut(ut({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return ut(ut({},ue(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:x1(e),value:on(n,i),type:l,payload:n,chartType:u,hide:c})};function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){jD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jD(t,e,n){return e=Joe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Joe(t){var e=Zoe(t,"string");return Oc(e)=="symbol"?e:e+""}function Zoe(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eae(t,e){return iae(t)||rae(t,e)||nae(t,e)||tae()}function tae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nae(t,e){if(t){if(typeof t=="string")return OP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OP(t,e)}}function OP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function iae(t){if(Array.isArray(t))return t}var sp=Math.PI/180,oae=function(e){return e*180/Math.PI},He=function(e,n,r,i){return{x:e+Math.cos(-sp*i)*r,y:n+Math.sin(-sp*i)*r}},DD=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},aae=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=dn(e.cx,a,a/2),h=dn(e.cy,s,s/2),d=DD(a,s,r),p=dn(e.innerRadius,d,0),g=dn(e.outerRadius,d,d*.8),m=Object.keys(n);return m.reduce(function(v,y){var w=n[y],b=w.domain,I=w.reversed,T;if(ve(w.range))i==="angleAxis"?T=[l,u]:i==="radiusAxis"&&(T=[p,g]),I&&(T=[T[1],T[0]]);else{T=w.range;var P=T,S=eae(P,2);l=S[0],u=S[1]}var E=OD(w,o),O=E.realScaleType,k=E.scale;k.domain(b).range(T),CD(k);var C=kD(k,Xr(Xr({},w),{},{realScaleType:O})),R=Xr(Xr(Xr({},w),C),{},{range:T,radius:g,realScaleType:O,scale:k,cx:c,cy:h,innerRadius:p,outerRadius:g,startAngle:l,endAngle:u});return Xr(Xr({},v),{},jD({},y,R))},{})},sae=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},lae=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=sae({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:oae(u),angleInRadian:u}},uae=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},cae=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},CP=function(e,n){var r=e.x,i=e.y,o=lae({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=uae(n),h=c.startAngle,d=c.endAngle,p=s,g;if(h<=d){for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}else{for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}return g?Xr(Xr({},n),{},{radius:a,angle:cae(p,n)}):null},MD=function(e){return!M.isValidElement(e)&&!fe(e)&&typeof e!="boolean"?e.className:""};function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}var fae=["offset"];function hae(t){return gae(t)||mae(t)||pae(t)||dae()}function dae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pae(t,e){if(t){if(typeof t=="string")return Y0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y0(t,e)}}function mae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gae(t){if(Array.isArray(t))return Y0(t)}function Y0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yae(t,e){if(t==null)return{};var n=vae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){_ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ae(t,e,n){return e=bae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bae(t){var e=wae(t,"string");return Cc(e)=="symbol"?e:e+""}function wae(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kc.apply(this,arguments)}var xae=function(e){var n=e.value,r=e.formatter,i=ve(e.children)?n:e.children;return fe(r)?r(i):i},Sae=function(e,n){var r=hn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Eae=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,h=l.innerRadius,d=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,v=(h+d)/2,y=Sae(p,g),w=y>=0?1:-1,b,I;i==="insideStart"?(b=p+w*a,I=m):i==="insideEnd"?(b=g-w*a,I=!m):i==="end"&&(b=g+w*a,I=m),I=y<=0?I:!I;var T=He(u,c,v,b),P=He(u,c,v,b+(I?1:-1)*359),S="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(I?0:1,`,
    `).concat(P.x,",").concat(P.y),E=ve(e.id)?mf("recharts-radial-line-"):e.id;return D.createElement("text",kc({},r,{dominantBaseline:"central",className:ye("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:E,d:S})),D.createElement("textPath",{xlinkHref:"#".concat(E)},n))},Tae=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,h=o.endAngle,d=(c+h)/2;if(i==="outside"){var p=He(a,s,u+r,d),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,y=He(a,s,v,d),w=y.x,b=y.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Aae=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,h=c>=0?1:-1,d=h*i,p=h>0?"end":"start",g=h>0?"start":"end",m=u>=0?1:-1,v=m*i,y=m>0?"end":"start",w=m>0?"start":"end";if(o==="top"){var b={x:s+u/2,y:l-h*i,textAnchor:"middle",verticalAnchor:p};return wt(wt({},b),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var I={x:s+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:g};return wt(wt({},I),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var T={x:s-v,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return wt(wt({},T),r?{width:Math.max(T.x-r.x,0),height:c}:{})}if(o==="right"){var P={x:s+u+v,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return wt(wt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:c}:{})}var S=r?{width:u,height:c}:{};return o==="insideLeft"?wt({x:s+v,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},S):o==="insideRight"?wt({x:s+u-v,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},S):o==="insideTop"?wt({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:g},S):o==="insideBottom"?wt({x:s+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},S):o==="insideTopLeft"?wt({x:s+v,y:l+d,textAnchor:w,verticalAnchor:g},S):o==="insideTopRight"?wt({x:s+u-v,y:l+d,textAnchor:y,verticalAnchor:g},S):o==="insideBottomLeft"?wt({x:s+v,y:l+c-d,textAnchor:w,verticalAnchor:p},S):o==="insideBottomRight"?wt({x:s+u-v,y:l+c-d,textAnchor:y,verticalAnchor:p},S):bl(o)&&(J(o.x)||Go(o.x))&&(J(o.y)||Go(o.y))?wt({x:s+dn(o.x,u),y:l+dn(o.y,c),textAnchor:"end",verticalAnchor:"end"},S):wt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Pae=function(e){return"cx"in e&&J(e.cx)};function kt(t){var e=t.offset,n=e===void 0?5:e,r=yae(t,fae),i=wt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,h=c===void 0?"":c,d=i.textBreakAll;if(!o||ve(s)&&ve(l)&&!M.isValidElement(u)&&!fe(u))return null;if(M.isValidElement(u))return M.cloneElement(u,i);var p;if(fe(u)){if(p=M.createElement(u,i),M.isValidElement(p))return p}else p=xae(i);var g=Pae(o),m=ue(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Eae(i,p,m);var v=g?Tae(i):Aae(i);return D.createElement(ba,kc({className:ye("recharts-label",h)},m,v,{breakAll:d}),p)}kt.displayName="Label";var $D=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,h=e.x,d=e.y,p=e.top,g=e.left,m=e.width,v=e.height,y=e.clockWise,w=e.labelViewBox;if(w)return w;if(J(m)&&J(v)){if(J(h)&&J(d))return{x:h,y:d,width:m,height:v};if(J(p)&&J(g))return{x:p,y:g,width:m,height:v}}return J(h)&&J(d)?{x:h,y:d,width:0,height:0}:J(n)&&J(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},Iae=function(e,n){return e?e===!0?D.createElement(kt,{key:"label-implicit",viewBox:n}):Tt(e)?D.createElement(kt,{key:"label-implicit",viewBox:n,value:e}):M.isValidElement(e)?e.type===kt?M.cloneElement(e,{key:"label-implicit",viewBox:n}):D.createElement(kt,{key:"label-implicit",content:e,viewBox:n}):fe(e)?D.createElement(kt,{key:"label-implicit",content:e,viewBox:n}):bl(e)?D.createElement(kt,kc({viewBox:n},e,{key:"label-implicit"})):null:null},Oae=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=$D(e),a=Zn(i,kt).map(function(l,u){return M.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Iae(e.label,n||o);return[s].concat(hae(a))};kt.parseViewBox=$D;kt.renderCallByParent=Oae;function Cae(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var kae=Cae;const Nae=De(kae);function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}var Rae=["valueAccessor"],jae=["data","dataKey","clockWise","id","textBreakAll"];function Dae(t){return Vae(t)||Lae(t)||$ae(t)||Mae()}function Mae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ae(t,e){if(t){if(typeof t=="string")return Q0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q0(t,e)}}function Lae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vae(t){if(Array.isArray(t))return Q0(t)}function Q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lp.apply(this,arguments)}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){Fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fae(t,e,n){return e=Uae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uae(t){var e=Bae(t,"string");return Nc(e)=="symbol"?e:e+""}function Bae(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jP(t,e){if(t==null)return{};var n=zae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Wae=function(e){return Array.isArray(e.value)?Nae(e.value):e.value};function so(t){var e=t.valueAccessor,n=e===void 0?Wae:e,r=jP(t,Rae),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=jP(r,jae);return!i||!i.length?null:D.createElement(Ne,{className:"recharts-label-list"},i.map(function(c,h){var d=ve(o)?n(c,h):on(c&&c.payload,o),p=ve(s)?{}:{id:"".concat(s,"-").concat(h)};return D.createElement(kt,lp({},ue(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:kt.parseViewBox(ve(a)?c:RP(RP({},c),{},{clockWise:a})),key:"label-".concat(h),index:h}))}))}so.displayName="LabelList";function Hae(t,e){return t?t===!0?D.createElement(so,{key:"labelList-implicit",data:e}):D.isValidElement(t)||fe(t)?D.createElement(so,{key:"labelList-implicit",data:e,content:t}):bl(t)?D.createElement(so,lp({data:e},t,{key:"labelList-implicit"})):null:null}function qae(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Zn(r,so).map(function(a,s){return M.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Hae(t.label,e);return[o].concat(Dae(i))}so.renderCallByParent=qae;function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J0.apply(this,arguments)}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){Gae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gae(t,e,n){return e=Kae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kae(t){var e=Xae(t,"string");return Rc(e)=="symbol"?e:e+""}function Xae(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yae=function(e,n){var r=hn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},vh=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,h=Math.asin(l/c)/sp,d=u?o:o+a*h,p=He(n,r,c,d),g=He(n,r,i,d),m=u?o-a*h:o,v=He(n,r,c*Math.cos(h*sp),m);return{center:p,circleTangency:g,lineTangency:v,theta:h}},LD=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=Yae(a,s),u=a+l,c=He(n,r,o,a),h=He(n,r,o,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=He(n,r,i,a),g=He(n,r,i,u);d+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},Qae=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,h=hn(c-u),d=vh({cx:n,cy:r,radius:o,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),p=d.circleTangency,g=d.lineTangency,m=d.theta,v=vh({cx:n,cy:r,radius:o,angle:c,sign:-h,cornerRadius:a,cornerIsExternal:l}),y=v.circleTangency,w=v.lineTangency,b=v.theta,I=l?Math.abs(u-c):Math.abs(u-c)-m-b;if(I<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):LD({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var T="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(I>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var P=vh({cx:n,cy:r,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),S=P.circleTangency,E=P.lineTangency,O=P.theta,k=vh({cx:n,cy:r,radius:i,angle:c,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),C=k.circleTangency,R=k.lineTangency,N=k.theta,V=l?Math.abs(u-c):Math.abs(u-c)-O-N;if(V<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},Jae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VD=function(e){var n=MP(MP({},Jae),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,h=n.endAngle,d=n.className;if(a<o||c===h)return null;var p=ye("recharts-sector",d),g=a-o,m=dn(s,g,0,!0),v;return m>0&&Math.abs(c-h)<360?v=Qae({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:h}):v=LD({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:h}),D.createElement("path",J0({},ue(n,!0),{className:p,d:v,role:"img"}))};function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z0.apply(this,arguments)}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){Zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zae(t,e,n){return e=ese(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ese(t){var e=tse(t,"string");return jc(e)=="symbol"?e:e+""}function tse(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VP={curveBasisClosed:nq,curveBasisOpen:rq,curveBasis:tq,curveBumpX:UH,curveBumpY:BH,curveLinearClosed:iq,curveLinear:Nm,curveMonotoneX:oq,curveMonotoneY:aq,curveNatural:sq,curveStep:lq,curveStepAfter:cq,curveStepBefore:uq},_h=function(e){return e.x===+e.x&&e.y===+e.y},su=function(e){return e.x},lu=function(e){return e.y},nse=function(e,n){if(fe(e))return e;var r="curve".concat(Cm(e));return(r==="curveMonotone"||r==="curveBump")&&n?VP["".concat(r).concat(n==="vertical"?"Y":"X")]:VP[r]||Nm},rse=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=nse(r,s),h=u?o.filter(function(m){return _h(m)}):o,d;if(Array.isArray(a)){var p=u?a.filter(function(m){return _h(m)}):a,g=h.map(function(m,v){return LP(LP({},m),{},{base:p[v]})});return s==="vertical"?d=uh().y(lu).x1(su).x0(function(m){return m.base.x}):d=uh().x(su).y1(lu).y0(function(m){return m.base.y}),d.defined(_h).curve(c),d(g)}return s==="vertical"&&J(a)?d=uh().y(lu).x1(su).x0(a):J(a)?d=uh().x(su).y1(lu).y0(a):d=RR().x(su).y(lu),d.defined(_h).curve(c),d(h)},e_=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?rse(e):i;return M.createElement("path",Z0({},ue(e,!1),Rd(e),{className:ye("recharts-curve",n),d:a,ref:o}))},FD={exports:{}},ise="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ose=ise,ase=ose;function UD(){}function BD(){}BD.resetWarningCache=UD;var sse=function(){function t(r,i,o,a,s,l){if(l!==ase){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:BD,resetWarningCache:UD};return n.PropTypes=n,n};FD.exports=sse();var lse=FD.exports;const ke=De(lse);var use=Object.getOwnPropertyNames,cse=Object.getOwnPropertySymbols,fse=Object.prototype.hasOwnProperty;function FP(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function bh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function UP(t){return use(t).concat(cse(t))}var hse=Object.hasOwn||function(t,e){return fse.call(t,e)};function Na(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var dse="__v",pse="__o",mse="_owner",BP=Object.getOwnPropertyDescriptor,zP=Object.keys;function gse(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function yse(t,e){return Na(t.getTime(),e.getTime())}function vse(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function _se(t,e){return t===e}function WP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),c=!1,h=0;(s=u.next())&&!s.done;){if(i[h]){h++;continue}var d=a.value,p=s.value;if(n.equals(d[0],p[0],l,h,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){c=i[h]=!0;break}h++}if(!c)return!1;l++}return!0}var bse=Na;function wse(t,e,n){var r=zP(t),i=r.length;if(zP(e).length!==i)return!1;for(;i-- >0;)if(!zD(t,e,n,r[i]))return!1;return!0}function uu(t,e,n){var r=UP(t),i=r.length;if(UP(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!zD(t,e,n,o)||(a=BP(t,o),s=BP(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function xse(t,e){return Na(t.valueOf(),e.valueOf())}function Sse(t,e){return t.source===e.source&&t.flags===e.flags}function HP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Ese(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Tse(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function zD(t,e,n,r){return(r===mse||r===pse||r===dse)&&(t.$$typeof||e.$$typeof)?!0:hse(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Ase="[object Arguments]",Pse="[object Boolean]",Ise="[object Date]",Ose="[object Error]",Cse="[object Map]",kse="[object Number]",Nse="[object Object]",Rse="[object RegExp]",jse="[object Set]",Dse="[object String]",Mse="[object URL]",$se=Array.isArray,qP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,GP=Object.assign,Lse=Object.prototype.toString.call.bind(Object.prototype.toString);function Vse(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,h=t.areTypedArraysEqual,d=t.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var y=typeof g;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?a(g,m,v):y==="function"?i(g,m,v):!1;var w=g.constructor;if(w!==m.constructor)return!1;if(w===Object)return s(g,m,v);if($se(g))return e(g,m,v);if(qP!=null&&qP(g))return h(g,m,v);if(w===Date)return n(g,m,v);if(w===RegExp)return u(g,m,v);if(w===Map)return o(g,m,v);if(w===Set)return c(g,m,v);var b=Lse(g);return b===Ise?n(g,m,v):b===Rse?u(g,m,v):b===Cse?o(g,m,v):b===jse?c(g,m,v):b===Nse?typeof g.then!="function"&&typeof m.then!="function"&&s(g,m,v):b===Mse?d(g,m,v):b===Ose?r(g,m,v):b===Ase?s(g,m,v):b===Pse||b===kse||b===Dse?l(g,m,v):!1}}function Fse(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?uu:gse,areDatesEqual:yse,areErrorsEqual:vse,areFunctionsEqual:_se,areMapsEqual:r?FP(WP,uu):WP,areNumbersEqual:bse,areObjectsEqual:r?uu:wse,arePrimitiveWrappersEqual:xse,areRegExpsEqual:Sse,areSetsEqual:r?FP(HP,uu):HP,areTypedArraysEqual:r?uu:Ese,areUrlsEqual:Tse};if(n&&(i=GP({},i,n(i))),e){var o=bh(i.areArraysEqual),a=bh(i.areMapsEqual),s=bh(i.areObjectsEqual),l=bh(i.areSetsEqual);i=GP({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function Use(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Bse(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),h=c.cache,d=h===void 0?e?new WeakMap:void 0:h,p=c.meta;return n(l,u,{cache:d,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var zse=Ao();Ao({strict:!0});Ao({circular:!0});Ao({circular:!0,strict:!0});Ao({createInternalComparator:function(){return Na}});Ao({strict:!0,createInternalComparator:function(){return Na}});Ao({circular:!0,createInternalComparator:function(){return Na}});Ao({circular:!0,createInternalComparator:function(){return Na},strict:!0});function Ao(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=Fse(t),l=Vse(s),u=r?r(l):Use(l);return Bse({circular:n,comparator:l,createState:i,equals:u,strict:a})}function Wse(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function KP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Wse(i)};requestAnimationFrame(r)}function t_(t){"@babel/helpers - typeof";return t_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t_(t)}function Hse(t){return Xse(t)||Kse(t)||Gse(t)||qse()}function qse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gse(t,e){if(t){if(typeof t=="string")return XP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XP(t,e)}}function XP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xse(t){if(Array.isArray(t))return t}function Yse(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Hse(a),l=s[0],u=s.slice(1);if(typeof l=="number"){KP(i.bind(null,u),l);return}i(l),KP(i.bind(null,u));return}t_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){WD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WD(t,e,n){return e=Qse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qse(t){var e=Jse(t,"string");return Dc(e)==="symbol"?e:String(e)}function Jse(t,e){if(Dc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zse=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},ele=function(e){return e},tle=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Lu=function(e,n){return Object.keys(n).reduce(function(r,i){return QP(QP({},r),{},WD({},i,e(i,n[i])))},{})},JP=function(e,n,r){return e.map(function(i){return"".concat(tle(i)," ").concat(n,"ms ").concat(r)}).join(",")};function nle(t,e){return ole(t)||ile(t,e)||HD(t,e)||rle()}function rle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ile(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ole(t){if(Array.isArray(t))return t}function ale(t){return ule(t)||lle(t)||HD(t)||sle()}function sle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HD(t,e){if(t){if(typeof t=="string")return n_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n_(t,e)}}function lle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ule(t){if(Array.isArray(t))return n_(t)}function n_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var up=1e-4,qD=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},GD=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},ZP=function(e,n){return function(r){var i=qD(e,n);return GD(i,r)}},cle=function(e,n){return function(r){var i=qD(e,n),o=[].concat(ale(i.map(function(a,s){return a*s}).slice(1)),[0]);return GD(o,r)}},eI=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=nle(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var h=ZP(i,a),d=ZP(o,s),p=cle(i,a),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var w=y>1?1:y,b=w,I=0;I<8;++I){var T=h(b)-w,P=p(b);if(Math.abs(T-w)<up||P<up)return d(b);b=g(b-T/P)}return d(b)};return m.isStepper=!1,m},fle=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,h,d){var p=-(c-h)*r,g=d*o,m=d+(p-g)*s/1e3,v=d*s/1e3+c;return Math.abs(v-h)<up&&Math.abs(m)<up?[h,0]:[v,m]};return l.isStepper=!0,l.dt=s,l},hle=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return eI(i);case"spring":return fle();default:if(i.split("(")[0]==="cubic-bezier")return eI(i)}return typeof i=="function"?i:null};function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function tI(t){return mle(t)||ple(t)||KD(t)||dle()}function dle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ple(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mle(t){if(Array.isArray(t))return i_(t)}function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){r_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r_(t,e,n){return e=gle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gle(t){var e=yle(t,"string");return Mc(e)==="symbol"?e:String(e)}function yle(t,e){if(Mc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vle(t,e){return wle(t)||ble(t,e)||KD(t,e)||_le()}function _le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KD(t,e){if(t){if(typeof t=="string")return i_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i_(t,e)}}function i_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ble(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function wle(t){if(Array.isArray(t))return t}var cp=function(e,n,r){return e+(n-e)*r},o_=function(e){var n=e.from,r=e.to;return n!==r},xle=function t(e,n,r){var i=Lu(function(o,a){if(o_(a)){var s=e(a.from,a.to,a.velocity),l=vle(s,2),u=l[0],c=l[1];return Mt(Mt({},a),{},{from:u,velocity:c})}return a},n);return r<1?Lu(function(o,a){return o_(a)?Mt(Mt({},a),{},{velocity:cp(a.velocity,i[o].velocity,r),from:cp(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Sle=function(t,e,n,r,i){var o=Zse(t,e),a=o.reduce(function(v,y){return Mt(Mt({},v),{},r_({},y,[t[y],e[y]]))},{}),s=o.reduce(function(v,y){return Mt(Mt({},v),{},r_({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,c,h=function(){return null},d=function(){return Lu(function(y,w){return w.from},s)},p=function(){return!Object.values(s).filter(o_).length},g=function(y){u||(u=y);var w=y-u,b=w/n.dt;s=xle(n,s,b),i(Mt(Mt(Mt({},t),e),d())),u=y,p()||(l=requestAnimationFrame(h))},m=function(y){c||(c=y);var w=(y-c)/r,b=Lu(function(T,P){return cp.apply(void 0,tI(P).concat([n(w)]))},a);if(i(Mt(Mt(Mt({},t),e),b)),w<1)l=requestAnimationFrame(h);else{var I=Lu(function(T,P){return cp.apply(void 0,tI(P).concat([n(1)]))},a);i(Mt(Mt(Mt({},t),e),I))}};return h=n.isStepper?g:m,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}var Ele=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Tle(t,e){if(t==null)return{};var n=Ale(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ale(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function My(t){return Cle(t)||Ole(t)||Ile(t)||Ple()}function Ple(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ile(t,e){if(t){if(typeof t=="string")return a_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(t,e)}}function Ole(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cle(t){if(Array.isArray(t))return a_(t)}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){_u(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _u(t,e,n){return e=XD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XD(r.key),r)}}function Nle(t,e,n){return e&&iI(t.prototype,e),n&&iI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XD(t){var e=Rle(t,"string");return Xs(e)==="symbol"?e:String(e)}function Rle(t,e){if(Xs(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s_(t,e)}function s_(t,e){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s_(t,e)}function Dle(t){var e=Mle();return function(){var r=fp(t),i;if(e){var o=fp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return l_(this,i)}}function l_(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u_(t)}function u_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fp(t)}var Ym=function(t){jle(n,t);var e=Dle(n);function n(r,i){var o;kle(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,h=a.steps,d=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(u_(o)),o.changeStyle=o.changeStyle.bind(u_(o)),!s||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),l_(o);if(h&&h.length)o.state={style:h[0].style};else if(u){if(typeof d=="function")return o.state={style:u},l_(o);o.state={style:l?_u({},l,u):u}}else o.state={style:{}};return o}return Nle(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,h=o.from,d=this.state.style;if(s){if(!a){var p={style:l?_u({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(zse(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?h:i.to;if(this.state&&d){var v={style:l?_u({},l,m):m};(l&&d[l]!==m||!l&&d!==m)&&this.setState(v)}this.runAnimation(lr(lr({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,h=i.onAnimationEnd,d=i.onAnimationStart,p=Sle(a,s,hle(u),l,this.changeStyle),g=function(){o.stopJSAnimation=p()};this.manager.start([d,c,g,l,h])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,h=u.duration,d=h===void 0?0:h,p=function(m,v,y){if(y===0)return m;var w=v.duration,b=v.easing,I=b===void 0?"ease":b,T=v.style,P=v.properties,S=v.onAnimationEnd,E=y>0?a[y-1]:v,O=P||Object.keys(T);if(typeof I=="function"||I==="spring")return[].concat(My(m),[o.runJSAnimation.bind(o,{from:E.style,to:T,duration:w,easing:I}),w]);var k=JP(O,w,I),C=lr(lr(lr({},E.style),T),{},{transition:k});return[].concat(My(m),[C,w,S]).filter(ele)};return this.manager.start([l].concat(My(a.reduce(p,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Yse());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,h=i.onAnimationEnd,d=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var m=s?_u({},s,l):l,v=JP(Object.keys(m),a,u);g.start([c,o,lr(lr({},m),{},{transition:v}),a,h])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Tle(i,Ele),u=M.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var h=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,y=g.className,w=M.cloneElement(p,lr(lr({},l),{},{style:lr(lr({},v),c),className:y}));return w};return u===1?h(M.Children.only(o)):D.createElement("div",null,M.Children.map(o,function(d){return h(d)}))}}]),n}(M.PureComponent);Ym.displayName="Animate";Ym.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ym.propTypes={from:ke.oneOfType([ke.object,ke.string]),to:ke.oneOfType([ke.object,ke.string]),attributeName:ke.string,duration:ke.number,begin:ke.number,easing:ke.oneOfType([ke.string,ke.func]),steps:ke.arrayOf(ke.shape({duration:ke.number.isRequired,style:ke.object.isRequired,easing:ke.oneOfType([ke.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ke.func]),properties:ke.arrayOf("string"),onAnimationEnd:ke.func})),children:ke.oneOfType([ke.node,ke.func]),isActive:ke.bool,canBegin:ke.bool,onAnimationEnd:ke.func,shouldReAnimate:ke.bool,onAnimationStart:ke.func,onAnimationReStart:ke.func};const Ys=Ym;function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hp.apply(this,arguments)}function $le(t,e){return Ule(t)||Fle(t,e)||Vle(t,e)||Lle()}function Lle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vle(t,e){if(t){if(typeof t=="string")return oI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oI(t,e)}}function oI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ule(t){if(Array.isArray(t))return t}function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(r){Ble(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ble(t,e,n){return e=zle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zle(t){var e=Wle(t,"string");return $c(e)=="symbol"?e:e+""}function Wle(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lI=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var h=[0,0,0,0],d=0,p=4;d<p;d++)h[d]=o[d]>a?a:o[d];c="M".concat(e,",").concat(n+s*h[0]),h[0]>0&&(c+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(n)),c+="L ".concat(e+r-l*h[1],",").concat(n),h[1]>0&&(c+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*h[1])),c+="L ".concat(e+r,",").concat(n+i-s*h[2]),h[2]>0&&(c+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-l*h[2],",").concat(n+i)),c+="L ".concat(e+l*h[3],",").concat(n+i),h[3]>0&&(c+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*h[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var g=Math.min(a,o);c="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Hle=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),h=Math.min(a,a+l),d=Math.max(a,a+l);return r>=u&&r<=c&&i>=h&&i<=d}return!1},qle={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},S1=function(e){var n=sI(sI({},qle),e),r=M.useRef(),i=M.useState(-1),o=$le(i,2),a=o[0],s=o[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&s(I)}catch{}},[]);var l=n.x,u=n.y,c=n.width,h=n.height,d=n.radius,p=n.className,g=n.animationEasing,m=n.animationDuration,v=n.animationBegin,y=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||h!==+h||c===0||h===0)return null;var b=ye("recharts-rectangle",p);return w?D.createElement(Ys,{canBegin:a>0,from:{width:c,height:h,x:l,y:u},to:{width:c,height:h,x:l,y:u},duration:m,animationEasing:g,isActive:w},function(I){var T=I.width,P=I.height,S=I.x,E=I.y;return D.createElement(Ys,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},D.createElement("path",hp({},ue(n,!0),{className:b,d:lI(S,E,T,P,d),ref:r})))}):D.createElement("path",hp({},ue(n,!0),{className:b,d:lI(l,u,c,h,d)}))},Gle=["points","className","baseLinePoints","connectNulls"];function as(){return as=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},as.apply(this,arguments)}function Kle(t,e){if(t==null)return{};var n=Xle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uI(t){return Zle(t)||Jle(t)||Qle(t)||Yle()}function Yle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qle(t,e){if(t){if(typeof t=="string")return c_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(t,e)}}function Jle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zle(t){if(Array.isArray(t))return c_(t)}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cI=function(e){return e&&e.x===+e.x&&e.y===+e.y},eue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){cI(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),cI(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Vu=function(e,n){var r=eue(e);n&&(r=[r.reduce(function(o,a){return[].concat(uI(o),uI(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},tue=function(e,n,r){var i=Vu(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Vu(n.reverse(),r).slice(1))},nue=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=Kle(e,Gle);if(!n||!n.length)return null;var s=ye("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=tue(n,i,o);return D.createElement("g",{className:s},D.createElement("path",as({},ue(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?D.createElement("path",as({},ue(a,!0),{fill:"none",d:Vu(n,o)})):null,l?D.createElement("path",as({},ue(a,!0),{fill:"none",d:Vu(i,o)})):null)}var c=Vu(n,o);return D.createElement("path",as({},ue(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f_.apply(this,arguments)}var E1=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=ye("recharts-dot",o);return n===+n&&r===+r&&i===+i?M.createElement("circle",f_({},ue(e,!1),Rd(e),{className:a,cx:n,cy:r,r:i})):null};function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}var rue=["x","y","top","left","width","height","className"];function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(this,arguments)}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){oue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oue(t,e,n){return e=aue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aue(t){var e=sue(t,"string");return Lc(e)=="symbol"?e:e+""}function sue(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lue(t,e){if(t==null)return{};var n=uue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cue=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},fue=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,h=c===void 0?0:c,d=e.height,p=d===void 0?0:d,g=e.className,m=lue(e,rue),v=iue({x:r,y:o,top:s,left:u,width:h,height:p},m);return!J(r)||!J(o)||!J(h)||!J(p)||!J(s)||!J(u)?null:D.createElement("path",h_({},ue(v,!0),{className:ye("recharts-cross",g),d:cue(r,o,h,p,s,u)}))},hue=zm,due=sD,pue=zr;function mue(t,e){return t&&t.length?hue(t,pue(e),due):void 0}var gue=mue;const yue=De(gue);var vue=zm,_ue=zr,bue=lD;function wue(t,e){return t&&t.length?vue(t,_ue(e),bue):void 0}var xue=wue;const Sue=De(xue);var Eue=["cx","cy","angle","ticks","axisLine"],Tue=["ticks","tick","angle","tickFormatter","stroke"];function Qs(t){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(t)}function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fu.apply(this,arguments)}function hI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(n),!0).forEach(function(r){Qm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dI(t,e){if(t==null)return{};var n=Aue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Aue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QD(r.key),r)}}function Iue(t,e,n){return e&&pI(t.prototype,e),n&&pI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oue(t,e,n){return e=dp(e),Cue(t,YD()?Reflect.construct(e,n||[],dp(t).constructor):e.apply(t,n))}function Cue(t,e){if(e&&(Qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kue(t)}function kue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YD=function(){return!!t})()}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dp(t)}function Nue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d_(t,e)}function d_(t,e){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d_(t,e)}function Qm(t,e,n){return e=QD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QD(t){var e=Rue(t,"string");return Qs(e)=="symbol"?e:e+""}function Rue(t,e){if(Qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jm=function(t){function e(){return Pue(this,e),Oue(this,e,arguments)}return Nue(e,t),Iue(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return He(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=yue(s,function(c){return c.coordinate||0}),u=Sue(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=dI(r,Eue),c=s.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),h=He(i,o,c[0],a),d=He(i,o,c[1],a),p=Ro(Ro(Ro({},ue(u,!1)),{},{fill:"none"},ue(l,!1)),{},{x1:h.x,y1:h.y,x2:d.x,y2:d.y});return D.createElement("line",Fu({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=dI(i,Tue),h=this.getTickTextAnchor(),d=ue(c,!1),p=ue(a,!1),g=o.map(function(m,v){var y=r.getTickValueCoord(m),w=Ro(Ro(Ro(Ro({textAnchor:h,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},d),{},{stroke:"none",fill:u},p),{},{index:v},y),{},{payload:m});return D.createElement(Ne,Fu({className:ye("recharts-polar-radius-axis-tick",MD(a)),key:"tick-".concat(m.coordinate)},_a(r.props,m,v)),e.renderTickItem(a,w,l?l(m.value,v):m.value))});return D.createElement(Ne,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:D.createElement(Ne,{className:ye("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),kt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return D.isValidElement(r)?a=D.cloneElement(r,i):fe(r)?a=r(i):a=D.createElement(ba,Fu({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(M.PureComponent);Qm(Jm,"displayName","PolarRadiusAxis");Qm(Jm,"axisType","radiusAxis");Qm(Jm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function Uo(){return Uo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uo.apply(this,arguments)}function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){Zm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZD(r.key),r)}}function Due(t,e,n){return e&&gI(t.prototype,e),n&&gI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mue(t,e,n){return e=pp(e),$ue(t,JD()?Reflect.construct(e,n||[],pp(t).constructor):e.apply(t,n))}function $ue(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lue(t)}function Lue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JD=function(){return!!t})()}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pp(t)}function Vue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p_(t,e)}function p_(t,e){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p_(t,e)}function Zm(t,e,n){return e=ZD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZD(t){var e=Fue(t,"string");return Js(e)=="symbol"?e:e+""}function Fue(t,e){if(Js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uue=Math.PI/180,yI=1e-5,eg=function(t){function e(){return jue(this,e),Mue(this,e,arguments)}return Vue(e,t),Due(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,h=He(o,a,s,r.coordinate),d=He(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:h.x,y1:h.y,x2:d.x,y2:d.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*Uue),a;return o>yI?a=i==="outer"?"start":"end":o<-yI?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=jo(jo({},ue(this.props,!1)),{},{fill:"none"},ue(s,!1));if(l==="circle")return D.createElement(E1,Uo({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,h=c.map(function(d){return He(i,o,a,d.coordinate)});return D.createElement(nue,Uo({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=ue(this.props,!1),h=ue(a,!1),d=jo(jo({},c),{},{fill:"none"},ue(s,!1)),p=o.map(function(g,m){var v=r.getTickLineCoord(g),y=r.getTickTextAnchor(g),w=jo(jo(jo({textAnchor:y},c),{},{stroke:"none",fill:u},h),{},{index:m,payload:g,x:v.x2,y:v.y2});return D.createElement(Ne,Uo({className:ye("recharts-polar-angle-axis-tick",MD(a)),key:"tick-".concat(g.coordinate)},_a(r.props,g,m)),s&&D.createElement("line",Uo({className:"recharts-polar-angle-axis-tick-line"},d,v)),a&&e.renderTickItem(a,w,l?l(g.value,m):g.value))});return D.createElement(Ne,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:D.createElement(Ne,{className:ye("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return D.isValidElement(r)?a=D.cloneElement(r,i):fe(r)?a=r(i):a=D.createElement(ba,Uo({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(M.PureComponent);Zm(eg,"displayName","PolarAngleAxis");Zm(eg,"axisType","angleAxis");Zm(eg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Bue=rj,zue=Bue(Object.getPrototypeOf,Object),Wue=zue,Hue=Ei,que=Wue,Gue=Ti,Kue="[object Object]",Xue=Function.prototype,Yue=Object.prototype,eM=Xue.toString,Que=Yue.hasOwnProperty,Jue=eM.call(Object);function Zue(t){if(!Gue(t)||Hue(t)!=Kue)return!1;var e=que(t);if(e===null)return!0;var n=Que.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&eM.call(n)==Jue}var ece=Zue;const tce=De(ece);var nce=Ei,rce=Ti,ice="[object Boolean]";function oce(t){return t===!0||t===!1||rce(t)&&nce(t)==ice}var ace=oce;const sce=De(ace);function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mp.apply(this,arguments)}function lce(t,e){return hce(t)||fce(t,e)||cce(t,e)||uce()}function uce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cce(t,e){if(t){if(typeof t=="string")return vI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vI(t,e)}}function vI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function hce(t){if(Array.isArray(t))return t}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){dce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dce(t,e,n){return e=pce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pce(t){var e=mce(t,"string");return Vc(e)=="symbol"?e:e+""}function mce(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wI=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},gce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yce=function(e){var n=bI(bI({},gce),e),r=M.useRef(),i=M.useState(-1),o=lce(i,2),a=o[0],s=o[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&s(b)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,h=n.lowerWidth,d=n.height,p=n.className,g=n.animationEasing,m=n.animationDuration,v=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||h!==+h||d!==+d||c===0&&h===0||d===0)return null;var w=ye("recharts-trapezoid",p);return y?D.createElement(Ys,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:h,height:d,x:l,y:u},duration:m,animationEasing:g,isActive:y},function(b){var I=b.upperWidth,T=b.lowerWidth,P=b.height,S=b.x,E=b.y;return D.createElement(Ys,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},D.createElement("path",mp({},ue(n,!0),{className:w,d:wI(S,E,I,T,P),ref:r})))}):D.createElement("g",null,D.createElement("path",mp({},ue(n,!0),{className:w,d:wI(l,u,c,h,d)})))},vce=["option","shapeType","propTransformer","activeClassName","isActive"];function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function _ce(t,e){if(t==null)return{};var n=bce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){wce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wce(t,e,n){return e=xce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xce(t){var e=Sce(t,"string");return Fc(e)=="symbol"?e:e+""}function Sce(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ece(t,e){return gp(gp({},e),t)}function Tce(t,e){return t==="symbols"}function SI(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D.createElement(S1,n);case"trapezoid":return D.createElement(yce,n);case"sector":return D.createElement(VD,n);case"symbols":if(Tce(e))return D.createElement(Bw,n);break;default:return null}}function Ace(t){return M.isValidElement(t)?t.props:t}function tM(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Ece:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=_ce(t,vce),u;if(M.isValidElement(e))u=M.cloneElement(e,gp(gp({},l),Ace(e)));else if(fe(e))u=e(l);else if(tce(e)&&!sce(e)){var c=i(e,l);u=D.createElement(SI,{shapeType:n,elementProps:c})}else{var h=l;u=D.createElement(SI,{shapeType:n,elementProps:h})}return s?D.createElement(Ne,{className:a},u):u}function tg(t,e){return e!=null&&"trapezoids"in t.props}function ng(t,e){return e!=null&&"sectors"in t.props}function Uc(t,e){return e!=null&&"points"in t.props}function Pce(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Ice(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Oce(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Cce(t,e){var n;return tg(t,e)?n=Pce:ng(t,e)?n=Ice:Uc(t,e)&&(n=Oce),n}function kce(t,e){var n;return tg(t,e)?n="trapezoids":ng(t,e)?n="sectors":Uc(t,e)&&(n="points"),n}function Nce(t,e){if(tg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ng(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Uc(t,e)?e.payload:{}}function Rce(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=kce(n,e),o=Nce(n,e),a=r.filter(function(l,u){var c=qm(o,l),h=n.props[i].filter(function(g){var m=Cce(n,e);return m(g,e)}),d=n.props[i].indexOf(h[h.length-1]),p=u===d;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var Wh;function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ss.apply(this,arguments)}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rM(r.key),r)}}function Dce(t,e,n){return e&&TI(t.prototype,e),n&&TI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mce(t,e,n){return e=yp(e),$ce(t,nM()?Reflect.construct(e,n||[],yp(t).constructor):e.apply(t,n))}function $ce(t,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lce(t)}function Lce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nM=function(){return!!t})()}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yp(t)}function Vce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m_(t,e)}function m_(t,e){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m_(t,e)}function Kn(t,e,n){return e=rM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rM(t){var e=Fce(t,"string");return Zs(e)=="symbol"?e:e+""}function Fce(t,e){if(Zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fr=function(t){function e(n){var r;return jce(this,e),r=Mce(this,e,[n]),Kn(r,"pieRef",null),Kn(r,"sectorRefs",[]),Kn(r,"id",mf("recharts-pie-")),Kn(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),fe(i)&&i()}),Kn(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),fe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Vce(e,t),Dce(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=ue(this.props,!1),h=ue(a,!1),d=ue(s,!1),p=a&&a.offsetRadius||20,g=r.map(function(m,v){var y=(m.startAngle+m.endAngle)/2,w=He(m.cx,m.cy,m.outerRadius+p,y),b=Ue(Ue(Ue(Ue({},c),m),{},{stroke:"none"},h),{},{index:v,textAnchor:e.getTextAnchor(w.x,m.cx)},w),I=Ue(Ue(Ue(Ue({},c),m),{},{fill:"none",stroke:m.fill},d),{},{index:v,points:[He(m.cx,m.cy,m.outerRadius,y),w]}),T=l;return ve(l)&&ve(u)?T="value":ve(l)&&(T=u),D.createElement(Ne,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},s&&e.renderLabelLineItem(s,I,"line"),e.renderLabelItem(a,b,on(m,T)))});return D.createElement(Ne,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(c),d=l&&i.hasActiveIndex()?l:null,p=h?a:d,g=Ue(Ue({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return D.createElement(Ne,ss({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},_a(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),D.createElement(tM,ss({option:p,isActive:h,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,h=this.state,d=h.prevSectors,p=h.prevIsAnimationActive;return D.createElement(Ys,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],y=o&&o[0],w=y.startAngle;return o.forEach(function(b,I){var T=d&&d[I],P=I>0?Ln(b,"paddingAngle",0):0;if(T){var S=ji(T.endAngle-T.startAngle,b.endAngle-b.startAngle),E=Ue(Ue({},b),{},{startAngle:w+P,endAngle:w+S(m)+P});v.push(E),w=E.endAngle}else{var O=b.endAngle,k=b.startAngle,C=ji(0,O-k),R=C(m),N=Ue(Ue({},b),{},{startAngle:w+P,endAngle:w+R+P});v.push(N),w=N.endAngle}}),D.createElement(Ne,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!qm(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,h=i.innerRadius,d=i.outerRadius,p=i.isAnimationActive,g=this.state.isAnimationFinished;if(o||!a||!a.length||!J(u)||!J(c)||!J(h)||!J(d))return null;var m=ye("recharts-pie",s);return D.createElement(Ne,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){r.pieRef=y}},this.renderSectors(),l&&this.renderLabels(a),kt.renderCallByParent(this.props,null,!1),(!p||g)&&so.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(D.isValidElement(r))return D.cloneElement(r,i);if(fe(r))return r(i);var a=ye("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return D.createElement(e_,ss({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(D.isValidElement(r))return D.cloneElement(r,i);var a=o;if(fe(r)&&(a=r(i),D.isValidElement(a)))return a;var s=ye("recharts-pie-label-text",typeof r!="boolean"&&!fe(r)?r.className:"");return D.createElement(ba,ss({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(M.PureComponent);Wh=Fr;Kn(Fr,"displayName","Pie");Kn(Fr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ui.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Kn(Fr,"parseDeltaAngle",function(t,e){var n=hn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Kn(Fr,"getRealPieData",function(t){var e=t.data,n=t.children,r=ue(t,!1),i=Zn(n,yc);return e&&e.length?e.map(function(o,a){return Ue(Ue(Ue({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Ue(Ue({},r),o.props)}):[]});Kn(Fr,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=DD(i,o),s=r+dn(t.cx,i,i/2),l=n+dn(t.cy,o,o/2),u=dn(t.innerRadius,a,0),c=dn(t.outerRadius,a,a*.8),h=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:h}});Kn(Fr,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Ue(Ue({},e.type.defaultProps),e.props):e.props,i=Wh.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,h=r.valueKey,d=r.tooltipType,p=Math.abs(r.minAngle),g=Wh.parseCoordinateOfPie(r,n),m=Wh.parseDeltaAngle(a,s),v=Math.abs(m),y=u;ve(u)&&ve(h)?(gr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):ve(u)&&(gr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=h);var w=i.filter(function(E){return on(E,y,0)!==0}).length,b=(v>=360?w:w-1)*l,I=v-w*p-b,T=i.reduce(function(E,O){var k=on(O,y,0);return E+(J(k)?k:0)},0),P;if(T>0){var S;P=i.map(function(E,O){var k=on(E,y,0),C=on(E,c,O),R=(J(k)?k:0)/T,N;O?N=S.endAngle+hn(m)*l*(k!==0?1:0):N=a;var V=N+hn(m)*((k!==0?p:0)+R*I),F=(N+V)/2,W=(g.innerRadius+g.outerRadius)/2,H=[{name:C,value:k,payload:E,dataKey:y,type:d}],L=He(g.cx,g.cy,W,F);return S=Ue(Ue(Ue({percent:R,cornerRadius:o,name:C,tooltipPayload:H,midAngle:F,middleRadius:W,tooltipPosition:L},E),g),{},{value:on(E,y),startAngle:N,endAngle:V,payload:E,paddingAngle:hn(m)*l}),S})}return Ue(Ue({},g),{},{sectors:P,data:i})});var Uce=Math.ceil,Bce=Math.max;function zce(t,e,n,r){for(var i=-1,o=Bce(Uce((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Wce=zce,Hce=xj,AI=1/0,qce=17976931348623157e292;function Gce(t){if(!t)return t===0?t:0;if(t=Hce(t),t===AI||t===-AI){var e=t<0?-1:1;return e*qce}return t===t?t:0}var iM=Gce,Kce=Wce,Xce=Mm,$y=iM;function Yce(t){return function(e,n,r){return r&&typeof r!="number"&&Xce(e,n,r)&&(n=r=void 0),e=$y(e),n===void 0?(n=e,e=0):n=$y(n),r=r===void 0?e<n?1:-1:$y(r),Kce(e,n,r,t)}}var Qce=Yce,Jce=Qce,Zce=Jce(),efe=Zce;const vp=De(efe);function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function II(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){oM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oM(t,e,n){return e=tfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tfe(t){var e=nfe(t,"string");return Bc(e)=="symbol"?e:e+""}function nfe(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rfe=["Webkit","Moz","O","ms"],ife=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=rfe.reduce(function(o,a){return II(II({},o),{},oM({},a+r,n))},{});return i[e]=n,i};function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_p.apply(this,arguments)}function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){On(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ofe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sM(r.key),r)}}function afe(t,e,n){return e&&CI(t.prototype,e),n&&CI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sfe(t,e,n){return e=bp(e),lfe(t,aM()?Reflect.construct(e,n||[],bp(t).constructor):e.apply(t,n))}function lfe(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ufe(t)}function ufe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aM=function(){return!!t})()}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bp(t)}function cfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g_(t,e)}function g_(t,e){return g_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},g_(t,e)}function On(t,e,n){return e=sM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sM(t){var e=ffe(t,"string");return el(e)=="symbol"?e:e+""}function ffe(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hfe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Mu().domain(vp(0,l)).range([o,o+a-s]),c=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},kI=function(e){return e.changedTouches&&!!e.changedTouches.length},tl=function(t){function e(n){var r;return ofe(this,e),r=sfe(this,e,[n]),On(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),On(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),On(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),On(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),On(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),On(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),On(r,"handleSlideDragStart",function(i){var o=kI(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return cfe(e,t),afe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,h=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(a,h),g=e.getIndexInRange(a,d);return{startIndex:p-p%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=on(o[r],s,r);return fe(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,h=l.travellerWidth,d=l.startIndex,p=l.endIndex,g=l.onChange,m=r.pageX-o;m>0?m=Math.min(m,u+c-h-s,u+c-h-a):m<0&&(m=Math.max(m,u-a,u-s));var v=this.getIndex({startX:a+m,endX:s+m});(v.startIndex!==d||v.endIndex!==p)&&g&&g(v),this.setState({startX:a+m,endX:s+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=kI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,h=c.x,d=c.width,p=c.travellerWidth,g=c.onChange,m=c.gap,v=c.data,y={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,h+d-p-u):w<0&&(w=Math.max(w,h-u)),y[a]=u+w;var b=this.getIndex(y),I=b.startIndex,T=b.endIndex,P=function(){var E=v.length-1;return a==="startX"&&(s>l?I%m===0:T%m===0)||s<l&&T===E||a==="endX"&&(s>l?T%m===0:I%m===0)||s>l&&T===E};this.setState(On(On({},a,u+w),"brushMoveStartX",r.pageX),function(){g&&P()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],h=s.indexOf(c);if(h!==-1){var d=h+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(On({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,h=M.Children.only(u);return h?D.cloneElement(h,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,h=l.height,d=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,y=Math.max(r,this.props.x),w=Ly(Ly({},ue(this.props,!1)),{},{x:y,y:u,width:c,height:h}),b=p||"Min value: ".concat((o=g[m])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=g[v])===null||a===void 0?void 0:a.name);return D.createElement(Ne,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,h=Math.max(Math.abs(i-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:h,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,h=c.startX,d=c.endX,p=5,g={pointerEvents:"none",fill:u};return D.createElement(Ne,{className:"recharts-brush-texts"},D.createElement(ba,_p({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,d)-p,y:a+s/2},g),this.getTextOfTick(i)),D.createElement(ba,_p({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,d)+l+p,y:a+s/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,h=r.alwaysShowText,d=this.state,p=d.startX,g=d.endX,m=d.isTextActive,v=d.isSlideMoving,y=d.isTravellerMoving,w=d.isTravellerFocused;if(!i||!i.length||!J(s)||!J(l)||!J(u)||!J(c)||u<=0||c<=0)return null;var b=ye("recharts-brush",o),I=D.Children.count(a)===1,T=ife("userSelect","none");return D.createElement(Ne,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||w||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return D.isValidElement(r)?o=D.cloneElement(r,i):fe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,h=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Ly({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?hfe({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(M.PureComponent);On(tl,"displayName","Brush");On(tl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var dfe=Xw;function pfe(t,e){var n;return dfe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var mfe=pfe,gfe=XR,yfe=zr,vfe=mfe,_fe=Pn,bfe=Mm;function wfe(t,e,n){var r=_fe(t)?gfe:vfe;return n&&bfe(t,e,n)&&(e=void 0),r(t,yfe(e))}var xfe=wfe;const Sfe=De(xfe);var $r=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},NI=yj;function Efe(t,e,n){e=="__proto__"&&NI?NI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Tfe=Efe,Afe=Tfe,Pfe=mj,Ife=zr;function Ofe(t,e){var n={};return e=Ife(e),Pfe(t,function(r,i,o){Afe(n,i,e(r,i,o))}),n}var Cfe=Ofe;const kfe=De(Cfe);function Nfe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Rfe=Nfe,jfe=Xw;function Dfe(t,e){var n=!0;return jfe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Mfe=Dfe,$fe=Rfe,Lfe=Mfe,Vfe=zr,Ffe=Pn,Ufe=Mm;function Bfe(t,e,n){var r=Ffe(t)?$fe:Lfe;return n&&Ufe(t,e,n)&&(e=void 0),r(t,Vfe(e))}var zfe=Bfe;const lM=De(zfe);var Wfe=["x","y"];function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function y_(){return y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y_.apply(this,arguments)}function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){Hfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hfe(t,e,n){return e=qfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qfe(t){var e=Gfe(t,"string");return zc(e)=="symbol"?e:e+""}function Gfe(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kfe(t,e){if(t==null)return{};var n=Xfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Yfe(t,e){var n=t.x,r=t.y,i=Kfe(t,Wfe),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),h="".concat(e.width||i.width),d=parseInt(h,10);return cu(cu(cu(cu(cu({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function jI(t){return D.createElement(tM,y_({shapeType:"rectangle",propTransformer:Yfe,activeClassName:"recharts-active-bar"},t))}var Qfe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=J(r)||PW(r);return o?e(r,i):(o||xa(!1),n)}},Jfe=["value","background"],uM;function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function Zfe(t,e){if(t==null)return{};var n=ehe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ehe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(this,arguments)}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){Gi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function the(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fM(r.key),r)}}function nhe(t,e,n){return e&&MI(t.prototype,e),n&&MI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rhe(t,e,n){return e=xp(e),ihe(t,cM()?Reflect.construct(e,n||[],xp(t).constructor):e.apply(t,n))}function ihe(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ohe(t)}function ohe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cM=function(){return!!t})()}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xp(t)}function ahe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v_(t,e)}function v_(t,e){return v_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},v_(t,e)}function Gi(t,e,n){return e=fM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fM(t){var e=she(t,"string");return nl(e)=="symbol"?e:e+""}function she(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yo=function(t){function e(){var n;the(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=rhe(this,e,[].concat(i)),Gi(n,"state",{isAnimationFinished:!1}),Gi(n,"id",mf("recharts-bar-")),Gi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Gi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return ahe(e,t),nhe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ue(this.props,!1);return r&&r.map(function(h,d){var p=d===l,g=p?u:a,m=gt(gt(gt({},c),h),{},{isActive:p,option:g,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(Ne,wp({className:"recharts-bar-rectangle"},_a(i.props,h,d),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(d)}),D.createElement(jI,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,h=i.animationId,d=this.state.prevData;return D.createElement(Ys,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=o.map(function(v,y){var w=d&&d[y];if(w){var b=ji(w.x,v.x),I=ji(w.y,v.y),T=ji(w.width,v.width),P=ji(w.height,v.height);return gt(gt({},v),{},{x:b(g),y:I(g),width:T(g),height:P(g)})}if(a==="horizontal"){var S=ji(0,v.height),E=S(g);return gt(gt({},v),{},{y:v.y+v.height-E,height:E})}var O=ji(0,v.width),k=O(g);return gt(gt({},v),{},{width:k})});return D.createElement(Ne,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!qm(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ue(this.props.background,!1);return o.map(function(u,c){u.value;var h=u.background,d=Zfe(u,Jfe);if(!h)return null;var p=gt(gt(gt(gt(gt({},d),{},{fill:"#eee"},h),l),_a(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return D.createElement(jI,wp({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,h=Zn(c,Xm);if(!h)return null;var d=u==="vertical"?a[0].height/2:a[0].width/2,p=function(v,y){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:on(v,y)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(Ne,g,h.map(function(m){return D.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,h=r.width,d=r.height,p=r.isAnimationActive,g=r.background,m=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,y=ye("recharts-bar",a),w=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,I=w||b,T=ve(m)?this.id:m;return D.createElement(Ne,{className:y},w||b?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(T)},D.createElement("rect",{x:w?u:u-h/2,y:b?c:c-d/2,width:w?h:h*2,height:b?d:d*2}))):null,D.createElement(Ne,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(T,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,T),(!p||v)&&so.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(M.PureComponent);uM=yo;Gi(yo,"displayName","Bar");Gi(yo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ui.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Gi(yo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,h=t.displayedData,d=t.offset,p=Boe(r,n);if(!p)return null;var g=e.layout,m=n.type.defaultProps,v=m!==void 0?gt(gt({},m),n.props):n.props,y=v.dataKey,w=v.children,b=v.minPointSize,I=g==="horizontal"?a:o,T=u?I.scale.domain():null,P=Xoe({numericAxis:I}),S=Zn(w,yc),E=h.map(function(O,k){var C,R,N,V,F,W;u?C=zoe(u[c+k],T):(C=on(O,y),Array.isArray(C)||(C=[P,C]));var H=Qfe(b,uM.defaultProps.minPointSize)(C[1],k);if(g==="horizontal"){var L,z=[a.scale(C[0]),a.scale(C[1])],X=z[0],ee=z[1];R=EP({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:O,index:k}),N=(L=ee??X)!==null&&L!==void 0?L:void 0,V=p.size;var Y=X-ee;if(F=Number.isNaN(Y)?0:Y,W={x:R,y:a.y,width:V,height:a.height},Math.abs(H)>0&&Math.abs(F)<Math.abs(H)){var ne=hn(F||H)*(Math.abs(H)-Math.abs(F));N-=ne,F+=ne}}else{var xe=[o.scale(C[0]),o.scale(C[1])],Ce=xe[0],et=xe[1];if(R=Ce,N=EP({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:O,index:k}),V=et-Ce,F=p.size,W={x:o.x,y:N,width:o.width,height:F},Math.abs(H)>0&&Math.abs(V)<Math.abs(H)){var Pt=hn(V||H)*(Math.abs(H)-Math.abs(V));V+=Pt}}return gt(gt(gt({},O),{},{x:R,y:N,width:V,height:F,value:u?C:C[1],payload:O,background:W},S&&S[k]&&S[k].props),{},{tooltipPayload:[RD(n,O)],tooltipPosition:{x:R+V/2,y:N+F/2}})});return gt({data:E,layout:g},d)});function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function lhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hM(r.key),r)}}function uhe(t,e,n){return e&&$I(t.prototype,e),n&&$I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){rg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rg(t,e,n){return e=hM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hM(t){var e=che(t,"string");return Wc(e)=="symbol"?e:e+""}function che(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fhe=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),h={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!kn(u,yo);return c.reduce(function(p,g){var m=n[g],v=m.orientation,y=m.domain,w=m.padding,b=w===void 0?{}:w,I=m.mirror,T=m.reversed,P="".concat(v).concat(I?"Mirror":""),S,E,O,k,C;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var R=y[1]-y[0],N=1/0,V=m.categoricalDomain.sort(CW);if(V.forEach(function(xe,Ce){Ce>0&&(N=Math.min((xe||0)-(V[Ce-1]||0),N))}),Number.isFinite(N)){var F=N/R,W=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(S=F*W/2),m.padding==="no-gap"){var H=dn(e.barCategoryGap,F*W),L=F*W/2;S=L-H-(L-H)/W*H}}}i==="xAxis"?E=[r.left+(b.left||0)+(S||0),r.left+r.width-(b.right||0)-(S||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(S||0),r.top+r.height-(b.bottom||0)-(S||0)]:E=m.range,T&&(E=[E[1],E[0]]);var z=OD(m,o,d),X=z.scale,ee=z.realScaleType;X.domain(y).range(E),CD(X);var Y=kD(X,fr(fr({},m),{},{realScaleType:ee}));i==="xAxis"?(C=v==="top"&&!I||v==="bottom"&&I,O=r.left,k=h[P]-C*m.height):i==="yAxis"&&(C=v==="left"&&!I||v==="right"&&I,O=h[P]-C*m.width,k=r.top);var ne=fr(fr(fr({},m),Y),{},{realScaleType:ee,x:O,y:k,scale:X,width:i==="xAxis"?r.width:m.width,height:i==="yAxis"?r.height:m.height});return ne.bandSize=ap(ne,Y),!m.hide&&i==="xAxis"?h[P]+=(C?-1:1)*ne.height:m.hide||(h[P]+=(C?-1:1)*ne.width),fr(fr({},p),{},rg({},g,ne))},{})},dM=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},hhe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return dM({x:n,y:r},{x:i,y:o})},pM=function(){function t(e){lhe(this,t),this.scale=e}return uhe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();rg(pM,"EPS",1e-4);var T1=function(e){var n=Object.keys(e).reduce(function(r,i){return fr(fr({},r),{},rg({},i,pM.create(e[i])))},{});return fr(fr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return kfe(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return lM(i,function(o,a){return n[a].isInRange(o)})}})};function dhe(t){return(t%180+180)%180}var phe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=dhe(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},mhe=zr,ghe=gf,yhe=jm;function vhe(t){return function(e,n,r){var i=Object(e);if(!ghe(e)){var o=mhe(n);e=yhe(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var _he=vhe,bhe=iM;function whe(t){var e=bhe(t),n=e%1;return e===e?n?e-n:e:0}var xhe=whe,She=uj,Ehe=zr,The=xhe,Ahe=Math.max;function Phe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:The(n);return i<0&&(i=Ahe(r+i,0)),She(t,Ehe(e),i)}var Ihe=Phe,Ohe=_he,Che=Ihe,khe=Ohe(Che),Nhe=khe;const Rhe=De(Nhe);var jhe=k7(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),A1=M.createContext(void 0),P1=M.createContext(void 0),mM=M.createContext(void 0),gM=M.createContext({}),yM=M.createContext(void 0),vM=M.createContext(0),_M=M.createContext(0),VI=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=jhe(o);return D.createElement(A1.Provider,{value:r},D.createElement(P1.Provider,{value:i},D.createElement(gM.Provider,{value:o},D.createElement(mM.Provider,{value:c},D.createElement(yM.Provider,{value:a},D.createElement(vM.Provider,{value:u},D.createElement(_M.Provider,{value:l},s)))))))},Dhe=function(){return M.useContext(yM)},bM=function(e){var n=M.useContext(A1);n==null&&xa(!1);var r=n[e];return r==null&&xa(!1),r},Mhe=function(){var e=M.useContext(A1);return zi(e)},$he=function(){var e=M.useContext(P1),n=Rhe(e,function(r){return lM(r.domain,Number.isFinite)});return n||zi(e)},wM=function(e){var n=M.useContext(P1);n==null&&xa(!1);var r=n[e];return r==null&&xa(!1),r},Lhe=function(){var e=M.useContext(mM);return e},Vhe=function(){return M.useContext(gM)},I1=function(){return M.useContext(_M)},O1=function(){return M.useContext(vM)};function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function Fhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SM(r.key),r)}}function Uhe(t,e,n){return e&&FI(t.prototype,e),n&&FI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bhe(t,e,n){return e=Sp(e),zhe(t,xM()?Reflect.construct(e,n||[],Sp(t).constructor):e.apply(t,n))}function zhe(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Whe(t)}function Whe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xM=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sp(t)}function Hhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&__(t,e)}function __(t,e){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},__(t,e)}function UI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(n),!0).forEach(function(r){C1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C1(t,e,n){return e=SM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SM(t){var e=qhe(t,"string");return rl(e)=="symbol"?e:e+""}function qhe(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ghe(t,e){return Qhe(t)||Yhe(t,e)||Xhe(t,e)||Khe()}function Khe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xhe(t,e){if(t){if(typeof t=="string")return zI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zI(t,e)}}function zI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Qhe(t){if(Array.isArray(t))return t}function b_(){return b_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b_.apply(this,arguments)}var Jhe=function(e,n){var r;return D.isValidElement(e)?r=D.cloneElement(e,n):fe(e)?r=e(n):r=D.createElement("line",b_({},n,{className:"recharts-reference-line-line"})),r},Zhe=function(e,n,r,i,o,a,s,l,u){var c=o.x,h=o.y,d=o.width,p=o.height;if(r){var g=u.y,m=e.y.apply(g,{position:a});if($r(u,"discard")&&!e.y.isInRange(m))return null;var v=[{x:c+d,y:m},{x:c,y:m}];return l==="left"?v.reverse():v}if(n){var y=u.x,w=e.x.apply(y,{position:a});if($r(u,"discard")&&!e.x.isInRange(w))return null;var b=[{x:w,y:h+p},{x:w,y:h}];return s==="top"?b.reverse():b}if(i){var I=u.segment,T=I.map(function(P){return e.apply(P,{position:a})});return $r(u,"discard")&&Sfe(T,function(P){return!e.isInRange(P)})?null:T}return null};function ede(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Dhe(),c=bM(i),h=wM(o),d=Lhe();if(!u||!d)return null;gr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=T1({x:c.scale,y:h.scale}),g=Tt(e),m=Tt(n),v=r&&r.length===2,y=Zhe(p,g,m,v,d,t.position,c.orientation,h.orientation,t);if(!y)return null;var w=Ghe(y,2),b=w[0],I=b.x,T=b.y,P=w[1],S=P.x,E=P.y,O=$r(t,"hidden")?"url(#".concat(u,")"):void 0,k=BI(BI({clipPath:O},ue(t,!0)),{},{x1:I,y1:T,x2:S,y2:E});return D.createElement(Ne,{className:ye("recharts-reference-line",s)},Jhe(a,k),kt.renderCallByParent(t,hhe({x1:I,y1:T,x2:S,y2:E})))}var k1=function(t){function e(){return Fhe(this,e),Bhe(this,e,arguments)}return Hhe(e,t),Uhe(e,[{key:"render",value:function(){return D.createElement(ede,this.props)}}])}(D.Component);C1(k1,"displayName","ReferenceLine");C1(k1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function WI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(n),!0).forEach(function(r){ig(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TM(r.key),r)}}function nde(t,e,n){return e&&qI(t.prototype,e),n&&qI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rde(t,e,n){return e=Ep(e),ide(t,EM()?Reflect.construct(e,n||[],Ep(t).constructor):e.apply(t,n))}function ide(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ode(t)}function ode(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EM=function(){return!!t})()}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ep(t)}function ade(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x_(t,e)}function x_(t,e){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x_(t,e)}function ig(t,e,n){return e=TM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TM(t){var e=sde(t,"string");return il(e)=="symbol"?e:e+""}function sde(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lde=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=T1({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return $r(e,"discard")&&!a.isInRange(s)?null:s},og=function(t){function e(){return tde(this,e),rde(this,e,arguments)}return ade(e,t),nde(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Tt(i),c=Tt(o);if(gr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var h=lde(this.props);if(!h)return null;var d=h.x,p=h.y,g=this.props,m=g.shape,v=g.className,y=$r(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=HI(HI({clipPath:y},ue(this.props,!0)),{},{cx:d,cy:p});return D.createElement(Ne,{className:ye("recharts-reference-dot",v)},e.renderDot(m,w),kt.renderCallByParent(this.props,{x:d-a,y:p-a,width:2*a,height:2*a}))}}])}(D.Component);ig(og,"displayName","ReferenceDot");ig(og,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ig(og,"renderDot",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):fe(t)?n=t(e):n=D.createElement(E1,w_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S_.apply(this,arguments)}function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){ag(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ude(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PM(r.key),r)}}function cde(t,e,n){return e&&XI(t.prototype,e),n&&XI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fde(t,e,n){return e=Tp(e),hde(t,AM()?Reflect.construct(e,n||[],Tp(t).constructor):e.apply(t,n))}function hde(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dde(t)}function dde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AM=function(){return!!t})()}function Tp(t){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tp(t)}function pde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E_(t,e)}function E_(t,e){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E_(t,e)}function ag(t,e,n){return e=PM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PM(t){var e=mde(t,"string");return ol(e)=="symbol"?e:e+""}function mde(t,e){if(ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gde=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,h=o.yAxis;if(!c||!h)return null;var d=T1({x:c.scale,y:h.scale}),p={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},g={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return $r(o,"discard")&&(!d.isInRange(p)||!d.isInRange(g))?null:dM(p,g)},sg=function(t){function e(){return ude(this,e),fde(this,e,arguments)}return pde(e,t),cde(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;gr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Tt(i),d=Tt(o),p=Tt(a),g=Tt(s),m=this.props.shape;if(!h&&!d&&!p&&!g&&!m)return null;var v=gde(h,d,p,g,this.props);if(!v&&!m)return null;var y=$r(this.props,"hidden")?"url(#".concat(c,")"):void 0;return D.createElement(Ne,{className:ye("recharts-reference-area",l)},e.renderRect(m,KI(KI({clipPath:y},ue(this.props,!0)),v)),kt.renderCallByParent(this.props,v))}}])}(D.Component);ag(sg,"displayName","ReferenceArea");ag(sg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ag(sg,"renderRect",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):fe(t)?n=t(e):n=D.createElement(S1,S_({},e,{className:"recharts-reference-area-rect"})),n});function IM(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function yde(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return phe(r,n)}function vde(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Ap(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function _de(t,e){return IM(t,e+1)}function bde(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,h=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:IM(r,u)};var m=l,v,y=function(){return v===void 0&&(v=n(g,m)),v},w=g.coordinate,b=l===0||Ap(t,w,y,c,s);b||(l=0,c=a,u+=1),b&&(c=w+t*(y()/2+i),l+=u)},d;u<=o.length;)if(d=h(),d)return d.v;return[]}function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){wde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wde(t,e,n){return e=xde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xde(t){var e=Sde(t,"string");return Hc(e)=="symbol"?e:e+""}function Sde(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ede(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(d){var p=o[d],g,m=function(){return g===void 0&&(g=n(p,d)),g};if(d===a-1){var v=t*(p.coordinate+t*m()/2-l);o[d]=p=Zt(Zt({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else o[d]=p=Zt(Zt({},p),{},{tickCoord:p.coordinate});var y=Ap(t,p.tickCoord,m,s,l);y&&(l=p.tickCoord-t*(m()/2+i),o[d]=Zt(Zt({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Tde(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],h=n(c,s-1),d=t*(c.coordinate+t*h/2-u);a[s-1]=c=Zt(Zt({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=Ap(t,c.tickCoord,function(){return h},l,u);p&&(u=c.tickCoord-t*(h/2+i),a[s-1]=Zt(Zt({},c),{},{isShow:!0}))}for(var g=o?s-1:s,m=function(w){var b=a[w],I,T=function(){return I===void 0&&(I=n(b,w)),I};if(w===0){var P=t*(b.coordinate-t*T()/2-l);a[w]=b=Zt(Zt({},b),{},{tickCoord:P<0?b.coordinate-P*t:b.coordinate})}else a[w]=b=Zt(Zt({},b),{},{tickCoord:b.coordinate});var S=Ap(t,b.tickCoord,T,l,u);S&&(l=b.tickCoord+t*(T()/2+i),a[w]=Zt(Zt({},b),{},{isShow:!0}))},v=0;v<g;v++)m(v);return a}function N1(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(J(l)||ui.isSsr)return _de(i,typeof l=="number"&&J(l)?l:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",g=c&&p==="width"?Du(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(b,I){var T=fe(u)?u(b.value,I):b.value;return p==="width"?yde(Du(T,{fontSize:e,letterSpacing:n}),g,h):Du(T,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?hn(i[1].coordinate-i[0].coordinate):1,y=vde(o,v,p);return l==="equidistantPreserveStart"?bde(v,y,m,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=Tde(v,y,m,i,a,l==="preserveStartEnd"):d=Ede(v,y,m,i,a),d.filter(function(w){return w.isShow}))}var Ade=["viewBox"],Pde=["viewBox"],Ide=["ticks"];function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function ls(){return ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ls.apply(this,arguments)}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){R1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vy(t,e){if(t==null)return{};var n=Ode(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ode(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CM(r.key),r)}}function kde(t,e,n){return e&&JI(t.prototype,e),n&&JI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nde(t,e,n){return e=Pp(e),Rde(t,OM()?Reflect.construct(e,n||[],Pp(t).constructor):e.apply(t,n))}function Rde(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jde(t)}function jde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OM=function(){return!!t})()}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pp(t)}function Dde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T_(t,e)}function T_(t,e){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T_(t,e)}function R1(t,e,n){return e=CM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CM(t){var e=Mde(t,"string");return al(e)=="symbol"?e:e+""}function Mde(t,e){if(al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cl=function(t){function e(n){var r;return Cde(this,e),r=Nde(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Dde(e,t),kde(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Vy(r,Ade),s=this.props,l=s.viewBox,u=Vy(s,Pde);return!bs(o,l)||!bs(a,u)||!bs(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,h=i.mirror,d=i.tickMargin,p,g,m,v,y,w,b=h?-1:1,I=r.tickSize||c,T=J(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=g=r.coordinate,v=a+ +!h*l,m=v-b*I,w=m-b*d,y=T;break;case"left":m=v=r.coordinate,g=o+ +!h*s,p=g-b*I,y=p-b*d,w=T;break;case"right":m=v=r.coordinate,g=o+ +h*s,p=g+b*I,y=p+b*d,w=T;break;default:p=g=r.coordinate,v=a+ +h*l,m=v+b*I,w=m+b*d,y=T;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,h=bt(bt(bt({},ue(this.props,!1)),ue(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);h=bt(bt({},h),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);h=bt(bt({},h),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return D.createElement("line",ls({},h,{className:ye("recharts-cartesian-axis-line",Ln(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,h=s.tickFormatter,d=s.unit,p=N1(bt(bt({},this.props),{},{ticks:r}),i,o),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=ue(this.props,!1),y=ue(c,!1),w=bt(bt({},v),{},{fill:"none"},ue(l,!1)),b=p.map(function(I,T){var P=a.getTickLineCoord(I),S=P.line,E=P.tick,O=bt(bt(bt(bt({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},y),E),{},{index:T,payload:I,visibleTicksCount:p.length,tickFormatter:h});return D.createElement(Ne,ls({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},_a(a.props,I,T)),l&&D.createElement("line",ls({},w,S,{className:ye("recharts-cartesian-axis-tick-line",Ln(l,"className"))})),c&&e.renderTickItem(c,O,"".concat(fe(h)?h(I.value,T):I.value).concat(d||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var h=this.props,d=h.ticks,p=Vy(h,Ide),g=d;return fe(l)&&(g=d&&d.length>0?l(this.props):l(p)),a<=0||s<=0||!g||!g.length?null:D.createElement(Ne,{className:ye("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),kt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=ye(i.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(r)?a=D.cloneElement(r,bt(bt({},i),{},{className:s})):fe(r)?a=r(bt(bt({},i),{},{className:s})):a=D.createElement(ba,ls({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(M.Component);R1(Cl,"displayName","CartesianAxis");R1(Cl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $de=["x1","y1","x2","y2","key"],Lde=["offset"];function Sa(t){"@babel/helpers - typeof";return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(t)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){Vde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vde(t,e,n){return e=Fde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fde(t){var e=Ude(t,"string");return Sa(e)=="symbol"?e:e+""}function Ude(t,e){if(Sa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yo.apply(this,arguments)}function eO(t,e){if(t==null)return{};var n=Bde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var zde=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return D.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function kM(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(fe(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=eO(e,$de),u=ue(l,!1);u.offset;var c=eO(u,Lde);n=D.createElement("line",Yo({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Wde(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=rn(rn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return kM(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Hde(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=rn(rn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return kM(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function qde(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var h=c.map(function(d,p){var g=!c[p+1],m=g?i+a-d:c[p+1]-d;if(m<=0)return null;var v=p%e.length;return D.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:m,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Gde(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==c[0]&&c.unshift(0);var h=c.map(function(d,p){var g=!c[p+1],m=g?o+s-d:c[p+1]-d;if(m<=0)return null;var v=p%r.length;return D.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:m,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Kde=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return ID(N1(rn(rn(rn({},Cl.defaultProps),r),{},{ticks:oi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Xde=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return ID(N1(rn(rn(rn({},Cl.defaultProps),r),{},{ticks:oi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Ba={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function NM(t){var e,n,r,i,o,a,s=I1(),l=O1(),u=Vhe(),c=rn(rn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ba.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ba.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ba.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ba.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ba.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Ba.verticalFill,x:J(t.x)?t.x:u.left,y:J(t.y)?t.y:u.top,width:J(t.width)?t.width:u.width,height:J(t.height)?t.height:u.height}),h=c.x,d=c.y,p=c.width,g=c.height,m=c.syncWithTicks,v=c.horizontalValues,y=c.verticalValues,w=Mhe(),b=$he();if(!J(p)||p<=0||!J(g)||g<=0||!J(h)||h!==+h||!J(d)||d!==+d)return null;var I=c.verticalCoordinatesGenerator||Kde,T=c.horizontalCoordinatesGenerator||Xde,P=c.horizontalPoints,S=c.verticalPoints;if((!P||!P.length)&&fe(T)){var E=v&&v.length,O=T({yAxis:b?rn(rn({},b),{},{ticks:E?v:b.ticks}):void 0,width:s,height:l,offset:u},E?!0:m);gr(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Sa(O),"]")),Array.isArray(O)&&(P=O)}if((!S||!S.length)&&fe(I)){var k=y&&y.length,C=I({xAxis:w?rn(rn({},w),{},{ticks:k?y:w.ticks}):void 0,width:s,height:l,offset:u},k?!0:m);gr(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Sa(C),"]")),Array.isArray(C)&&(S=C)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(zde,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),D.createElement(Wde,Yo({},c,{offset:u,horizontalPoints:P,xAxis:w,yAxis:b})),D.createElement(Hde,Yo({},c,{offset:u,verticalPoints:S,xAxis:w,yAxis:b})),D.createElement(qde,Yo({},c,{horizontalPoints:P})),D.createElement(Gde,Yo({},c,{verticalPoints:S})))}NM.displayName="CartesianGrid";function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function Yde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DM(r.key),r)}}function Qde(t,e,n){return e&&tO(t.prototype,e),n&&tO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jde(t,e,n){return e=Ip(e),Zde(t,RM()?Reflect.construct(e,n||[],Ip(t).constructor):e.apply(t,n))}function Zde(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return epe(t)}function epe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RM=function(){return!!t})()}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ip(t)}function tpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A_(t,e)}function A_(t,e){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A_(t,e)}function jM(t,e,n){return e=DM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DM(t){var e=npe(t,"string");return sl(e)=="symbol"?e:e+""}function npe(t,e){if(sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}function rpe(t){var e=t.xAxisId,n=I1(),r=O1(),i=bM(e);return i==null?null:M.createElement(Cl,P_({},i,{className:ye("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return oi(a,!0)}}))}var lg=function(t){function e(){return Yde(this,e),Jde(this,e,arguments)}return tpe(e,t),Qde(e,[{key:"render",value:function(){return M.createElement(rpe,this.props)}}])}(M.Component);jM(lg,"displayName","XAxis");jM(lg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function ipe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LM(r.key),r)}}function ope(t,e,n){return e&&nO(t.prototype,e),n&&nO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ape(t,e,n){return e=Op(e),spe(t,MM()?Reflect.construct(e,n||[],Op(t).constructor):e.apply(t,n))}function spe(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lpe(t)}function lpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MM=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Op(t)}function upe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I_(t,e)}function $M(t,e,n){return e=LM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LM(t){var e=cpe(t,"string");return ll(e)=="symbol"?e:e+""}function cpe(t,e){if(ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(this,arguments)}var fpe=function(e){var n=e.yAxisId,r=I1(),i=O1(),o=wM(n);return o==null?null:M.createElement(Cl,O_({},o,{className:ye("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return oi(s,!0)}}))},ug=function(t){function e(){return ipe(this,e),ape(this,e,arguments)}return upe(e,t),ope(e,[{key:"render",value:function(){return M.createElement(fpe,this.props)}}])}(M.Component);$M(ug,"displayName","YAxis");$M(ug,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function rO(t){return mpe(t)||ppe(t)||dpe(t)||hpe()}function hpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dpe(t,e){if(t){if(typeof t=="string")return C_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C_(t,e)}}function ppe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mpe(t){if(Array.isArray(t))return C_(t)}function C_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var k_=function(e,n,r,i,o){var a=Zn(e,k1),s=Zn(e,og),l=[].concat(rO(a),rO(s)),u=Zn(e,sg),c="".concat(i,"Id"),h=i[0],d=n;if(l.length&&(d=l.reduce(function(m,v){if(v.props[c]===r&&$r(v.props,"extendDomain")&&J(v.props[h])){var y=v.props[h];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},d)),u.length){var p="".concat(h,"1"),g="".concat(h,"2");d=u.reduce(function(m,v){if(v.props[c]===r&&$r(v.props,"extendDomain")&&J(v.props[p])&&J(v.props[g])){var y=v.props[p],w=v.props[g];return[Math.min(m[0],y,w),Math.max(m[1],y,w)]}return m},d)}return o&&o.length&&(d=o.reduce(function(m,v){return J(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},d)),d},VM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,h||l,d),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,p=h.length,g=new Array(p);d<p;d++)g[d]=h[d].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,h=this._events[c];return h?h.fn?1:h.length:0},s.prototype.emit=function(u,c,h,d,p,g){var m=n?n+u:u;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,h),!0;case 4:return v.fn.call(v.context,c,h,d),!0;case 5:return v.fn.call(v.context,c,h,d,p),!0;case 6:return v.fn.call(v.context,c,h,d,p,g),!0}for(b=1,w=new Array(y-1);b<y;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var I=v.length,T;for(b=0;b<I;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,c);break;case 3:v[b].fn.call(v[b].context,c,h);break;case 4:v[b].fn.call(v[b].context,c,h,d);break;default:if(!w)for(T=1,w=new Array(y-1);T<y;T++)w[T-1]=arguments[T];v[b].fn.apply(v[b].context,w)}}return!0},s.prototype.on=function(u,c,h){return o(this,u,c,h,!1)},s.prototype.once=function(u,c,h){return o(this,u,c,h,!0)},s.prototype.removeListener=function(u,c,h,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!d||g.once)&&(!h||g.context===h)&&a(this,p);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==c||d&&!g[m].once||h&&g[m].context!==h)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(VM);var gpe=VM.exports;const ype=De(gpe);var Fy=new ype,Uy="recharts.syncMouseEvents";function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function vpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FM(r.key),r)}}function _pe(t,e,n){return e&&iO(t.prototype,e),n&&iO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function By(t,e,n){return e=FM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FM(t){var e=bpe(t,"string");return qc(e)=="symbol"?e:e+""}function bpe(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wpe=function(){function t(){vpe(this,t),By(this,"activeIndex",0),By(this,"coordinateList",[]),By(this,"layout","horizontal")}return _pe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,h=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=o+l+u,d=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:h,pageY:d})}}}])}();function xpe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&J(r)&&J(i))return!0}return!1}function Spe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function UM(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=He(e,n,r,i),s=He(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Epe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,h=e.angle,d=He(s,l,u,h),p=He(s,l,c,h);r=d.x,i=d.y,o=p.x,a=p.y}else return UM(e);return[{x:r,y:i},{x:o,y:a}]}function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){Tpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tpe(t,e,n){return e=Ape(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ape(t){var e=Ppe(t,"string");return Gc(e)=="symbol"?e:e+""}function Ppe(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ipe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,h=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||d!=="ScatterChart"&&i!=="axis")return null;var g,m=e_;if(d==="ScatterChart")g=a,m=fue;else if(d==="BarChart")g=Spe(h,a,l,c),m=S1;else if(h==="radial"){var v=UM(a),y=v.cx,w=v.cy,b=v.radius,I=v.startAngle,T=v.endAngle;g={cx:y,cy:w,startAngle:I,endAngle:T,innerRadius:b,outerRadius:b},m=VD}else g={points:Epe(h,a,l)},m=e_;var P=wh(wh(wh(wh({stroke:"#ccc",pointerEvents:"none"},l),g),ue(p,!1)),{},{payload:s,payloadIndex:u,className:ye("recharts-tooltip-cursor",p.className)});return M.isValidElement(p)?M.cloneElement(p,P):M.createElement(m,P)}var Ope=["item"],Cpe=["children","className","width","height","style","compact","title","desc"];function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function us(){return us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},us.apply(this,arguments)}function aO(t,e){return Rpe(t)||Npe(t,e)||zM(t,e)||kpe()}function kpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Npe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Rpe(t){if(Array.isArray(t))return t}function sO(t,e){if(t==null)return{};var n=jpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WM(r.key),r)}}function Mpe(t,e,n){return e&&lO(t.prototype,e),n&&lO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $pe(t,e,n){return e=Cp(e),Lpe(t,BM()?Reflect.construct(e,n||[],Cp(t).constructor):e.apply(t,n))}function Lpe(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vpe(t)}function Vpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BM=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cp(t)}function Fpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function cl(t){return zpe(t)||Bpe(t)||zM(t)||Upe()}function Upe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zM(t,e){if(t){if(typeof t=="string")return R_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R_(t,e)}}function Bpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zpe(t){if(Array.isArray(t))return R_(t)}function R_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(n),!0).forEach(function(r){le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function le(t,e,n){return e=WM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WM(t){var e=Wpe(t,"string");return ul(e)=="symbol"?e:e+""}function Wpe(t,e){if(ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hpe={xAxis:["bottom","top"],yAxis:["left","right"]},qpe={width:"100%",height:"100%"},HM={x:0,y:0};function xh(t){return t}var Gpe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Kpe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return B(B(B({},i),He(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return B(B(B({},i),He(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return HM},cg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(cl(s),cl(u)):s},[]);return a.length>0?a:e&&e.length&&J(i)&&J(o)?e.slice(i,o+1):[]};function qM(t){return t==="number"?[0,"auto"]:void 0}var j_=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=cg(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,h=(c=u.props.data)!==null&&c!==void 0?c:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var p=h===void 0?s:h;d=l0(p,a.dataKey,i)}else d=h&&h[r]||s[r];return d?[].concat(cl(l),[RD(u,d)]):l},[])},cO=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Gpe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Moe(a,s,u,l);if(c>=0&&u){var h=u[c]&&u[c].value,d=j_(e,n,c,h),p=Kpe(r,s,c,o);return{activeTooltipIndex:c,activeLabel:h,activePayload:d,activeCoordinate:p}}return null},Xpe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,h=e.children,d=e.stackOffset,p=PD(c,o);return r.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?B(B({},m.type.defaultProps),m.props):m.props,w=y.type,b=y.dataKey,I=y.allowDataOverflow,T=y.allowDuplicatedCategory,P=y.scale,S=y.ticks,E=y.includeHidden,O=y[a];if(g[O])return g;var k=cg(e.data,{graphicalItems:i.filter(function(Y){var ne,xe=a in Y.props?Y.props[a]:(ne=Y.type.defaultProps)===null||ne===void 0?void 0:ne[a];return xe===O}),dataStartIndex:l,dataEndIndex:u}),C=k.length,R,N,V;xpe(y.domain,I,w)&&(R=X0(y.domain,null,I),p&&(w==="number"||P!=="auto")&&(V=$u(k,b,"category")));var F=qM(w);if(!R||R.length===0){var W,H=(W=y.domain)!==null&&W!==void 0?W:F;if(b){if(R=$u(k,b,w),w==="category"&&p){var L=OW(R);T&&L?(N=R,R=vp(0,C)):T||(R=PP(H,R,m).reduce(function(Y,ne){return Y.indexOf(ne)>=0?Y:[].concat(cl(Y),[ne])},[]))}else if(w==="category")T?R=R.filter(function(Y){return Y!==""&&!ve(Y)}):R=PP(H,R,m).reduce(function(Y,ne){return Y.indexOf(ne)>=0||ne===""||ve(ne)?Y:[].concat(cl(Y),[ne])},[]);else if(w==="number"){var z=Uoe(k,i.filter(function(Y){var ne,xe,Ce=a in Y.props?Y.props[a]:(ne=Y.type.defaultProps)===null||ne===void 0?void 0:ne[a],et="hide"in Y.props?Y.props.hide:(xe=Y.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return Ce===O&&(E||!et)}),b,o,c);z&&(R=z)}p&&(w==="number"||P!=="auto")&&(V=$u(k,b,"category"))}else p?R=vp(0,C):s&&s[O]&&s[O].hasStack&&w==="number"?R=d==="expand"?[0,1]:ND(s[O].stackGroups,l,u):R=AD(k,i.filter(function(Y){var ne=a in Y.props?Y.props[a]:Y.type.defaultProps[a],xe="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return ne===O&&(E||!xe)}),w,c,!0);if(w==="number")R=k_(h,R,O,o,S),H&&(R=X0(H,R,I));else if(w==="category"&&H){var X=H,ee=R.every(function(Y){return X.indexOf(Y)>=0});ee&&(R=X)}}return B(B({},g),{},le({},O,B(B({},y),{},{axisType:o,domain:R,categoricalDomain:V,duplicateDomain:N,originalDomain:(v=y.domain)!==null&&v!==void 0?v:F,isCategorical:p,layout:c})))},{})},Ype=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,h=e.children,d=cg(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,g=PD(c,o),m=-1;return r.reduce(function(v,y){var w=y.type.defaultProps!==void 0?B(B({},y.type.defaultProps),y.props):y.props,b=w[a],I=qM("number");if(!v[b]){m++;var T;return g?T=vp(0,p):s&&s[b]&&s[b].hasStack?(T=ND(s[b].stackGroups,l,u),T=k_(h,T,b,o)):(T=X0(I,AD(d,r.filter(function(P){var S,E,O=a in P.props?P.props[a]:(S=P.type.defaultProps)===null||S===void 0?void 0:S[a],k="hide"in P.props?P.props.hide:(E=P.type.defaultProps)===null||E===void 0?void 0:E.hide;return O===b&&!k}),"number",c),i.defaultProps.allowDataOverflow),T=k_(h,T,b,o)),B(B({},v),{},le({},b,B(B({axisType:o},i.defaultProps),{},{hide:!0,orientation:Ln(Hpe,"".concat(o,".").concat(m%2),null),domain:T,originalDomain:I,isCategorical:g,layout:c})))}return v},{})},Qpe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,h="".concat(i,"Id"),d=Zn(c,o),p={};return d&&d.length?p=Xpe(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=Ype(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},Jpe=function(e){var n=zi(e),r=oi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Yw(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ap(n,r)}},fO=function(e){var n=e.children,r=e.defaultShowTooltip,i=kn(n,tl),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Zpe=function(e){return!e||!e.length?!1:e.some(function(n){var r=li(n&&n.type);return r&&r.indexOf("Bar")>=0})},hO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},eme=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,h=r.children,d=r.margin||{},p=kn(h,tl),g=kn(h,ra),m=Object.keys(l).reduce(function(T,P){var S=l[P],E=S.orientation;return!S.mirror&&!S.hide?B(B({},T),{},le({},E,T[E]+S.width)):T},{left:d.left||0,right:d.right||0}),v=Object.keys(a).reduce(function(T,P){var S=a[P],E=S.orientation;return!S.mirror&&!S.hide?B(B({},T),{},le({},E,Ln(T,"".concat(E))+S.height)):T},{top:d.top||0,bottom:d.bottom||0}),y=B(B({},v),m),w=y.bottom;p&&(y.bottom+=p.props.height||tl.defaultProps.height),g&&n&&(y=Voe(y,i,r,n));var b=u-y.left-y.right,I=c-y.top-y.bottom;return B(B({brushBottom:w},y),{},{width:Math.max(b,0),height:Math.max(I,0)})},tme=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},GM=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,h=e.defaultProps,d=function(y,w){var b=w.graphicalItems,I=w.stackGroups,T=w.offset,P=w.updateId,S=w.dataStartIndex,E=w.dataEndIndex,O=y.barSize,k=y.layout,C=y.barGap,R=y.barCategoryGap,N=y.maxBarSize,V=hO(k),F=V.numericAxisName,W=V.cateAxisName,H=Zpe(b),L=[];return b.forEach(function(z,X){var ee=cg(y.data,{graphicalItems:[z],dataStartIndex:S,dataEndIndex:E}),Y=z.type.defaultProps!==void 0?B(B({},z.type.defaultProps),z.props):z.props,ne=Y.dataKey,xe=Y.maxBarSize,Ce=Y["".concat(F,"Id")],et=Y["".concat(W,"Id")],Pt={},qt=l.reduce(function(or,wr){var kl=w["".concat(wr.axisType,"Map")],Ra=Y["".concat(wr.axisType,"Id")];kl&&kl[Ra]||wr.axisType==="zAxis"||xa(!1);var ja=kl[Ra];return B(B({},or),{},le(le({},wr.axisType,ja),"".concat(wr.axisType,"Ticks"),oi(ja)))},Pt),te=qt[W],ce=qt["".concat(W,"Ticks")],pe=I&&I[Ce]&&I[Ce].hasStack&&Yoe(z,I[Ce].stackGroups),G=li(z.type).indexOf("Bar")>=0,Fe=ap(te,ce),_e=[],tt=H&&$oe({barSize:O,stackGroups:I,totalSize:tme(qt,W)});if(G){var at,jt,br=ve(xe)?N:xe,Wr=(at=(jt=ap(te,ce,!0))!==null&&jt!==void 0?jt:br)!==null&&at!==void 0?at:0;_e=Loe({barGap:C,barCategoryGap:R,bandSize:Wr!==Fe?Wr:Fe,sizeList:tt[et],maxBarSize:br}),Wr!==Fe&&(_e=_e.map(function(or){return B(B({},or),{},{position:B(B({},or.position),{},{offset:or.position.offset-Wr/2})})}))}var Po=z&&z.type&&z.type.getComposedData;Po&&L.push({props:B(B({},Po(B(B({},qt),{},{displayedData:ee,props:y,dataKey:ne,item:z,bandSize:Fe,barPosition:_e,offset:T,stackedData:pe,layout:k,dataStartIndex:S,dataEndIndex:E}))),{},le(le(le({key:z.key||"item-".concat(X)},F,qt[F]),W,qt[W]),"animationId",P)),childIndex:UW(z,y.children),item:z})}),L},p=function(y,w){var b=y.props,I=y.dataStartIndex,T=y.dataEndIndex,P=y.updateId;if(!yT({props:b}))return null;var S=b.children,E=b.layout,O=b.stackOffset,k=b.data,C=b.reverseStackOrder,R=hO(E),N=R.numericAxisName,V=R.cateAxisName,F=Zn(S,r),W=Koe(k,F,"".concat(N,"Id"),"".concat(V,"Id"),O,C),H=l.reduce(function(Y,ne){var xe="".concat(ne.axisType,"Map");return B(B({},Y),{},le({},xe,Qpe(b,B(B({},ne),{},{graphicalItems:F,stackGroups:ne.axisType===N&&W,dataStartIndex:I,dataEndIndex:T}))))},{}),L=eme(B(B({},H),{},{props:b,graphicalItems:F}),w==null?void 0:w.legendBBox);Object.keys(H).forEach(function(Y){H[Y]=c(b,H[Y],L,Y.replace("Map",""),n)});var z=H["".concat(V,"Map")],X=Jpe(z),ee=d(b,B(B({},H),{},{dataStartIndex:I,dataEndIndex:T,updateId:P,graphicalItems:F,stackGroups:W,offset:L}));return B(B({formattedGraphicalItems:ee,graphicalItems:F,offset:L,stackGroups:W},X),H)},g=function(v){function y(w){var b,I,T;return Dpe(this,y),T=$pe(this,y,[w]),le(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),le(T,"accessibilityManager",new wpe),le(T,"handleLegendBBoxUpdate",function(P){if(P){var S=T.state,E=S.dataStartIndex,O=S.dataEndIndex,k=S.updateId;T.setState(B({legendBBox:P},p({props:T.props,dataStartIndex:E,dataEndIndex:O,updateId:k},B(B({},T.state),{},{legendBBox:P}))))}}),le(T,"handleReceiveSyncEvent",function(P,S,E){if(T.props.syncId===P){if(E===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(S)}}),le(T,"handleBrushChange",function(P){var S=P.startIndex,E=P.endIndex;if(S!==T.state.dataStartIndex||E!==T.state.dataEndIndex){var O=T.state.updateId;T.setState(function(){return B({dataStartIndex:S,dataEndIndex:E},p({props:T.props,dataStartIndex:S,dataEndIndex:E,updateId:O},T.state))}),T.triggerSyncEvent({dataStartIndex:S,dataEndIndex:E})}}),le(T,"handleMouseEnter",function(P){var S=T.getMouseInfo(P);if(S){var E=B(B({},S),{},{isTooltipActive:!0});T.setState(E),T.triggerSyncEvent(E);var O=T.props.onMouseEnter;fe(O)&&O(E,P)}}),le(T,"triggeredAfterMouseMove",function(P){var S=T.getMouseInfo(P),E=S?B(B({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var O=T.props.onMouseMove;fe(O)&&O(E,P)}),le(T,"handleItemMouseEnter",function(P){T.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),le(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),le(T,"handleMouseMove",function(P){P.persist(),T.throttleTriggeredAfterMouseMove(P)}),le(T,"handleMouseLeave",function(P){T.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var E=T.props.onMouseLeave;fe(E)&&E(S,P)}),le(T,"handleOuterEvent",function(P){var S=FW(P),E=Ln(T.props,"".concat(S));if(S&&fe(E)){var O,k;/.*touch.*/i.test(S)?k=T.getMouseInfo(P.changedTouches[0]):k=T.getMouseInfo(P),E((O=k)!==null&&O!==void 0?O:{},P)}}),le(T,"handleClick",function(P){var S=T.getMouseInfo(P);if(S){var E=B(B({},S),{},{isTooltipActive:!0});T.setState(E),T.triggerSyncEvent(E);var O=T.props.onClick;fe(O)&&O(E,P)}}),le(T,"handleMouseDown",function(P){var S=T.props.onMouseDown;if(fe(S)){var E=T.getMouseInfo(P);S(E,P)}}),le(T,"handleMouseUp",function(P){var S=T.props.onMouseUp;if(fe(S)){var E=T.getMouseInfo(P);S(E,P)}}),le(T,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),le(T,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseDown(P.changedTouches[0])}),le(T,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseUp(P.changedTouches[0])}),le(T,"handleDoubleClick",function(P){var S=T.props.onDoubleClick;if(fe(S)){var E=T.getMouseInfo(P);S(E,P)}}),le(T,"handleContextMenu",function(P){var S=T.props.onContextMenu;if(fe(S)){var E=T.getMouseInfo(P);S(E,P)}}),le(T,"triggerSyncEvent",function(P){T.props.syncId!==void 0&&Fy.emit(Uy,T.props.syncId,P,T.eventEmitterSymbol)}),le(T,"applySyncEvent",function(P){var S=T.props,E=S.layout,O=S.syncMethod,k=T.state.updateId,C=P.dataStartIndex,R=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)T.setState(B({dataStartIndex:C,dataEndIndex:R},p({props:T.props,dataStartIndex:C,dataEndIndex:R,updateId:k},T.state)));else if(P.activeTooltipIndex!==void 0){var N=P.chartX,V=P.chartY,F=P.activeTooltipIndex,W=T.state,H=W.offset,L=W.tooltipTicks;if(!H)return;if(typeof O=="function")F=O(L,P);else if(O==="value"){F=-1;for(var z=0;z<L.length;z++)if(L[z].value===P.activeLabel){F=z;break}}var X=B(B({},H),{},{x:H.left,y:H.top}),ee=Math.min(N,X.x+X.width),Y=Math.min(V,X.y+X.height),ne=L[F]&&L[F].value,xe=j_(T.state,T.props.data,F),Ce=L[F]?{x:E==="horizontal"?L[F].coordinate:ee,y:E==="horizontal"?Y:L[F].coordinate}:HM;T.setState(B(B({},P),{},{activeLabel:ne,activeCoordinate:Ce,activePayload:xe,activeTooltipIndex:F}))}else T.setState(P)}),le(T,"renderCursor",function(P){var S,E=T.state,O=E.isTooltipActive,k=E.activeCoordinate,C=E.activePayload,R=E.offset,N=E.activeTooltipIndex,V=E.tooltipAxisBandSize,F=T.getTooltipEventType(),W=(S=P.props.active)!==null&&S!==void 0?S:O,H=T.props.layout,L=P.key||"_recharts-cursor";return D.createElement(Ipe,{key:L,activeCoordinate:k,activePayload:C,activeTooltipIndex:N,chartName:n,element:P,isActive:W,layout:H,offset:R,tooltipAxisBandSize:V,tooltipEventType:F})}),le(T,"renderPolarAxis",function(P,S,E){var O=Ln(P,"type.axisType"),k=Ln(T.state,"".concat(O,"Map")),C=P.type.defaultProps,R=C!==void 0?B(B({},C),P.props):P.props,N=k&&k[R["".concat(O,"Id")]];return M.cloneElement(P,B(B({},N),{},{className:ye(O,N.className),key:P.key||"".concat(S,"-").concat(E),ticks:oi(N,!0)}))}),le(T,"renderPolarGrid",function(P){var S=P.props,E=S.radialLines,O=S.polarAngles,k=S.polarRadius,C=T.state,R=C.radiusAxisMap,N=C.angleAxisMap,V=zi(R),F=zi(N),W=F.cx,H=F.cy,L=F.innerRadius,z=F.outerRadius;return M.cloneElement(P,{polarAngles:Array.isArray(O)?O:oi(F,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(k)?k:oi(V,!0).map(function(X){return X.coordinate}),cx:W,cy:H,innerRadius:L,outerRadius:z,key:P.key||"polar-grid",radialLines:E})}),le(T,"renderLegend",function(){var P=T.state.formattedGraphicalItems,S=T.props,E=S.children,O=S.width,k=S.height,C=T.props.margin||{},R=O-(C.left||0)-(C.right||0),N=ED({children:E,formattedGraphicalItems:P,legendWidth:R,legendContent:u});if(!N)return null;var V=N.item,F=sO(N,Ope);return M.cloneElement(V,B(B({},F),{},{chartWidth:O,chartHeight:k,margin:C,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),le(T,"renderTooltip",function(){var P,S=T.props,E=S.children,O=S.accessibilityLayer,k=kn(E,Hn);if(!k)return null;var C=T.state,R=C.isTooltipActive,N=C.activeCoordinate,V=C.activePayload,F=C.activeLabel,W=C.offset,H=(P=k.props.active)!==null&&P!==void 0?P:R;return M.cloneElement(k,{viewBox:B(B({},W),{},{x:W.left,y:W.top}),active:H,label:F,payload:H?V:[],coordinate:N,accessibilityLayer:O})}),le(T,"renderBrush",function(P){var S=T.props,E=S.margin,O=S.data,k=T.state,C=k.offset,R=k.dataStartIndex,N=k.dataEndIndex,V=k.updateId;return M.cloneElement(P,{key:P.key||"_recharts-brush",onChange:yh(T.handleBrushChange,P.props.onChange),data:O,x:J(P.props.x)?P.props.x:C.left,y:J(P.props.y)?P.props.y:C.top+C.height+C.brushBottom-(E.bottom||0),width:J(P.props.width)?P.props.width:C.width,startIndex:R,endIndex:N,updateId:"brush-".concat(V)})}),le(T,"renderReferenceElement",function(P,S,E){if(!P)return null;var O=T,k=O.clipPathId,C=T.state,R=C.xAxisMap,N=C.yAxisMap,V=C.offset,F=P.type.defaultProps||{},W=P.props,H=W.xAxisId,L=H===void 0?F.xAxisId:H,z=W.yAxisId,X=z===void 0?F.yAxisId:z;return M.cloneElement(P,{key:P.key||"".concat(S,"-").concat(E),xAxis:R[L],yAxis:N[X],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:k})}),le(T,"renderActivePoints",function(P){var S=P.item,E=P.activePoint,O=P.basePoint,k=P.childIndex,C=P.isRange,R=[],N=S.props.key,V=S.item.type.defaultProps!==void 0?B(B({},S.item.type.defaultProps),S.item.props):S.item.props,F=V.activeDot,W=V.dataKey,H=B(B({index:k,dataKey:W,cx:E.x,cy:E.y,r:4,fill:x1(S.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},ue(F,!1)),Rd(F));return R.push(y.renderActiveDot(F,H,"".concat(N,"-activePoint-").concat(k))),O?R.push(y.renderActiveDot(F,B(B({},H),{},{cx:O.x,cy:O.y}),"".concat(N,"-basePoint-").concat(k))):C&&R.push(null),R}),le(T,"renderGraphicChild",function(P,S,E){var O=T.filterFormatItem(P,S,E);if(!O)return null;var k=T.getTooltipEventType(),C=T.state,R=C.isTooltipActive,N=C.tooltipAxis,V=C.activeTooltipIndex,F=C.activeLabel,W=T.props.children,H=kn(W,Hn),L=O.props,z=L.points,X=L.isRange,ee=L.baseLine,Y=O.item.type.defaultProps!==void 0?B(B({},O.item.type.defaultProps),O.item.props):O.item.props,ne=Y.activeDot,xe=Y.hide,Ce=Y.activeBar,et=Y.activeShape,Pt=!!(!xe&&R&&H&&(ne||Ce||et)),qt={};k!=="axis"&&H&&H.props.trigger==="click"?qt={onClick:yh(T.handleItemMouseEnter,P.props.onClick)}:k!=="axis"&&(qt={onMouseLeave:yh(T.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:yh(T.handleItemMouseEnter,P.props.onMouseEnter)});var te=M.cloneElement(P,B(B({},O.props),qt));function ce(wr){return typeof N.dataKey=="function"?N.dataKey(wr.payload):null}if(Pt)if(V>=0){var pe,G;if(N.dataKey&&!N.allowDuplicatedCategory){var Fe=typeof N.dataKey=="function"?ce:"payload.".concat(N.dataKey.toString());pe=l0(z,Fe,F),G=X&&ee&&l0(ee,Fe,F)}else pe=z==null?void 0:z[V],G=X&&ee&&ee[V];if(et||Ce){var _e=P.props.activeIndex!==void 0?P.props.activeIndex:V;return[M.cloneElement(P,B(B(B({},O.props),qt),{},{activeIndex:_e})),null,null]}if(!ve(pe))return[te].concat(cl(T.renderActivePoints({item:O,activePoint:pe,basePoint:G,childIndex:V,isRange:X})))}else{var tt,at=(tt=T.getItemByXY(T.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:te},jt=at.graphicalItem,br=jt.item,Wr=br===void 0?P:br,Po=jt.childIndex,or=B(B(B({},O.props),qt),{},{activeIndex:Po});return[M.cloneElement(Wr,or),null,null]}return X?[te,null,null]:[te,null]}),le(T,"renderCustomized",function(P,S,E){return M.cloneElement(P,B(B({key:"recharts-customized-".concat(E)},T.props),T.state))}),le(T,"renderMap",{CartesianGrid:{handler:xh,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:xh},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:xh},YAxis:{handler:xh},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:mf("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=Sj(T.triggeredAfterMouseMove,(I=w.throttleDelay)!==null&&I!==void 0?I:1e3/60),T.state={},T}return Fpe(y,v),Mpe(y,[{key:"componentDidMount",value:function(){var b,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,I=b.children,T=b.data,P=b.height,S=b.layout,E=kn(I,Hn);if(E){var O=E.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,C=j_(this.state,T,O,k),R=this.state.tooltipTicks[O].coordinate,N=(this.state.offset.top+P)/2,V=S==="horizontal",F=V?{x:R,y:N}:{y:R,x:N},W=this.state.formattedGraphicalItems.find(function(L){var z=L.item;return z.type.name==="Scatter"});W&&(F=B(B({},F),W.props.points[O].tooltipPosition),C=W.props.points[O].tooltipPayload);var H={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:k,activePayload:C,activeCoordinate:F};this.setState(H),this.renderCursor(E),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var T,P;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(b){c0([kn(b.children,Hn)],[kn(this.props.children,Hn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=kn(this.props.children,Hn);if(b&&typeof b.props.shared=="boolean"){var I=b.props.shared?"axis":"item";return s.indexOf(I)>=0?I:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var I=this.container,T=I.getBoundingClientRect(),P=cte(T),S={chartX:Math.round(b.pageX-P.left),chartY:Math.round(b.pageY-P.top)},E=T.width/I.offsetWidth||1,O=this.inRange(S.chartX,S.chartY,E);if(!O)return null;var k=this.state,C=k.xAxisMap,R=k.yAxisMap,N=this.getTooltipEventType(),V=cO(this.state,this.props.data,this.props.layout,O);if(N!=="axis"&&C&&R){var F=zi(C).scale,W=zi(R).scale,H=F&&F.invert?F.invert(S.chartX):null,L=W&&W.invert?W.invert(S.chartY):null;return B(B({},S),{},{xValue:H,yValue:L},V)}return V?B(B({},S),V):null}},{key:"inRange",value:function(b,I){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,S=b/T,E=I/T;if(P==="horizontal"||P==="vertical"){var O=this.state.offset,k=S>=O.left&&S<=O.left+O.width&&E>=O.top&&E<=O.top+O.height;return k?{x:S,y:E}:null}var C=this.state,R=C.angleAxisMap,N=C.radiusAxisMap;if(R&&N){var V=zi(R);return CP({x:S,y:E},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,I=this.getTooltipEventType(),T=kn(b,Hn),P={};T&&I==="axis"&&(T.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Rd(this.props,this.handleOuterEvent);return B(B({},S),P)}},{key:"addListener",value:function(){Fy.on(Uy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Fy.removeListener(Uy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,I,T){for(var P=this.state.formattedGraphicalItems,S=0,E=P.length;S<E;S++){var O=P[S];if(O.item===b||O.props.key===b.key||I===li(O.item.type)&&T===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,I=this.state.offset,T=I.left,P=I.top,S=I.height,E=I.width;return D.createElement("defs",null,D.createElement("clipPath",{id:b},D.createElement("rect",{x:T,y:P,height:S,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(I,T){var P=aO(T,2),S=P[0],E=P[1];return B(B({},I),{},le({},S,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(I,T){var P=aO(T,2),S=P[0],E=P[1];return B(B({},I),{},le({},S,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[b])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(b){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[b])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(b){var I=this.state,T=I.formattedGraphicalItems,P=I.activeItem;if(T&&T.length)for(var S=0,E=T.length;S<E;S++){var O=T[S],k=O.props,C=O.item,R=C.type.defaultProps!==void 0?B(B({},C.type.defaultProps),C.props):C.props,N=li(C.type);if(N==="Bar"){var V=(k.data||[]).find(function(L){return Hle(b,L)});if(V)return{graphicalItem:O,payload:V}}else if(N==="RadialBar"){var F=(k.data||[]).find(function(L){return CP(b,L)});if(F)return{graphicalItem:O,payload:F}}else if(tg(O,P)||ng(O,P)||Uc(O,P)){var W=Rce({graphicalItem:O,activeTooltipItem:P,itemData:R.data}),H=R.activeIndex===void 0?W:R.activeIndex;return{graphicalItem:B(B({},O),{},{childIndex:H}),payload:Uc(O,P)?R.data[W]:O.props.data[W]}}}return null}},{key:"render",value:function(){var b=this;if(!yT(this))return null;var I=this.props,T=I.children,P=I.className,S=I.width,E=I.height,O=I.style,k=I.compact,C=I.title,R=I.desc,N=sO(I,Cpe),V=ue(N,!1);if(k)return D.createElement(VI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(h0,us({},V,{width:S,height:E,title:C,desc:R}),this.renderClipPath(),_T(T,this.renderMap)));if(this.props.accessibilityLayer){var F,W;V.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,V.role=(W=this.props.role)!==null&&W!==void 0?W:"application",V.onKeyDown=function(L){b.accessibilityManager.keyboardEvent(L)},V.onFocus=function(){b.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return D.createElement(VI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",us({className:ye("recharts-wrapper",P),style:B({position:"relative",cursor:"default",width:S,height:E},O)},H,{ref:function(z){b.container=z}}),D.createElement(h0,us({},V,{width:S,height:E,title:C,desc:R,style:qpe}),this.renderClipPath(),_T(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(M.Component);le(g,"displayName",n),le(g,"defaultProps",B({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),le(g,"getDerivedStateFromProps",function(v,y){var w=v.dataKey,b=v.data,I=v.children,T=v.width,P=v.height,S=v.layout,E=v.stackOffset,O=v.margin,k=y.dataStartIndex,C=y.dataEndIndex;if(y.updateId===void 0){var R=fO(v);return B(B(B({},R),{},{updateId:0},p(B(B({props:v},R),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:b,prevWidth:T,prevHeight:P,prevLayout:S,prevStackOffset:E,prevMargin:O,prevChildren:I})}if(w!==y.prevDataKey||b!==y.prevData||T!==y.prevWidth||P!==y.prevHeight||S!==y.prevLayout||E!==y.prevStackOffset||!bs(O,y.prevMargin)){var N=fO(v),V={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},F=B(B({},cO(y,b,S)),{},{updateId:y.updateId+1}),W=B(B(B({},N),V),F);return B(B(B({},W),p(B({props:v},W),y)),{},{prevDataKey:w,prevData:b,prevWidth:T,prevHeight:P,prevLayout:S,prevStackOffset:E,prevMargin:O,prevChildren:I})}if(!c0(I,y.prevChildren)){var H,L,z,X,ee=kn(I,tl),Y=ee&&(H=(L=ee.props)===null||L===void 0?void 0:L.startIndex)!==null&&H!==void 0?H:k,ne=ee&&(z=(X=ee.props)===null||X===void 0?void 0:X.endIndex)!==null&&z!==void 0?z:C,xe=Y!==k||ne!==C,Ce=!ve(b),et=Ce&&!xe?y.updateId:y.updateId+1;return B(B({updateId:et},p(B(B({props:v},y),{},{updateId:et,dataStartIndex:Y,dataEndIndex:ne}),y)),{},{prevChildren:I,dataStartIndex:Y,dataEndIndex:ne})}return null}),le(g,"renderActiveDot",function(v,y,w){var b;return M.isValidElement(v)?b=M.cloneElement(v,y):fe(v)?b=v(y):b=D.createElement(E1,y),D.createElement(Ne,{className:"recharts-active-dot",key:w},b)});var m=M.forwardRef(function(y,w){return D.createElement(g,us({},y,{ref:w}))});return m.displayName=g.displayName,m},nme=GM({chartName:"BarChart",GraphicalChild:yo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:lg},{axisType:"yAxis",AxisComp:ug}],formatAxisMap:fhe}),dO=GM({chartName:"PieChart",GraphicalChild:Fr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:eg},{axisType:"radiusAxis",AxisComp:Jm}],formatAxisMap:aae,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const rme=({transactions:t,isDataHidden:e,formatCurrency:n})=>{const r={"income-group":"#3b82f6","income-tutoring":"#10b981","expense-business":"#ef4444","expense-personal":"#f59e0b"},i=[r["income-group"],r["income-tutoring"]],o=[r["expense-business"],r["expense-personal"]],a=M.useMemo(()=>{let l=0,u=0;const c={"income-group":0,"income-tutoring":0},h={"expense-business":0,"expense-personal":0},d={};t.forEach(m=>{const v=m.amount||0,y=m.date.toDate().toLocaleString("en-US",{month:"short",year:"numeric"});d[y]||(d[y]={name:y,income:0,expenses:0}),m.type.startsWith("income")?(l+=v,c[m.type]=(c[m.type]||0)+v,d[y].income+=v):m.type.startsWith("expense")&&(u+=v,h[m.type]=(h[m.type]||0)+v,d[y].expenses+=v)});const p=Object.entries(c).map(([m,v])=>({name:m==="income-group"?"Group":"Tutoring",value:v})).filter(m=>m.value>0),g=Object.entries(h).map(([m,v])=>({name:m==="expense-business"?"Business":"Personal",value:v})).filter(m=>m.value>0);return{totalIncome:l,totalExpenses:u,incomeSourceData:p,expenseBreakdownData:g,monthlySummaryData:Object.values(d).reverse()}},[t]),s=({cx:l,cy:u,midAngle:c,innerRadius:h,outerRadius:d,percent:p,index:g,name:m,value:v})=>{const y=Math.PI/180,w=h+(d-h)*.5,b=l+w*Math.cos(-c*y),I=u+w*Math.sin(-c*y);return x.jsx("text",{x:b,y:I,fill:"white",textAnchor:b>l?"start":"end",dominantBaseline:"central",className:"text-xs font-bold",children:`${m} (${(p*100).toFixed(0)}%)`})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[x.jsx("h3",{className:"text-gray-500 text-sm font-medium uppercase",children:"Total Income"}),x.jsx("p",{className:"text-3xl font-bold text-green-600",children:n(a.totalIncome)})]}),x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[x.jsx("h3",{className:"text-gray-500 text-sm font-medium uppercase",children:"Total Expenses"}),x.jsx("p",{className:"text-3xl font-bold text-red-600",children:n(a.totalExpenses)})]}),x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[x.jsx("h3",{className:"text-gray-500 text-sm font-medium uppercase",children:"Net Profit"}),x.jsx("p",{className:`text-3xl font-bold ${a.totalIncome-a.totalExpenses>=0?"text-blue-600":"text-yellow-500"}`,children:n(a.totalIncome-a.totalExpenses)})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[x.jsx("h3",{className:"font-semibold mb-4 text-gray-800",children:"Income Sources"}),x.jsx(Ey,{width:"100%",height:300,children:x.jsxs(dO,{children:[x.jsx(Fr,{data:a.incomeSourceData,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",labelLine:!1,label:s,children:a.incomeSourceData.map((l,u)=>x.jsx(yc,{fill:i[u%i.length]},`cell-${u}`))}),x.jsx(Hn,{formatter:l=>n(l)})]})})]}),x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[x.jsx("h3",{className:"font-semibold mb-4 text-gray-800",children:"Expense Breakdown"}),x.jsx(Ey,{width:"100%",height:300,children:x.jsxs(dO,{children:[x.jsx(Fr,{data:a.expenseBreakdownData,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#82ca9d",labelLine:!1,label:s,children:a.expenseBreakdownData.map((l,u)=>x.jsx(yc,{fill:o[u%o.length]},`cell-${u}`))}),x.jsx(Hn,{formatter:l=>n(l)})]})})]})]}),x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[x.jsx("h3",{className:"font-semibold mb-4 text-gray-800",children:"Monthly Summary"}),x.jsx(Ey,{width:"100%",height:400,children:x.jsxs(nme,{data:a.monthlySummaryData,margin:{top:20,right:30,left:20,bottom:5},children:[x.jsx(NM,{strokeDasharray:"3 3"}),x.jsx(lg,{dataKey:"name"}),x.jsx(ug,{tickFormatter:l=>`${l/1e3}k`}),x.jsx(Hn,{formatter:l=>n(l)}),x.jsx(ra,{}),x.jsx(yo,{dataKey:"income",fill:"#10b981",name:"Income"}),x.jsx(yo,{dataKey:"expenses",fill:"#ef4444",name:"Expenses"})]})})]})]})},ime=()=>{const{transactions:t}=_n(),[e,n]=M.useState("overview"),[r,i]=M.useState(null),[o,a]=M.useState(!1),s=l=>o?",":new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(l||0);return x.jsxs("div",{className:"p-4 md:p-8",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Finances"}),x.jsx("button",{onClick:()=>a(!o),className:"p-2 rounded-full hover:bg-gray-200"})]}),x.jsx("div",{className:"mb-4 border-b border-gray-200",children:x.jsxs("nav",{className:"flex space-x-4","aria-label":"Tabs",children:[x.jsx("button",{onClick:()=>n("overview"),className:`px-3 py-2 font-medium text-sm rounded-t-lg ${e==="overview"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Overview"}),x.jsx("button",{onClick:()=>n("studentPayments"),className:`px-3 py-2 font-medium text-sm rounded-t-lg ${e==="studentPayments"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Student Payments"}),x.jsx("button",{onClick:()=>n("businessExpenses"),className:`px-3 py-2 font-medium text-sm rounded-t-lg ${e==="businessExpenses"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Business Expenses"}),x.jsx("button",{onClick:()=>n("personalExpenses"),className:`px-3 py-2 font-medium text-sm rounded-t-lg ${e==="personalExpenses"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Personal Expenses"})]})}),x.jsxs("div",{children:[e==="overview"&&x.jsx(rme,{transactions:t,isDataHidden:o,formatCurrency:s}),e==="studentPayments"&&x.jsx(q9,{onStudentSelect:i}),e==="businessExpenses"&&x.jsx(G9,{}),e==="personalExpenses"&&x.jsx(K9,{})]}),r&&x.jsx(H9,{isOpen:!!r,onClose:()=>i(null),student:r})]})},ome=({isOpen:t,onClose:e,eventToEdit:n})=>{const{db:r,userId:i,appId:o}=_n(),a=[];for(let g=0;g<=23;g++)a.push(`${g.toString().padStart(2,"0")}:00`),a.push(`${g.toString().padStart(2,"0")}:30`);const s=M.useCallback(()=>{const g=v=>v&&typeof v.toDate=="function"?v.toDate().toISOString().split("T")[0]:typeof v=="string"&&v?v:"",m=v=>v&&typeof v.toDate=="function"?v.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"09:00";return{eventName:(n==null?void 0:n.eventName)||"",date:g(n==null?void 0:n.startTime)||new Date().toISOString().split("T")[0],startTime:m(n==null?void 0:n.startTime),endTime:m(n==null?void 0:n.endTime),description:(n==null?void 0:n.description)||""}},[n]),[l,u]=M.useState(s()),[c,h]=M.useState(!1);M.useEffect(()=>{t&&u(s())},[t,s]);const d=g=>{const{name:m,value:v}=g.target;u(y=>({...y,[m]:v}))},p=async g=>{g.preventDefault(),h(!0);const{eventName:m,date:v,startTime:y,endTime:w,description:b}=l,[I,T]=y.split(":").map(Number),[P,S]=w.split(":").map(Number),[E,O,k]=v.split("-").map(Number),C=new Date(E,O-1,k,I,T),R=new Date(E,O-1,k,P,S),N={eventName:m,description:b,startTime:Oe.fromDate(C),endTime:Oe.fromDate(R)};try{if(n){const V=Rr(r,"artifacts",o,"users",i,"events",n.id);await fw(V,N,{merge:!0})}else{const V=zt(r,"artifacts",o,"users",i,"events");await mo(V,N)}e()}catch(V){console.error("Error saving event:",V)}finally{h(!1)}};return x.jsx(xo,{isOpen:t,onClose:e,title:n?"Edit Event":"Log New Event",children:x.jsxs("form",{onSubmit:p,children:[x.jsxs(qo,{title:"Event Details",children:[x.jsx("div",{className:"sm:col-span-6",children:x.jsx(Vt,{label:"Event Name",name:"eventName",value:l.eventName,onChange:d,required:!0})}),x.jsx("div",{className:"sm:col-span-6",children:x.jsx(Vt,{label:"Description",name:"description",value:l.description,onChange:d})}),x.jsx("div",{className:"sm:col-span-2",children:x.jsx(na,{label:"Date",name:"date",value:l.date,onChange:d})}),x.jsx("div",{className:"sm:col-span-2",children:x.jsx(Vs,{label:"Start Time",name:"startTime",value:l.startTime,onChange:d,options:a})}),x.jsx("div",{className:"sm:col-span-2",children:x.jsx(Vs,{label:"End Time",name:"endTime",value:l.endTime,onChange:d,options:a})})]}),x.jsxs("div",{className:"flex justify-end pt-8 mt-8 border-t border-gray-200 space-x-4",children:[x.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-lg text-gray-700 bg-gray-200 hover:bg-gray-300",children:"Cancel"}),x.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2 rounded-lg text-white bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed",children:c?"Saving...":"Save Event"})]})]})})},ame=({events:t})=>{const e=Array.from({length:16},(l,u)=>u+8),n=new Date,r=new Date(n);r.setDate(n.getDate()-n.getDay()+(n.getDay()===0?-6:1)),r.setHours(0,0,0,0);const i=Array.from({length:7}).map((l,u)=>{const c=new Date(r);return c.setDate(r.getDate()+u),c}),o=l=>(l.getDay()+6)%7,a=o(new Date),s=l=>{switch(l){case"lesson":return"rgb(59, 130, 246)";case"birthday":return"rgb(236, 72, 153)";case"event":return"rgb(16, 185, 129)";default:return"rgb(107, 114, 128)"}};return x.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:x.jsxs("div",{className:"grid grid-cols-[auto_repeat(7,_minmax(0,_1fr))]",children:[x.jsx("div",{className:"row-start-1 col-start-1"}),i.map((l,u)=>x.jsxs("div",{className:`text-center font-semibold p-2 border-l border-b border-gray-200 ${u===a?"text-blue-600":"text-gray-600"}`,children:[x.jsx("div",{children:l.toLocaleDateString("en-US",{weekday:"short"})}),x.jsx("div",{className:"text-xs font-normal",children:Mn(Oe.fromDate(l))})]},u)),x.jsx("div",{className:"col-start-1 col-span-1 row-start-2 grid",style:{gridTemplateRows:`repeat(${e.length}, minmax(0, 1fr))`},children:e.map(l=>x.jsx("div",{className:"h-16 text-right pr-2 border-t border-gray-200 flex items-center justify-center",children:x.jsx("span",{className:"text-sm text-gray-700",children:`${l.toString().padStart(2,"0")}:00`})},l))}),x.jsxs("div",{className:"col-start-2 col-span-7 row-start-2 grid grid-cols-7 relative",style:{gridTemplateRows:`repeat(${e.length}, minmax(0, 1fr))`},children:[Array.from({length:e.length*7}).map((l,u)=>x.jsx("div",{className:"border-l border-t border-gray-200"},u)),t.map(l=>{const u=l.startTime.toDate(),c=l.type==="lesson"?new Date(u.getTime()+2*60*60*1e3):l.endTime?l.endTime.toDate():new Date(u.getTime()+1*60*60*1e3),h=o(u),d=u.getHours()+u.getMinutes()/60,p=c.getHours()+c.getMinutes()/60;if(p<8||d>23||l.type==="birthday")return null;const g=(Math.max(d,8)-8)/e.length*100,m=(Math.min(p,24)-Math.max(d,8))/e.length*100,v=h/7*100,y=1/7*100;return x.jsxs("div",{className:"absolute p-1 rounded text-white text-xs overflow-hidden mx-px flex flex-col justify-center items-center text-center",style:{top:`${g}%`,height:`${m}%`,left:`${v}%`,width:`calc(${y}% - 2px)`,backgroundColor:s(l.type)},children:[x.jsx("p",{className:"font-bold truncate w-full",children:l.eventName}),x.jsxs("p",{className:"text-white/80 truncate w-full",children:[u.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",c.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]},l.id)})]})]})})},sme=()=>{const{students:t,groups:e,db:n,userId:r,appId:i}=_n(),[o,a]=M.useState(!1),[s,l]=M.useState(!1),[u,c]=M.useState([]),[h,d]=M.useState([]),[p,g]=M.useState([]);M.useEffect(()=>{if(!r||!i)return;const v=new Date,y=new Date(v.getFullYear(),v.getMonth(),v.getDate()),w=new Date(y.getTime()+24*60*60*1e3-1),b=new Date(y),I=b.getDay(),T=b.getDate()-I+(I===0?-6:1);b.setDate(T);const P=new Date(b);P.setDate(b.getDate()+7);const S=R=>{var N;return((N=R.startTime)==null?void 0:N.toMillis())||0},E=()=>{const R=[...window.lessons||[],...window.events||[],...window.birthdays||[]];c(R.filter(N=>S(N)>=v.getTime()&&S(N)<=w.getTime()).sort((N,V)=>S(N)-S(V))),g(R.filter(N=>S(N)>=b.getTime()&&S(N)<P.getTime())),d(R.filter(N=>S(N)>=v.getTime()).sort((N,V)=>S(N)-S(V)))},O=si($s(zt(n,"artifacts",i,"users",r,"lessons"),Ls("lessonDate",">=",y)),R=>{window.lessons=R.docs.map(N=>({id:N.id,type:"lesson",eventName:N.data().topic,startTime:N.data().lessonDate})),E()}),k=si($s(zt(n,"artifacts",i,"users",r,"events"),Ls("startTime",">=",y)),R=>{window.events=R.docs.map(N=>({id:N.id,type:"event",...N.data()})),E()}),C=new Date().getFullYear();return window.birthdays=t.filter(R=>R.birthDate).map(R=>{const N=R.birthDate.toDate();let V=new Date(C,N.getMonth(),N.getDate());return V<y&&V.setFullYear(C+1),{id:`bday-${R.id}`,type:"birthday",eventName:`${R.fullName}'s Birthday`,startTime:Oe.fromDate(V)}}),E(),()=>{O(),k()}},[n,r,i,t]);const m=({type:v})=>{const y={lesson:{path:ze.LESSON,color:"bg-blue-100 text-blue-600"},birthday:{path:ze.CAKE,color:"bg-pink-100 text-pink-600"},event:{path:ze.CALENDAR,color:"bg-green-100 text-green-600"}},{path:w,color:b}=y[v]||y.event;return x.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center mr-4 ${b}`,children:x.jsx(St,{path:w,className:"w-5 h-5"})})};return x.jsxs("div",{className:"p-4 md:p-8",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Dashboard"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex items-center",children:[x.jsx("div",{className:"bg-blue-100 text-blue-600 rounded-full p-3 mr-4",children:x.jsx(St,{path:ze.STUDENTS})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Students"}),x.jsx("p",{className:"text-3xl font-bold text-gray-800",children:t.length})]})]}),x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex items-center",children:[x.jsx("div",{className:"bg-green-100 text-green-600 rounded-full p-3 mr-4",children:x.jsx(St,{path:ze.GROUPS})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Groups"}),x.jsx("p",{className:"text-3xl font-bold text-gray-800",children:e.length})]})]}),x.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white p-6 rounded-lg shadow-md hover:bg-blue-700 transition-colors text-left flex items-center",children:[x.jsx(St,{path:ze.ADD,className:"w-8 h-8 mr-4"}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold",children:"Enroll Student"}),x.jsx("p",{className:"text-sm opacity-80",children:"Add a new student."})]})]}),x.jsxs("button",{onClick:()=>l(!0),className:"bg-green-600 text-white p-6 rounded-lg shadow-md hover:bg-green-700 transition-colors text-left flex items-center",children:[x.jsx(St,{path:ze.CALENDAR,className:"w-8 h-8 mr-4"}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold",children:"Log Event"}),x.jsx("p",{className:"text-sm opacity-80",children:"Add a new event."})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[x.jsxs("div",{className:"lg:col-span-1 bg-white p-6 rounded-lg shadow-md",children:[x.jsx("h3",{className:"font-semibold mb-4 text-gray-800",children:"Today's Schedule"}),u.length>0?x.jsx("ul",{className:"space-y-4",children:u.map(v=>x.jsxs("li",{className:"flex items-center",children:[x.jsx(m,{type:v.type}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-gray-800",children:v.eventName}),x.jsx("p",{className:"text-sm text-gray-500",children:v.startTime.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},v.id))}):x.jsx("p",{className:"text-gray-500 text-center py-4",children:"No events or lessons scheduled for today."})]}),x.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-lg shadow-md",children:[x.jsx("h3",{className:"font-semibold mb-4 text-gray-800",children:"Upcoming Events"}),h.length>0?x.jsx("ul",{className:"space-y-4",children:h.slice(0,5).map((v,y)=>x.jsxs("li",{className:`p-3 rounded-lg flex items-center ${y===0?"bg-blue-50":""}`,children:[x.jsx(m,{type:v.type}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-gray-800",children:v.eventName}),x.jsx("p",{className:"text-sm text-gray-500",children:v.startTime.toDate().toLocaleDateString([],{weekday:"long",month:"long",day:"numeric"})})]})]},v.id))}):x.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming events."})]})]}),x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[x.jsx("h3",{className:"font-semibold mb-4 text-gray-800",children:"Weekly Overview"}),x.jsx(ame,{events:p})]}),x.jsx(sR,{isOpen:o,onClose:()=>a(!1)}),x.jsx(ome,{isOpen:s,onClose:()=>l(!1)})]})},lme=({activeModule:t,setActiveModule:e})=>{const n=[{id:"dashboard",label:"Dashboard",icon:ze.DASHBOARD},{id:"students",label:"Students",icon:ze.STUDENTS},{id:"groups",label:"Groups",icon:ze.GROUPS},{id:"finances",label:"Finances",icon:ze.FINANCES},{id:"documents",label:"Documents",icon:ze.DOCUMENTS},{id:"settings",label:"Settings",icon:ze.SETTINGS}];return x.jsxs("aside",{className:"w-64 bg-gray-800 text-white flex flex-col",children:[x.jsx("div",{className:"h-16 flex items-center justify-center text-2xl font-bold",children:"UDMS"}),x.jsx("nav",{className:"flex-1 px-2 py-4 space-y-2",children:n.map(r=>x.jsxs("a",{href:"#",onClick:()=>e(r.id),className:`flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors ${t===r.id?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[x.jsx(St,{path:r.icon,className:"w-6 h-6 mr-3"}),r.label]},r.id))})]})},ume=({activeModule:t})=>{const e=()=>{switch(t){case"dashboard":return x.jsx(sme,{});case"students":return x.jsx(F9,{});case"groups":return x.jsx(W9,{});case"finances":return x.jsx(ime,{});default:return x.jsx("div",{children:"Select a module"})}};return x.jsx("main",{className:"flex-1 p-10 bg-gray-100 overflow-y-auto",children:e()})},cme=()=>{const{isLoading:t}=_n(),[e,n]=M.useState("dashboard");return t?x.jsx("div",{children:"Loading..."}):x.jsxs("div",{className:"flex h-screen bg-gray-100",children:[x.jsx(lme,{activeModule:e,setActiveModule:n}),x.jsx(ume,{activeModule:e})]})};function fme(){return x.jsx(L9,{children:x.jsx(cme,{})})}zy.createRoot(document.getElementById("root")).render(x.jsx(D.StrictMode,{children:x.jsx(fme,{})}));
